external	procedure RateField(real,real,real,string,integer,string,boolean,real,real,string,boolean);
external	function boolean AddBicToMasterWindow(integer,var real,var real,real,real,real,real);
external	function Boolean IsIntEnabActive(var string,var string,var Boolean,var string);
external	function Boolean TouchScreenLookVertical();
external	procedure ARS2RClass_Def();
external	procedure ALLVATRClass_Def();
external	procedure SysEClass_Tool(Integer,var real,var real);
external	procedure GTransEClass_Tool(Integer,var real,var real);
external	procedure GTrans2EClass_Tool(Integer,var real,var real,var real);
external	procedure GBaseEClass_Tool(Integer,var real,var real);
external	procedure TransGenVClass_Tool(Integer,var real,var real);
external	procedure GetCurUser(var record UserVc);
external	procedure JobRClass_RUS();
external	function string 60 UserDefined(string,string);
external outer function string 255 MasterBannerURL();
external	procedure ItemStatusUserSettings(string,var Boolean,var Boolean,var Boolean,var Boolean,var Boolean,var Boolean,var Boolean,var Boolean,var Boolean,var Boolean,var Boolean,var Boolean,var Boolean,var Boolean);
external	function Boolean AllowedInCountry(integer);
external	function Integer ResourceWindowResourceType();
external	function Boolean ResPlan_Rental();
external	function Boolean ResPlan_ProdOperations();
remote function Boolean ReadPOSButtons(string,string,longint,var string,var string,var string,var record POSButtonsVc,var Integer);
external	function Boolean TouchScreenLook();
external	procedure ExtractObj(string,var Integer,var string);
external	function Boolean IsSessionOpen(string,string,Date,Time);
external	procedure CntNPTSPaymentCurrencies(var Array string,var Array string,var Array Integer,var Array string,var Integer);
remote procedure CntPOSCurrencies(var Array string,var Array Boolean,var Integer);
external	function Boolean CheckOffLineRecords(Boolean);
external	function string 60 TileUserDefined(string,Integer,var Integer);
external	function Boolean CUVATNrColumn;
external	function Integer GetInternetEnablerCountry();
external	function Integer CntVarietyCode(Integer,var Array string);
external	function Boolean UseTaxTemplatesforTaxCalc();
remote procedure TablesViewWClassDo(record LocalMachineBlock,string,Array string,Array string,Array string,Array string,Array Integer,var Integer,var LongInt);
external	function string 20 GetMenuCode(string);
external	procedure DrawModifierButtons(var Integer);
remote procedure ForkLiftQueueArray(string,string,var Array string,var Array string,var Array string,var Array string,var Array val,var Array Integer,var Array string,var Integer,Boolean,LongInt,LongInt,string);

external	function Boolean DisplayLoginButtons();
external	function Integer LoginShortcutsLines(Integer);
external	function Integer LoginShortcutsPos(Real,Integer);

external	procedure DefineTTRRowTypes(Integer);
external	function real ItemButtons(string,Integer);
external	procedure HWStoreWClassAddProducts(Integer);
external	function Boolean HasCharts();
external	function Boolean HasNewRegistration();
external	function Boolean ActivityIsForAcceptanceOrFYI(record ActVc,Boolean,Boolean);
// TravelLog
external	function Integer LoginShortcuts();
external	function Boolean TestConfigurationEnabler(string);
remote function Integer CustomerSalesPaymentTermType(string);
// POS Standalone
external	function Boolean DefCustCodeSetup();
// in-apps
external	function Boolean HasInAppsAvailable();
external	function Integer CountCountries();

// Language functions ENG
external	function Boolean DisplayLoginKeyPad_ENG();
external	function string 255 VATZoneEditFieldLabelENG(Integer);
external	function real VATZoneButtonsLabelsENG(real,real,real,real);
external	procedure LoginButtons2_ENG(Real,Real);
external	procedure FORMDEF_ENG();
external	function string 255 DemoMsgWClassTitle_ENG(Boolean,Boolean);
external	procedure TBEClassDef_ENG();
external	function string 255 VATZoneNameENG();
external	procedure TSERW_ENG();
external	procedure TSERWNT_ENG();
external	procedure TSERWTouch_ENG();
external	procedure TSERWTEST_ENG();
external	procedure INVFORM_ENG(Boolean);
external	procedure DisplayRecordDetails_ENG(LongInt,LongInt,string,date,time,string,string,string,string,string,string,string,string,string,string,string,Integer,string,string,string,val,string,Boolean,string,string);
external	procedure DrawPOSInterface_ENG(string,string,record POSButtonsVc,Integer,string,Integer);
external	procedure DisplayRecordDetailsCustDisplay_ENG(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,string,string,val);
external	function string 255 ResDayWClassWindowTitle_ENG();
external	function string 255 ResMonWClassWindowTitle_ENG();
external	function string 255 RTMonWClassWindowTitle_ENG();
external	procedure SetupNightAuditWindowControls_ENG(Boolean);
external	procedure CURClassDefinitionENG();
external	function real DrawPaymentModesButtons_IV_ENG(real);
external	function real FunctionButtons_ENG(string);
external	procedure CreditCardWindowHeader_ENG(Boolean,Boolean,Real);
external	procedure CreditCardWindowButtons_ENG(string,string,real);
external	procedure CreditCardWindowInvoiceDetail_ENG(Real);
external	procedure CreditCardWindowDeliveryDetail_ENG(Real);
external	function real DrawPaymentModesButtons_ENG();
external	procedure DrawBarMenuTiles_ENG(string);
external	procedure DrawRestPMOtherPay_ENG();
external	procedure DisplayRecordDetailsRA_ENG(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,LongInt,Date,string,LongInt,string);
external	procedure DrawModifierButtons2_ENG(var integer,var integer);
external	procedure OKCancel_ENG();
external	procedure DefineElearningURLCacheLClass_ENG();
external	procedure DefineElearningURLCacheDClass_ENG();
external	function real TravelLogDeductions_ENG(real,real);
external	procedure LoginButtons_ENG(Real);
external	procedure FORMDEF2_ENG();
external	procedure FORMDEF3_ENG();
external	procedure ARS2RClass_ENG();
external	procedure ALLVATRClass_ENG();

// Language functions ARB
external	function Boolean DisplayLoginKeyPad_ARB();
external	function string 255 VATZoneEditFieldLabelARB(Integer);
external	function real VATZoneButtonsLabelsARB(real,real,real,real);
external	procedure LoginButtons2_ARB(Real,Real);
external	procedure FORMDEF_ARB();
external	function string 255 DemoMsgWClassTitle_ARB(Boolean,Boolean);
external	procedure TBEClassDef_ARB();
external	function string 255 VATZoneNameARB();
external	procedure TSERW_ARB();
external	procedure TSERWNT_ARB();
external	procedure TSERWTouch_ARB();
external	procedure TSERWTEST_ARB();
external	procedure INVFORM_ARB(Boolean);
external	procedure DisplayRecordDetails_ARB(LongInt,LongInt,string,date,time,string,string,string,string,string,string,string,string,string,string,string,Integer,string,string,string,val,string,Boolean,string,string);
external	procedure DrawPOSInterface_ARB(string,string,record POSButtonsVc,Integer,string,Integer);
external	procedure DisplayRecordDetailsCustDisplay_ARB(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,string,string,val);
external	function string 255 ResDayWClassWindowTitle_ARB();
external	function string 255 ResMonWClassWindowTitle_ARB();
external	function string 255 RTMonWClassWindowTitle_ARB();
external	procedure SetupNightAuditWindowControls_ARB(Boolean);
external	procedure CURClassDefinitionARB();
external	function real DrawPaymentModesButtons_IV_ARB(real);
external	function real FunctionButtons_ARB(string);
external	procedure CreditCardWindowHeader_ARB(Boolean,Boolean,Real);
external	procedure CreditCardWindowButtons_ARB(string,string,real);
external	procedure CreditCardWindowInvoiceDetail_ARB(Real);
external	procedure CreditCardWindowDeliveryDetail_ARB(Real);
external	function real DrawPaymentModesButtons_ARB();
external	procedure DrawBarMenuTiles_ARB(string);
external	procedure DrawRestPMOtherPay_ARB();
external	procedure DisplayRecordDetailsRA_ARB(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,LongInt,Date,string,LongInt,string);
external	procedure DrawModifierButtons2_ARB(var integer,var integer);
external	procedure OKCancel_ARB();
external	procedure DefineElearningURLCacheLClass_ARB();
external	procedure DefineElearningURLCacheDClass_ARB();
external	function real TravelLogDeductions_ARB(real,real);
external	procedure LoginButtons_ARB(Real);
external	procedure FORMDEF2_ARB();
external	procedure FORMDEF3_ARB();
external	procedure ARS2RClass_ARB();
external	procedure ALLVATRClass_ARB();

// Language functions AUS
external	function Boolean DisplayLoginKeyPad_AUS();
external	function string 255 VATZoneEditFieldLabelAUS(Integer);
external	function real VATZoneButtonsLabelsAUS(real,real,real,real);
external	procedure LoginButtons2_AUS(Real,Real);
external	procedure FORMDEF_AUS();
external	function string 255 DemoMsgWClassTitle_AUS(Boolean,Boolean);
external	procedure TBEClassDef_AUS();
external	function string 255 VATZoneNameAUS();
external	procedure TSERW_AUS();
external	procedure TSERWNT_AUS();
external	procedure TSERWTouch_AUS();
external	procedure TSERWTEST_AUS();
external	procedure INVFORM_AUS(Boolean);
external	procedure DisplayRecordDetails_AUS(LongInt,LongInt,string,date,time,string,string,string,string,string,string,string,string,string,string,string,Integer,string,string,string,val,string,Boolean,string,string);
external	procedure DrawPOSInterface_AUS(string,string,record POSButtonsVc,Integer,string,Integer);
external	procedure DisplayRecordDetailsCustDisplay_AUS(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,string,string,val);
external	function string 255 ResDayWClassWindowTitle_AUS();
external	function string 255 ResMonWClassWindowTitle_AUS();
external	function string 255 RTMonWClassWindowTitle_AUS();
external	procedure SetupNightAuditWindowControls_AUS(Boolean);
external	procedure CURClassDefinitionAUS();
external	function real DrawPaymentModesButtons_IV_AUS(real);
external	function real FunctionButtons_AUS(string);
external	procedure CreditCardWindowHeader_AUS(Boolean,Boolean,Real);
external	procedure CreditCardWindowButtons_AUS(string,string,real);
external	procedure CreditCardWindowInvoiceDetail_AUS(Real);
external	procedure CreditCardWindowDeliveryDetail_AUS(Real);
external	function real DrawPaymentModesButtons_AUS();
external	procedure DrawBarMenuTiles_AUS(string);
external	procedure DrawRestPMOtherPay_AUS();
external	procedure DisplayRecordDetailsRA_AUS(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,LongInt,Date,string,LongInt,string);
external	procedure DrawModifierButtons2_AUS(var integer,var integer);
external	procedure OKCancel_AUS();
external	procedure DefineElearningURLCacheLClass_AUS();
external	procedure DefineElearningURLCacheDClass_AUS();
external	function real TravelLogDeductions_AUS(real,real);
external	procedure LoginButtons_AUS(Real);
external	procedure FORMDEF2_AUS();
external	procedure FORMDEF3_AUS();
external	procedure ARS2RClass_AUS();
external	procedure ALLVATRClass_AUS();

// Language functions BRA
external	function Boolean DisplayLoginKeyPad_BRA();
external	function string 255 VATZoneEditFieldLabelBRA(Integer);
external	function real VATZoneButtonsLabelsBRA(real,real,real,real);
external	procedure LoginButtons2_BRA(Real,Real);
external	procedure FORMDEF_BRA();
external	function string 255 DemoMsgWClassTitle_BRA(Boolean,Boolean);
external	procedure TBEClassDef_BRA();
external	function string 255 VATZoneNameBRA();
external	procedure TSERW_BRA();
external	procedure TSERWNT_BRA();
external	procedure TSERWTouch_BRA();
external	procedure TSERWTEST_BRA();
external	procedure INVFORM_BRA(Boolean);
external	procedure DisplayRecordDetails_BRA(LongInt,LongInt,string,date,time,string,string,string,string,string,string,string,string,string,string,string,Integer,string,string,string,val,string,Boolean,string,string);
external	procedure DrawPOSInterface_BRA(string,string,record POSButtonsVc,Integer,string,Integer);
external	procedure DisplayRecordDetailsCustDisplay_BRA(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,string,string,val);
external	function string 255 ResDayWClassWindowTitle_BRA();
external	function string 255 ResMonWClassWindowTitle_BRA();
external	function string 255 RTMonWClassWindowTitle_BRA();
external	procedure SetupNightAuditWindowControls_BRA(Boolean);
external	procedure CURClassDefinitionBRA();
external	function real DrawPaymentModesButtons_IV_BRA(real);
external	function real FunctionButtons_BRA(string);
external	procedure CreditCardWindowHeader_BRA(Boolean,Boolean,Real);
external	procedure CreditCardWindowButtons_BRA(string,string,real);
external	procedure CreditCardWindowInvoiceDetail_BRA(Real);
external	procedure CreditCardWindowDeliveryDetail_BRA(Real);
external	function real DrawPaymentModesButtons_BRA();
external	procedure DrawBarMenuTiles_BRA(string);
external	procedure DrawRestPMOtherPay_BRA();
external	procedure DisplayRecordDetailsRA_BRA(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,LongInt,Date,string,LongInt,string);
external	procedure DrawModifierButtons2_BRA(var integer,var integer);
external	procedure OKCancel_BRA();
external	procedure DefineElearningURLCacheLClass_BRA();
external	procedure DefineElearningURLCacheDClass_BRA();
external	function real TravelLogDeductions_BRA(real,real);
external	procedure LoginButtons_BRA(Real);
external	procedure FORMDEF2_BRA();
external	procedure FORMDEF3_BRA();
external	procedure ARS2RClass_BRA();
external	procedure ALLVATRClass_BRA();

// Language functions CAN
external	function Boolean DisplayLoginKeyPad_CAN();
external	function string 255 VATZoneEditFieldLabelCAN(Integer);
external	function real VATZoneButtonsLabelsCAN(real,real,real,real);
external	procedure LoginButtons2_CAN(Real,Real);
external	procedure FORMDEF_CAN();
external	function string 255 DemoMsgWClassTitle_CAN(Boolean,Boolean);
external	procedure TBEClassDef_CAN();
external	function string 255 VATZoneNameCAN();
external	procedure TSERW_CAN();
external	procedure TSERWNT_CAN();
external	procedure TSERWTouch_CAN();
external	procedure TSERWTEST_CAN();
external	procedure INVFORM_CAN(Boolean);
external	procedure DisplayRecordDetails_CAN(LongInt,LongInt,string,date,time,string,string,string,string,string,string,string,string,string,string,string,Integer,string,string,string,val,string,Boolean,string,string);
external	procedure DrawPOSInterface_CAN(string,string,record POSButtonsVc,Integer,string,Integer);
external	procedure DisplayRecordDetailsCustDisplay_CAN(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,string,string,val);
external	function string 255 ResDayWClassWindowTitle_CAN();
external	function string 255 ResMonWClassWindowTitle_CAN();
external	function string 255 RTMonWClassWindowTitle_CAN();
external	procedure SetupNightAuditWindowControls_CAN(Boolean);
external	procedure CURClassDefinitionCAN();
external	function real DrawPaymentModesButtons_IV_CAN(real);
external	function real FunctionButtons_CAN(string);
external	procedure CreditCardWindowHeader_CAN(Boolean,Boolean,Real);
external	procedure CreditCardWindowButtons_CAN(string,string,real);
external	procedure CreditCardWindowInvoiceDetail_CAN(Real);
external	procedure CreditCardWindowDeliveryDetail_CAN(Real);
external	function real DrawPaymentModesButtons_CAN();
external	procedure DrawBarMenuTiles_CAN(string);
external	procedure DrawRestPMOtherPay_CAN();
external	procedure DisplayRecordDetailsRA_CAN(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,LongInt,Date,string,LongInt,string);
external	procedure DrawModifierButtons2_CAN(var integer,var integer);
external	procedure OKCancel_CAN();
external	procedure DefineElearningURLCacheLClass_CAN();
external	procedure DefineElearningURLCacheDClass_CAN();
external	function real TravelLogDeductions_CAN(real,real);
external	procedure LoginButtons_CAN(Real);
external	procedure FORMDEF2_CAN();
external	procedure FORMDEF3_CAN();
external	procedure ARS2RClass_CAN();
external	procedure ALLVATRClass_CAN();

// Language functions CRO
external	function Boolean DisplayLoginKeyPad_CRO();
external	function string 255 VATZoneEditFieldLabelCRO(Integer);
external	function real VATZoneButtonsLabelsCRO(real,real,real,real);
external	procedure LoginButtons2_CRO(Real,Real);
external	procedure FORMDEF_CRO();
external	function string 255 DemoMsgWClassTitle_CRO(Boolean,Boolean);
external	procedure TBEClassDef_CRO();
external	function string 255 VATZoneNameCRO();
external	procedure TSERW_CRO();
external	procedure TSERWNT_CRO();
external	procedure TSERWTouch_CRO();
external	procedure TSERWTEST_CRO();
external	procedure INVFORM_CRO(Boolean);
external	procedure DisplayRecordDetails_CRO(LongInt,LongInt,string,date,time,string,string,string,string,string,string,string,string,string,string,string,Integer,string,string,string,val,string,Boolean,string,string);
external	procedure DrawPOSInterface_CRO(string,string,record POSButtonsVc,Integer,string,Integer);
external	procedure DisplayRecordDetailsCustDisplay_CRO(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,string,string,val);
external	function string 255 ResDayWClassWindowTitle_CRO();
external	function string 255 ResMonWClassWindowTitle_CRO();
external	function string 255 RTMonWClassWindowTitle_CRO();
external	procedure SetupNightAuditWindowControls_CRO(Boolean);
external	procedure CURClassDefinitionCRO();
external	function real DrawPaymentModesButtons_IV_CRO(real);
external	function real FunctionButtons_CRO(string);
external	procedure CreditCardWindowHeader_CRO(Boolean,Boolean,Real);
external	procedure CreditCardWindowButtons_CRO(string,string,real);
external	procedure CreditCardWindowInvoiceDetail_CRO(Real);
external	procedure CreditCardWindowDeliveryDetail_CRO(Real);
external	function real DrawPaymentModesButtons_CRO();
external	procedure DrawBarMenuTiles_CRO(string);
external	procedure DrawRestPMOtherPay_CRO();
external	procedure DisplayRecordDetailsRA_CRO(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,LongInt,Date,string,LongInt,string);
external	procedure DrawModifierButtons2_CRO(var integer,var integer);
external	procedure OKCancel_CRO();
external	procedure DefineElearningURLCacheLClass_CRO();
external	procedure DefineElearningURLCacheDClass_CRO();
external	function real TravelLogDeductions_CRO(real,real);
external	procedure LoginButtons_CRO(Real);
external	procedure FORMDEF2_CRO();
external	procedure FORMDEF3_CRO();
external	procedure ARS2RClass_CRO();
external	procedure ALLVATRClass_CRO();

// Language functions CHI
external	function Boolean DisplayLoginKeyPad_CHI();
external	function string 255 VATZoneEditFieldLabelCHI(Integer);
external	function real VATZoneButtonsLabelsCHI(real,real,real,real);
external	procedure LoginButtons2_CHI(Real,Real);
external	procedure FORMDEF_CHI();
external	function string 255 DemoMsgWClassTitle_CHI(Boolean,Boolean);
external	procedure TBEClassDef_CHI();
external	function string 255 VATZoneNameCHI();
external	procedure TSERW_CHI();
external	procedure TSERWNT_CHI();
external	procedure TSERWTouch_CHI();
external	procedure TSERWTEST_CHI();
external	procedure INVFORM_CHI(Boolean);
external	procedure DisplayRecordDetails_CHI(LongInt,LongInt,string,date,time,string,string,string,string,string,string,string,string,string,string,string,Integer,string,string,string,val,string,Boolean,string,string);
external	procedure DrawPOSInterface_CHI(string,string,record POSButtonsVc,Integer,string,Integer);
external	procedure DisplayRecordDetailsCustDisplay_CHI(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,string,string,val);
external	function string 255 ResDayWClassWindowTitle_CHI();
external	function string 255 ResMonWClassWindowTitle_CHI();
external	function string 255 RTMonWClassWindowTitle_CHI();
external	procedure SetupNightAuditWindowControls_CHI(Boolean);
external	procedure CURClassDefinitionCHI();
external	function real DrawPaymentModesButtons_IV_CHI(real);
external	function real FunctionButtons_CHI(string);
external	procedure CreditCardWindowHeader_CHI(Boolean,Boolean,Real);
external	procedure CreditCardWindowButtons_CHI(string,string,real);
external	procedure CreditCardWindowInvoiceDetail_CHI(Real);
external	procedure CreditCardWindowDeliveryDetail_CHI(Real);
external	function real DrawPaymentModesButtons_CHI();
external	procedure DrawBarMenuTiles_CHI(string);
external	procedure DrawRestPMOtherPay_CHI();
external	procedure DisplayRecordDetailsRA_CHI(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,LongInt,Date,string,LongInt,string);
external	procedure DrawModifierButtons2_CHI(var integer,var integer);
external	procedure OKCancel_CHI();
external	procedure DefineElearningURLCacheLClass_CHI();
external	procedure DefineElearningURLCacheDClass_CHI();
external	function real TravelLogDeductions_CHI(real,real);
external	procedure LoginButtons_CHI(Real);
external	procedure FORMDEF2_CHI();
external	procedure FORMDEF3_CHI();
external	procedure ARS2RClass_CHI();
external	procedure ALLVATRClass_CHI();

// Language functions CZE
external	function Boolean DisplayLoginKeyPad_CZE();
external	function string 255 VATZoneEditFieldLabelCZE(Integer);
external	function real VATZoneButtonsLabelsCZE(real,real,real,real);
external	procedure LoginButtons2_CZE(Real,Real);
external	procedure FORMDEF_CZE();
external	function string 255 DemoMsgWClassTitle_CZE(Boolean,Boolean);
external	procedure TBEClassDef_CZE();
external	function string 255 VATZoneNameCZE();
external	procedure TSERW_CZE();
external	procedure TSERWNT_CZE();
external	procedure TSERWTouch_CZE();
external	procedure TSERWTEST_CZE();
external	procedure INVFORM_CZE(Boolean);
external	procedure DisplayRecordDetails_CZE(LongInt,LongInt,string,date,time,string,string,string,string,string,string,string,string,string,string,string,Integer,string,string,string,val,string,Boolean,string,string);
external	procedure DrawPOSInterface_CZE(string,string,record POSButtonsVc,Integer,string,Integer);
external	procedure DisplayRecordDetailsCustDisplay_CZE(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,string,string,val);
external	function string 255 ResDayWClassWindowTitle_CZE();
external	function string 255 ResMonWClassWindowTitle_CZE();
external	function string 255 RTMonWClassWindowTitle_CZE();
external	procedure SetupNightAuditWindowControls_CZE(Boolean);
external	procedure CURClassDefinitionCZE();
external	function real DrawPaymentModesButtons_IV_CZE(real);
external	function real FunctionButtons_CZE(string);
external	procedure CreditCardWindowHeader_CZE(Boolean,Boolean,Real);
external	procedure CreditCardWindowButtons_CZE(string,string,real);
external	procedure CreditCardWindowInvoiceDetail_CZE(Real);
external	procedure CreditCardWindowDeliveryDetail_CZE(Real);
external	function real DrawPaymentModesButtons_CZE();
external	procedure DrawBarMenuTiles_CZE(string);
external	procedure DrawRestPMOtherPay_CZE();
external	procedure DisplayRecordDetailsRA_CZE(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,LongInt,Date,string,LongInt,string);
external	procedure DrawModifierButtons2_CZE(var integer,var integer);
external	procedure OKCancel_CZE();
external	procedure DefineElearningURLCacheLClass_CZE();
external	procedure DefineElearningURLCacheDClass_CZE();
external	function real TravelLogDeductions_CZE(real,real);
external	procedure LoginButtons_CZE(Real);
external	procedure FORMDEF2_CZE();
external	procedure FORMDEF3_CZE();
external	procedure ARS2RClass_CZE();
external	procedure ALLVATRClass_CZE();

// Language functions DAN
external	function Boolean DisplayLoginKeyPad_DAN();
external	function string 255 VATZoneEditFieldLabelDAN(Integer);
external	function real VATZoneButtonsLabelsDAN(real,real,real,real);
external	procedure LoginButtons2_DAN(Real,Real);
external	procedure FORMDEF_DAN();
external	function string 255 DemoMsgWClassTitle_DAN(Boolean,Boolean);
external	procedure TBEClassDef_DAN();
external	function string 255 VATZoneNameDAN();
external	procedure TSERW_DAN();
external	procedure TSERWNT_DAN();
external	procedure TSERWTouch_DAN();
external	procedure TSERWTEST_DAN();
external	procedure INVFORM_DAN(Boolean);
external	procedure DisplayRecordDetails_DAN(LongInt,LongInt,string,date,time,string,string,string,string,string,string,string,string,string,string,string,Integer,string,string,string,val,string,Boolean,string,string);
external	procedure DrawPOSInterface_DAN(string,string,record POSButtonsVc,Integer,string,Integer);
external	procedure DisplayRecordDetailsCustDisplay_DAN(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,string,string,val);
external	function string 255 ResDayWClassWindowTitle_DAN();
external	function string 255 ResMonWClassWindowTitle_DAN();
external	function string 255 RTMonWClassWindowTitle_DAN();
external	procedure SetupNightAuditWindowControls_DAN(Boolean);
external	procedure CURClassDefinitionDAN();
external	function real DrawPaymentModesButtons_IV_DAN(real);
external	function real FunctionButtons_DAN(string);
external	procedure CreditCardWindowHeader_DAN(Boolean,Boolean,Real);
external	procedure CreditCardWindowButtons_DAN(string,string,real);
external	procedure CreditCardWindowInvoiceDetail_DAN(Real);
external	procedure CreditCardWindowDeliveryDetail_DAN(Real);
external	function real DrawPaymentModesButtons_DAN();
external	procedure DrawBarMenuTiles_DAN(string);
external	procedure DrawRestPMOtherPay_DAN();
external	procedure DisplayRecordDetailsRA_DAN(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,LongInt,Date,string,LongInt,string);
external	procedure DrawModifierButtons2_DAN(var integer,var integer);
external	procedure OKCancel_DAN();
external	procedure DefineElearningURLCacheLClass_DAN();
external	procedure DefineElearningURLCacheDClass_DAN();
external	function real TravelLogDeductions_DAN(real,real);
external	procedure LoginButtons_DAN(Real);
external	procedure FORMDEF2_DAN();
external	procedure FORMDEF3_DAN();
external	procedure ARS2RClass_DAN();
external	procedure ALLVATRClass_DAN();

// Language functions ESP
external	function Boolean DisplayLoginKeyPad_ESP();
external	function string 255 VATZoneEditFieldLabelESP(Integer);
external	function real VATZoneButtonsLabelsESP(real,real,real,real);
external	procedure LoginButtons2_ESP(Real,Real);
external	procedure FORMDEF_ESP();
external	function string 255 DemoMsgWClassTitle_ESP(Boolean,Boolean);
external	procedure TBEClassDef_ESP();
external	function string 255 VATZoneNameESP();
external	procedure TSERW_ESP();
external	procedure TSERWNT_ESP();
external	procedure TSERWTouch_ESP();
external	procedure TSERWTEST_ESP();
external	procedure INVFORM_ESP(Boolean);
external	procedure DisplayRecordDetails_ESP(LongInt,LongInt,string,date,time,string,string,string,string,string,string,string,string,string,string,string,Integer,string,string,string,val,string,Boolean,string,string);
external	procedure DrawPOSInterface_ESP(string,string,record POSButtonsVc,Integer,string,Integer);
external	procedure DisplayRecordDetailsCustDisplay_ESP(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,string,string,val);
external	function string 255 ResDayWClassWindowTitle_ESP();
external	function string 255 ResMonWClassWindowTitle_ESP();
external	function string 255 RTMonWClassWindowTitle_ESP();
external	procedure SetupNightAuditWindowControls_ESP(Boolean);
external	procedure CURClassDefinitionESP();
external	function real DrawPaymentModesButtons_IV_ESP(real);
external	function real FunctionButtons_ESP(string);
external	procedure CreditCardWindowHeader_ESP(Boolean,Boolean,Real);
external	procedure CreditCardWindowButtons_ESP(string,string,real);
external	procedure CreditCardWindowInvoiceDetail_ESP(Real);
external	procedure CreditCardWindowDeliveryDetail_ESP(Real);
external	function real DrawPaymentModesButtons_ESP();
external	procedure DrawBarMenuTiles_ESP(string);
external	procedure DrawRestPMOtherPay_ESP();
external	procedure DisplayRecordDetailsRA_ESP(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,LongInt,Date,string,LongInt,string);
external	procedure DrawModifierButtons2_ESP(var integer,var integer);
external	procedure OKCancel_ESP();
external	procedure DefineElearningURLCacheLClass_ESP();
external	procedure DefineElearningURLCacheDClass_ESP();
external	function real TravelLogDeductions_ESP(real,real);
external	procedure LoginButtons_ESP(Real);
external	procedure FORMDEF2_ESP();
external	procedure FORMDEF3_ESP();
external	procedure ARS2RClass_ESP();
external	procedure ALLVATRClass_ESP();

// Language functions EST
external	function Boolean DisplayLoginKeyPad_EST();
external	function string 255 VATZoneEditFieldLabelEST(Integer);
external	function real VATZoneButtonsLabelsEST(real,real,real,real);
external	procedure LoginButtons2_EST(Real,Real);
external	procedure FORMDEF_EST();
external	function string 255 DemoMsgWClassTitle_EST(Boolean,Boolean);
external	procedure TBEClassDef_EST();
external	function string 255 VATZoneNameEST();
external	procedure TSERW_EST();
external	procedure TSERWNT_EST();
external	procedure TSERWTouch_EST();
external	procedure TSERWTEST_EST();
external	procedure INVFORM_EST(Boolean);
external	procedure DisplayRecordDetails_EST(LongInt,LongInt,string,date,time,string,string,string,string,string,string,string,string,string,string,string,Integer,string,string,string,val,string,Boolean,string,string);
external	procedure DrawPOSInterface_EST(string,string,record POSButtonsVc,Integer,string,Integer);
external	procedure DisplayRecordDetailsCustDisplay_EST(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,string,string,val);
external	function string 255 ResDayWClassWindowTitle_EST();
external	function string 255 ResMonWClassWindowTitle_EST();
external	function string 255 RTMonWClassWindowTitle_EST();
external	procedure SetupNightAuditWindowControls_EST(Boolean);
external	procedure CURClassDefinitionEST();
external	function real DrawPaymentModesButtons_IV_EST(real);
external	function real FunctionButtons_EST(string);
external	procedure CreditCardWindowHeader_EST(Boolean,Boolean,Real);
external	procedure CreditCardWindowButtons_EST(string,string,real);
external	procedure CreditCardWindowInvoiceDetail_EST(Real);
external	procedure CreditCardWindowDeliveryDetail_EST(Real);
external	function real DrawPaymentModesButtons_EST();
external	procedure DrawBarMenuTiles_EST(string);
external	procedure DrawRestPMOtherPay_EST();
external	procedure DisplayRecordDetailsRA_EST(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,LongInt,Date,string,LongInt,string);
external	procedure DrawModifierButtons2_EST(var integer,var integer);
external	procedure OKCancel_EST();
external	procedure DefineElearningURLCacheLClass_EST();
external	procedure DefineElearningURLCacheDClass_EST();
external	function real TravelLogDeductions_EST(real,real);
external	procedure LoginButtons_EST(Real);
external	procedure FORMDEF2_EST();
external	procedure FORMDEF3_EST();
external	procedure ARS2RClass_EST();
external	procedure ALLVATRClass_EST();

// Language functions FIN
external	function Boolean DisplayLoginKeyPad_FIN();
external	function string 255 VATZoneEditFieldLabelFIN(Integer);
external	function real VATZoneButtonsLabelsFIN(real,real,real,real);
external	procedure LoginButtons2_FIN(Real,Real);
external	procedure FORMDEF_FIN();
external	function string 255 DemoMsgWClassTitle_FIN(Boolean,Boolean);
external	procedure TBEClassDef_FIN();
external	function string 255 VATZoneNameFIN();
external	procedure TSERW_FIN();
external	procedure TSERWNT_FIN();
external	procedure TSERWTouch_FIN();
external	procedure TSERWTEST_FIN();
external	procedure INVFORM_FIN(Boolean);
external	procedure DisplayRecordDetails_FIN(LongInt,LongInt,string,date,time,string,string,string,string,string,string,string,string,string,string,string,Integer,string,string,string,val,string,Boolean,string,string);
external	procedure DrawPOSInterface_FIN(string,string,record POSButtonsVc,Integer,string,Integer);
external	procedure DisplayRecordDetailsCustDisplay_FIN(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,string,string,val);
external	function string 255 ResDayWClassWindowTitle_FIN();
external	function string 255 ResMonWClassWindowTitle_FIN();
external	function string 255 RTMonWClassWindowTitle_FIN();
external	procedure SetupNightAuditWindowControls_FIN(Boolean);
external	procedure CURClassDefinitionFIN();
external	function real DrawPaymentModesButtons_IV_FIN(real);
external	function real FunctionButtons_FIN(string);
external	procedure CreditCardWindowHeader_FIN(Boolean,Boolean,Real);
external	procedure CreditCardWindowButtons_FIN(string,string,real);
external	procedure CreditCardWindowInvoiceDetail_FIN(Real);
external	procedure CreditCardWindowDeliveryDetail_FIN(Real);
external	function real DrawPaymentModesButtons_FIN();
external	procedure DrawBarMenuTiles_FIN(string);
external	procedure DrawRestPMOtherPay_FIN();
external	procedure DisplayRecordDetailsRA_FIN(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,LongInt,Date,string,LongInt,string);
external	procedure DrawModifierButtons2_FIN(var integer,var integer);
external	procedure OKCancel_FIN();
external	procedure DefineElearningURLCacheLClass_FIN();
external	procedure DefineElearningURLCacheDClass_FIN();
external	function real TravelLogDeductions_FIN(real,real);
external	procedure LoginButtons_FIN(Real);
external	procedure FORMDEF2_FIN();
external	procedure FORMDEF3_FIN();
external	procedure ARS2RClass_FIN();
external	procedure ALLVATRClass_FIN();

// Language functions FRA
external	function Boolean DisplayLoginKeyPad_FRA();
external	function string 255 VATZoneEditFieldLabelFRA(Integer);
external	function real VATZoneButtonsLabelsFRA(real,real,real,real);
external	procedure LoginButtons2_FRA(Real,Real);
external	procedure FORMDEF_FRA();
external	function string 255 DemoMsgWClassTitle_FRA(Boolean,Boolean);
external	procedure TBEClassDef_FRA();
external	function string 255 VATZoneNameFRA();
external	procedure TSERW_FRA();
external	procedure TSERWNT_FRA();
external	procedure TSERWTouch_FRA();
external	procedure TSERWTEST_FRA();
external	procedure INVFORM_FRA(Boolean);
external	procedure DisplayRecordDetails_FRA(LongInt,LongInt,string,date,time,string,string,string,string,string,string,string,string,string,string,string,Integer,string,string,string,val,string,Boolean,string,string);
external	procedure DrawPOSInterface_FRA(string,string,record POSButtonsVc,Integer,string,Integer);
external	procedure DisplayRecordDetailsCustDisplay_FRA(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,string,string,val);
external	function string 255 ResDayWClassWindowTitle_FRA();
external	function string 255 ResMonWClassWindowTitle_FRA();
external	function string 255 RTMonWClassWindowTitle_FRA();
external	procedure SetupNightAuditWindowControls_FRA(Boolean);
external	procedure CURClassDefinitionFRA();
external	function real DrawPaymentModesButtons_IV_FRA(real);
external	function real FunctionButtons_FRA(string);
external	procedure CreditCardWindowHeader_FRA(Boolean,Boolean,Real);
external	procedure CreditCardWindowButtons_FRA(string,string,real);
external	procedure CreditCardWindowInvoiceDetail_FRA(Real);
external	procedure CreditCardWindowDeliveryDetail_FRA(Real);
external	function real DrawPaymentModesButtons_FRA();
external	procedure DrawBarMenuTiles_FRA(string);
external	procedure DrawRestPMOtherPay_FRA();
external	procedure DisplayRecordDetailsRA_FRA(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,LongInt,Date,string,LongInt,string);
external	procedure DrawModifierButtons2_FRA(var integer,var integer);
external	procedure OKCancel_FRA();
external	procedure DefineElearningURLCacheLClass_FRA();
external	procedure DefineElearningURLCacheDClass_FRA();
external	function real TravelLogDeductions_FRA(real,real);
external	procedure LoginButtons_FRA(Real);
external	procedure FORMDEF2_FRA();
external	procedure FORMDEF3_FRA();
external	procedure ARS2RClass_FRA();
external	procedure ALLVATRClass_FRA();

// Language functions FRC
external	function Boolean DisplayLoginKeyPad_FRC();
external	function string 255 VATZoneEditFieldLabelFRC(Integer);
external	function real VATZoneButtonsLabelsFRC(real,real,real,real);
external	procedure LoginButtons2_FRC(Real,Real);
external	procedure FORMDEF_FRC();
external	function string 255 DemoMsgWClassTitle_FRC(Boolean,Boolean);
external	procedure TBEClassDef_FRC();
external	function string 255 VATZoneNameFRC();
external	procedure TSERW_FRC();
external	procedure TSERWNT_FRC();
external	procedure TSERWTouch_FRC();
external	procedure TSERWTEST_FRC();
external	procedure INVFORM_FRC(Boolean);
external	procedure DisplayRecordDetails_FRC(LongInt,LongInt,string,date,time,string,string,string,string,string,string,string,string,string,string,string,Integer,string,string,string,val,string,Boolean,string,string);
external	procedure DrawPOSInterface_FRC(string,string,record POSButtonsVc,Integer,string,Integer);
external	procedure DisplayRecordDetailsCustDisplay_FRC(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,string,string,val);
external	function string 255 ResDayWClassWindowTitle_FRC();
external	function string 255 ResMonWClassWindowTitle_FRC();
external	function string 255 RTMonWClassWindowTitle_FRC();
external	procedure SetupNightAuditWindowControls_FRC(Boolean);
external	procedure CURClassDefinitionFRC();
external	function real DrawPaymentModesButtons_IV_FRC(real);
external	function real FunctionButtons_FRC(string);
external	procedure CreditCardWindowHeader_FRC(Boolean,Boolean,Real);
external	procedure CreditCardWindowButtons_FRC(string,string,real);
external	procedure CreditCardWindowInvoiceDetail_FRC(Real);
external	procedure CreditCardWindowDeliveryDetail_FRC(Real);
external	function real DrawPaymentModesButtons_FRC();
external	procedure DrawBarMenuTiles_FRC(string);
external	procedure DrawRestPMOtherPay_FRC();
external	procedure DisplayRecordDetailsRA_FRC(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,LongInt,Date,string,LongInt,string);
external	procedure DrawModifierButtons2_FRC(var integer,var integer);
external	procedure OKCancel_FRC();
external	procedure DefineElearningURLCacheLClass_FRC();
external	procedure DefineElearningURLCacheDClass_FRC();
external	function real TravelLogDeductions_FRC(real,real);
external	procedure LoginButtons_FRC(Real);
external	procedure FORMDEF2_FRC();
external	procedure FORMDEF3_FRC();
external	procedure ARS2RClass_FRC();
external	procedure ALLVATRClass_FRC();

// Language functions FAR
external	function Boolean DisplayLoginKeyPad_FAR();
external	function string 255 VATZoneEditFieldLabelFAR(Integer);
external	function real VATZoneButtonsLabelsFAR(real,real,real,real);
external	procedure LoginButtons2_FAR(Real,Real);
external	procedure FORMDEF_FAR();
external	function string 255 DemoMsgWClassTitle_FAR(Boolean,Boolean);
external	procedure TBEClassDef_FAR();
external	function string 255 VATZoneNameFAR();
external	procedure TSERW_FAR();
external	procedure TSERWNT_FAR();
external	procedure TSERWTouch_FAR();
external	procedure TSERWTEST_FAR();
external	procedure INVFORM_FAR(Boolean);
external	procedure DisplayRecordDetails_FAR(LongInt,LongInt,string,date,time,string,string,string,string,string,string,string,string,string,string,string,Integer,string,string,string,val,string,Boolean,string,string);
external	procedure DrawPOSInterface_FAR(string,string,record POSButtonsVc,Integer,string,Integer);
external	procedure DisplayRecordDetailsCustDisplay_FAR(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,string,string,val);
external	function string 255 ResDayWClassWindowTitle_FAR();
external	function string 255 ResMonWClassWindowTitle_FAR();
external	function string 255 RTMonWClassWindowTitle_FAR();
external	procedure SetupNightAuditWindowControls_FAR(Boolean);
external	procedure CURClassDefinitionFAR();
external	function real DrawPaymentModesButtons_IV_FAR(real);
external	function real FunctionButtons_FAR(string);
external	procedure CreditCardWindowHeader_FAR(Boolean,Boolean,Real);
external	procedure CreditCardWindowButtons_FAR(string,string,real);
external	procedure CreditCardWindowInvoiceDetail_FAR(Real);
external	procedure CreditCardWindowDeliveryDetail_FAR(Real);
external	function real DrawPaymentModesButtons_FAR();
external	procedure DrawBarMenuTiles_FAR(string);
external	procedure DrawRestPMOtherPay_FAR();
external	procedure DisplayRecordDetailsRA_FAR(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,LongInt,Date,string,LongInt,string);
external	procedure DrawModifierButtons2_FAR(var integer,var integer);
external	procedure OKCancel_FAR();
external	procedure DefineElearningURLCacheLClass_FAR();
external	procedure DefineElearningURLCacheDClass_FAR();
external	function real TravelLogDeductions_FAR(real,real);
external	procedure LoginButtons_FAR(Real);
external	procedure FORMDEF2_FAR();
external	procedure FORMDEF3_FAR();
external	procedure ARS2RClass_FAR();
external	procedure ALLVATRClass_FAR();

// Language functions GER
external	function Boolean DisplayLoginKeyPad_GER();
external	function string 255 VATZoneEditFieldLabelGER(Integer);
external	function real VATZoneButtonsLabelsGER(real,real,real,real);
external	procedure LoginButtons2_GER(Real,Real);
external	procedure FORMDEF_GER();
external	function string 255 DemoMsgWClassTitle_GER(Boolean,Boolean);
external	procedure TBEClassDef_GER();
external	function string 255 VATZoneNameGER();
external	procedure TSERW_GER();
external	procedure TSERWNT_GER();
external	procedure TSERWTouch_GER();
external	procedure TSERWTEST_GER();
external	procedure INVFORM_GER(Boolean);
external	procedure DisplayRecordDetails_GER(LongInt,LongInt,string,date,time,string,string,string,string,string,string,string,string,string,string,string,Integer,string,string,string,val,string,Boolean,string,string);
external	procedure DrawPOSInterface_GER(string,string,record POSButtonsVc,Integer,string,Integer);
external	procedure DisplayRecordDetailsCustDisplay_GER(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,string,string,val);
external	function string 255 ResDayWClassWindowTitle_GER();
external	function string 255 ResMonWClassWindowTitle_GER();
external	function string 255 RTMonWClassWindowTitle_GER();
external	procedure SetupNightAuditWindowControls_GER(Boolean);
external	procedure CURClassDefinitionGER();
external	function real DrawPaymentModesButtons_IV_GER(real);
external	function real FunctionButtons_GER(string);
external	procedure CreditCardWindowHeader_GER(Boolean,Boolean,Real);
external	procedure CreditCardWindowButtons_GER(string,string,real);
external	procedure CreditCardWindowInvoiceDetail_GER(Real);
external	procedure CreditCardWindowDeliveryDetail_GER(Real);
external	function real DrawPaymentModesButtons_GER();
external	procedure DrawBarMenuTiles_GER(string);
external	procedure DrawRestPMOtherPay_GER();
external	procedure DisplayRecordDetailsRA_GER(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,LongInt,Date,string,LongInt,string);
external	procedure DrawModifierButtons2_GER(var integer,var integer);
external	procedure OKCancel_GER();
external	procedure DefineElearningURLCacheLClass_GER();
external	procedure DefineElearningURLCacheDClass_GER();
external	function real TravelLogDeductions_GER(real,real);
external	procedure LoginButtons_GER(Real);
external	procedure FORMDEF2_GER();
external	procedure FORMDEF3_GER();
external	procedure ARS2RClass_GER();
external	procedure ALLVATRClass_GER();

// Language functions HEB
external	function Boolean DisplayLoginKeyPad_HEB();
external	function string 255 VATZoneEditFieldLabelHEB(Integer);
external	function real VATZoneButtonsLabelsHEB(real,real,real,real);
external	procedure LoginButtons2_HEB(Real,Real);
external	procedure FORMDEF_HEB();
external	function string 255 DemoMsgWClassTitle_HEB(Boolean,Boolean);
external	procedure TBEClassDef_HEB();
external	function string 255 VATZoneNameHEB();
external	procedure TSERW_HEB();
external	procedure TSERWNT_HEB();
external	procedure TSERWTouch_HEB();
external	procedure TSERWTEST_HEB();
external	procedure INVFORM_HEB(Boolean);
external	procedure DisplayRecordDetails_HEB(LongInt,LongInt,string,date,time,string,string,string,string,string,string,string,string,string,string,string,Integer,string,string,string,val,string,Boolean,string,string);
external	procedure DrawPOSInterface_HEB(string,string,record POSButtonsVc,Integer,string,Integer);
external	procedure DisplayRecordDetailsCustDisplay_HEB(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,string,string,val);
external	function string 255 ResDayWClassWindowTitle_HEB();
external	function string 255 ResMonWClassWindowTitle_HEB();
external	function string 255 RTMonWClassWindowTitle_HEB();
external	procedure SetupNightAuditWindowControls_HEB(Boolean);
external	procedure CURClassDefinitionHEB();
external	function real DrawPaymentModesButtons_IV_HEB(real);
external	function real FunctionButtons_HEB(string);
external	procedure CreditCardWindowHeader_HEB(Boolean,Boolean,Real);
external	procedure CreditCardWindowButtons_HEB(string,string,real);
external	procedure CreditCardWindowInvoiceDetail_HEB(Real);
external	procedure CreditCardWindowDeliveryDetail_HEB(Real);
external	function real DrawPaymentModesButtons_HEB();
external	procedure DrawBarMenuTiles_HEB(string);
external	procedure DrawRestPMOtherPay_HEB();
external	procedure DisplayRecordDetailsRA_HEB(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,LongInt,Date,string,LongInt,string);
external	procedure DrawModifierButtons2_HEB(var integer,var integer);
external	procedure OKCancel_HEB();
external	procedure DefineElearningURLCacheLClass_HEB();
external	procedure DefineElearningURLCacheDClass_HEB();
external	function real TravelLogDeductions_HEB(real,real);
external	procedure LoginButtons_HEB(Real);
external	procedure FORMDEF2_HEB();
external	procedure FORMDEF3_HEB();
external	procedure ARS2RClass_HEB();
external	procedure ALLVATRClass_HEB();

// Language functions HUN
external	function Boolean DisplayLoginKeyPad_HUN();
external	function string 255 VATZoneEditFieldLabelHUN(Integer);
external	function real VATZoneButtonsLabelsHUN(real,real,real,real);
external	procedure LoginButtons2_HUN(Real,Real);
external	procedure FORMDEF_HUN();
external	function string 255 DemoMsgWClassTitle_HUN(Boolean,Boolean);
external	procedure TBEClassDef_HUN();
external	function string 255 VATZoneNameHUN();
external	procedure TSERW_HUN();
external	procedure TSERWNT_HUN();
external	procedure TSERWTouch_HUN();
external	procedure TSERWTEST_HUN();
external	procedure INVFORM_HUN(Boolean);
external	procedure DisplayRecordDetails_HUN(LongInt,LongInt,string,date,time,string,string,string,string,string,string,string,string,string,string,string,Integer,string,string,string,val,string,Boolean,string,string);
external	procedure DrawPOSInterface_HUN(string,string,record POSButtonsVc,Integer,string,Integer);
external	procedure DisplayRecordDetailsCustDisplay_HUN(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,string,string,val);
external	function string 255 ResDayWClassWindowTitle_HUN();
external	function string 255 ResMonWClassWindowTitle_HUN();
external	function string 255 RTMonWClassWindowTitle_HUN();
external	procedure SetupNightAuditWindowControls_HUN(Boolean);
external	procedure CURClassDefinitionHUN();
external	function real DrawPaymentModesButtons_IV_HUN(real);
external	function real FunctionButtons_HUN(string);
external	procedure CreditCardWindowHeader_HUN(Boolean,Boolean,Real);
external	procedure CreditCardWindowButtons_HUN(string,string,real);
external	procedure CreditCardWindowInvoiceDetail_HUN(Real);
external	procedure CreditCardWindowDeliveryDetail_HUN(Real);
external	function real DrawPaymentModesButtons_HUN();
external	procedure DrawBarMenuTiles_HUN(string);
external	procedure DrawRestPMOtherPay_HUN();
external	procedure DisplayRecordDetailsRA_HUN(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,LongInt,Date,string,LongInt,string);
external	procedure DrawModifierButtons2_HUN(var integer,var integer);
external	procedure OKCancel_HUN();
external	procedure DefineElearningURLCacheLClass_HUN();
external	procedure DefineElearningURLCacheDClass_HUN();
external	function real TravelLogDeductions_HUN(real,real);
external	procedure LoginButtons_HUN(Real);
external	procedure FORMDEF2_HUN();
external	procedure FORMDEF3_HUN();
external	procedure ARS2RClass_HUN();
external	procedure ALLVATRClass_HUN();

// Language functions ICE
external	function Boolean DisplayLoginKeyPad_ICE();
external	function string 255 VATZoneEditFieldLabelICE(Integer);
external	function real VATZoneButtonsLabelsICE(real,real,real,real);
external	procedure LoginButtons2_ICE(Real,Real);
external	procedure FORMDEF_ICE();
external	function string 255 DemoMsgWClassTitle_ICE(Boolean,Boolean);
external	procedure TBEClassDef_ICE();
external	function string 255 VATZoneNameICE();
external	procedure TSERW_ICE();
external	procedure TSERWNT_ICE();
external	procedure TSERWTouch_ICE();
external	procedure TSERWTEST_ICE();
external	procedure INVFORM_ICE(Boolean);
external	procedure DisplayRecordDetails_ICE(LongInt,LongInt,string,date,time,string,string,string,string,string,string,string,string,string,string,string,Integer,string,string,string,val,string,Boolean,string,string);
external	procedure DrawPOSInterface_ICE(string,string,record POSButtonsVc,Integer,string,Integer);
external	procedure DisplayRecordDetailsCustDisplay_ICE(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,string,string,val);
external	function string 255 ResDayWClassWindowTitle_ICE();
external	function string 255 ResMonWClassWindowTitle_ICE();
external	function string 255 RTMonWClassWindowTitle_ICE();
external	procedure SetupNightAuditWindowControls_ICE(Boolean);
external	procedure CURClassDefinitionICE();
external	function real DrawPaymentModesButtons_IV_ICE(real);
external	function real FunctionButtons_ICE(string);
external	procedure CreditCardWindowHeader_ICE(Boolean,Boolean,Real);
external	procedure CreditCardWindowButtons_ICE(string,string,real);
external	procedure CreditCardWindowInvoiceDetail_ICE(Real);
external	procedure CreditCardWindowDeliveryDetail_ICE(Real);
external	function real DrawPaymentModesButtons_ICE();
external	procedure DrawBarMenuTiles_ICE(string);
external	procedure DrawRestPMOtherPay_ICE();
external	procedure DisplayRecordDetailsRA_ICE(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,LongInt,Date,string,LongInt,string);
external	procedure DrawModifierButtons2_ICE(var integer,var integer);
external	procedure OKCancel_ICE();
external	procedure DefineElearningURLCacheLClass_ICE();
external	procedure DefineElearningURLCacheDClass_ICE();
external	function real TravelLogDeductions_ICE(real,real);
external	procedure LoginButtons_ICE(Real);
external	procedure FORMDEF2_ICE();
external	procedure FORMDEF3_ICE();
external	procedure ARS2RClass_ICE();
external	procedure ALLVATRClass_ICE();

// Language functions ITA
external	function Boolean DisplayLoginKeyPad_ITA();
external	function string 255 VATZoneEditFieldLabelITA(Integer);
external	function real VATZoneButtonsLabelsITA(real,real,real,real);
external	procedure LoginButtons2_ITA(Real,Real);
external	procedure FORMDEF_ITA();
external	function string 255 DemoMsgWClassTitle_ITA(Boolean,Boolean);
external	procedure TBEClassDef_ITA();
external	function string 255 VATZoneNameITA();
external	procedure TSERW_ITA();
external	procedure TSERWNT_ITA();
external	procedure TSERWTouch_ITA();
external	procedure TSERWTEST_ITA();
external	procedure INVFORM_ITA(Boolean);
external	procedure DisplayRecordDetails_ITA(LongInt,LongInt,string,date,time,string,string,string,string,string,string,string,string,string,string,string,Integer,string,string,string,val,string,Boolean,string,string);
external	procedure DrawPOSInterface_ITA(string,string,record POSButtonsVc,Integer,string,Integer);
external	procedure DisplayRecordDetailsCustDisplay_ITA(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,string,string,val);
external	function string 255 ResDayWClassWindowTitle_ITA();
external	function string 255 ResMonWClassWindowTitle_ITA();
external	function string 255 RTMonWClassWindowTitle_ITA();
external	procedure SetupNightAuditWindowControls_ITA(Boolean);
external	procedure CURClassDefinitionITA();
external	function real DrawPaymentModesButtons_IV_ITA(real);
external	function real FunctionButtons_ITA(string);
external	procedure CreditCardWindowHeader_ITA(Boolean,Boolean,Real);
external	procedure CreditCardWindowButtons_ITA(string,string,real);
external	procedure CreditCardWindowInvoiceDetail_ITA(Real);
external	procedure CreditCardWindowDeliveryDetail_ITA(Real);
external	function real DrawPaymentModesButtons_ITA();
external	procedure DrawBarMenuTiles_ITA(string);
external	procedure DrawRestPMOtherPay_ITA();
external	procedure DisplayRecordDetailsRA_ITA(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,LongInt,Date,string,LongInt,string);
external	procedure DrawModifierButtons2_ITA(var integer,var integer);
external	procedure OKCancel_ITA();
external	procedure DefineElearningURLCacheLClass_ITA();
external	procedure DefineElearningURLCacheDClass_ITA();
external	function real TravelLogDeductions_ITA(real,real);
external	procedure LoginButtons_ITA(Real);
external	procedure FORMDEF2_ITA();
external	procedure FORMDEF3_ITA();
external	procedure ARS2RClass_ITA();
external	procedure ALLVATRClass_ITA();

// Language functions KEE
external	function Boolean DisplayLoginKeyPad_KEE();
external	function string 255 VATZoneEditFieldLabelKEE(Integer);
external	function real VATZoneButtonsLabelsKEE(real,real,real,real);
external	procedure LoginButtons2_KEE(Real,Real);
external	procedure FORMDEF_KEE();
external	function string 255 DemoMsgWClassTitle_KEE(Boolean,Boolean);
external	procedure TBEClassDef_KEE();
external	function string 255 VATZoneNameKEE();
external	procedure TSERW_KEE();
external	procedure TSERWNT_KEE();
external	procedure TSERWTouch_KEE();
external	procedure TSERWTEST_KEE();
external	procedure INVFORM_KEE(Boolean);
external	procedure DisplayRecordDetails_KEE(LongInt,LongInt,string,date,time,string,string,string,string,string,string,string,string,string,string,string,Integer,string,string,string,val,string,Boolean,string,string);
external	procedure DrawPOSInterface_KEE(string,string,record POSButtonsVc,Integer,string,Integer);
external	procedure DisplayRecordDetailsCustDisplay_KEE(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,string,string,val);
external	function string 255 ResDayWClassWindowTitle_KEE();
external	function string 255 ResMonWClassWindowTitle_KEE();
external	function string 255 RTMonWClassWindowTitle_KEE();
external	procedure SetupNightAuditWindowControls_KEE(Boolean);
external	procedure CURClassDefinitionKEE();
external	function real DrawPaymentModesButtons_IV_KEE(real);
external	function real FunctionButtons_KEE(string);
external	procedure CreditCardWindowHeader_KEE(Boolean,Boolean,Real);
external	procedure CreditCardWindowButtons_KEE(string,string,real);
external	procedure CreditCardWindowInvoiceDetail_KEE(Real);
external	procedure CreditCardWindowDeliveryDetail_KEE(Real);
external	function real DrawPaymentModesButtons_KEE();
external	procedure DrawBarMenuTiles_KEE(string);
external	procedure DrawRestPMOtherPay_KEE();
external	procedure DisplayRecordDetailsRA_KEE(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,LongInt,Date,string,LongInt,string);
external	procedure DrawModifierButtons2_KEE(var integer,var integer);
external	procedure OKCancel_KEE();
external	procedure DefineElearningURLCacheLClass_KEE();
external	procedure DefineElearningURLCacheDClass_KEE();
external	function real TravelLogDeductions_KEE(real,real);
external	procedure LoginButtons_KEE(Real);
external	procedure FORMDEF2_KEE();
external	procedure FORMDEF3_KEE();
external	procedure ARS2RClass_KEE();
external	procedure ALLVATRClass_KEE();

// Language functions LAT
external	function Boolean DisplayLoginKeyPad_LAT();
external	function string 255 VATZoneEditFieldLabelLAT(Integer);
external	function real VATZoneButtonsLabelsLAT(real,real,real,real);
external	procedure LoginButtons2_LAT(Real,Real);
external	procedure FORMDEF_LAT();
external	function string 255 DemoMsgWClassTitle_LAT(Boolean,Boolean);
external	procedure TBEClassDef_LAT();
external	function string 255 VATZoneNameLAT();
external	procedure TSERW_LAT();
external	procedure TSERWNT_LAT();
external	procedure TSERWTouch_LAT();
external	procedure TSERWTEST_LAT();
external	procedure INVFORM_LAT(Boolean);
external	procedure DisplayRecordDetails_LAT(LongInt,LongInt,string,date,time,string,string,string,string,string,string,string,string,string,string,string,Integer,string,string,string,val,string,Boolean,string,string);
external	procedure DrawPOSInterface_LAT(string,string,record POSButtonsVc,Integer,string,Integer);
external	procedure DisplayRecordDetailsCustDisplay_LAT(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,string,string,val);
external	function string 255 ResDayWClassWindowTitle_LAT();
external	function string 255 ResMonWClassWindowTitle_LAT();
external	function string 255 RTMonWClassWindowTitle_LAT();
external	procedure SetupNightAuditWindowControls_LAT(Boolean);
external	procedure CURClassDefinitionLAT();
external	function real DrawPaymentModesButtons_IV_LAT(real);
external	function real FunctionButtons_LAT(string);
external	procedure CreditCardWindowHeader_LAT(Boolean,Boolean,Real);
external	procedure CreditCardWindowButtons_LAT(string,string,real);
external	procedure CreditCardWindowInvoiceDetail_LAT(Real);
external	procedure CreditCardWindowDeliveryDetail_LAT(Real);
external	function real DrawPaymentModesButtons_LAT();
external	procedure DrawBarMenuTiles_LAT(string);
external	procedure DrawRestPMOtherPay_LAT();
external	procedure DisplayRecordDetailsRA_LAT(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,LongInt,Date,string,LongInt,string);
external	procedure DrawModifierButtons2_LAT(var integer,var integer);
external	procedure OKCancel_LAT();
external	procedure DefineElearningURLCacheLClass_LAT();
external	procedure DefineElearningURLCacheDClass_LAT();
external	function real TravelLogDeductions_LAT(real,real);
external	procedure LoginButtons_LAT(Real);
external	procedure FORMDEF2_LAT();
external	procedure FORMDEF3_LAT();
external	procedure ARS2RClass_LAT();
external	procedure ALLVATRClass_LAT();

// Language functions LIT
external	function Boolean DisplayLoginKeyPad_LIT();
external	function string 255 VATZoneEditFieldLabelLIT(Integer);
external	function real VATZoneButtonsLabelsLIT(real,real,real,real);
external	procedure LoginButtons2_LIT(Real,Real);
external	procedure FORMDEF_LIT();
external	function string 255 DemoMsgWClassTitle_LIT(Boolean,Boolean);
external	procedure TBEClassDef_LIT();
external	function string 255 VATZoneNameLIT();
external	procedure TSERW_LIT();
external	procedure TSERWNT_LIT();
external	procedure TSERWTouch_LIT();
external	procedure TSERWTEST_LIT();
external	procedure INVFORM_LIT(Boolean);
external	procedure DisplayRecordDetails_LIT(LongInt,LongInt,string,date,time,string,string,string,string,string,string,string,string,string,string,string,Integer,string,string,string,val,string,Boolean,string,string);
external	procedure DrawPOSInterface_LIT(string,string,record POSButtonsVc,Integer,string,Integer);
external	procedure DisplayRecordDetailsCustDisplay_LIT(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,string,string,val);
external	function string 255 ResDayWClassWindowTitle_LIT();
external	function string 255 ResMonWClassWindowTitle_LIT();
external	function string 255 RTMonWClassWindowTitle_LIT();
external	procedure SetupNightAuditWindowControls_LIT(Boolean);
external	procedure CURClassDefinitionLIT();
external	function real DrawPaymentModesButtons_IV_LIT(real);
external	function real FunctionButtons_LIT(string);
external	procedure CreditCardWindowHeader_LIT(Boolean,Boolean,Real);
external	procedure CreditCardWindowButtons_LIT(string,string,real);
external	procedure CreditCardWindowInvoiceDetail_LIT(Real);
external	procedure CreditCardWindowDeliveryDetail_LIT(Real);
external	function real DrawPaymentModesButtons_LIT();
external	procedure DrawBarMenuTiles_LIT(string);
external	procedure DrawRestPMOtherPay_LIT();
external	procedure DisplayRecordDetailsRA_LIT(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,LongInt,Date,string,LongInt,string);
external	procedure DrawModifierButtons2_LIT(var integer,var integer);
external	procedure OKCancel_LIT();
external	procedure DefineElearningURLCacheLClass_LIT();
external	procedure DefineElearningURLCacheDClass_LIT();
external	function real TravelLogDeductions_LIT(real,real);
external	procedure LoginButtons_LIT(Real);
external	procedure FORMDEF2_LIT();
external	procedure FORMDEF3_LIT();
external	procedure ARS2RClass_LIT();
external	procedure ALLVATRClass_LIT();

// Language functions NOR
external	function Boolean DisplayLoginKeyPad_NOR();
external	function string 255 VATZoneEditFieldLabelNOR(Integer);
external	function real VATZoneButtonsLabelsNOR(real,real,real,real);
external	procedure LoginButtons2_NOR(Real,Real);
external	procedure FORMDEF_NOR();
external	function string 255 DemoMsgWClassTitle_NOR(Boolean,Boolean);
external	procedure TBEClassDef_NOR();
external	function string 255 VATZoneNameNOR();
external	procedure TSERW_NOR();
external	procedure TSERWNT_NOR();
external	procedure TSERWTouch_NOR();
external	procedure TSERWTEST_NOR();
external	procedure INVFORM_NOR(Boolean);
external	procedure DisplayRecordDetails_NOR(LongInt,LongInt,string,date,time,string,string,string,string,string,string,string,string,string,string,string,Integer,string,string,string,val,string,Boolean,string,string);
external	procedure DrawPOSInterface_NOR(string,string,record POSButtonsVc,Integer,string,Integer);
external	procedure DisplayRecordDetailsCustDisplay_NOR(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,string,string,val);
external	function string 255 ResDayWClassWindowTitle_NOR();
external	function string 255 ResMonWClassWindowTitle_NOR();
external	function string 255 RTMonWClassWindowTitle_NOR();
external	procedure SetupNightAuditWindowControls_NOR(Boolean);
external	procedure CURClassDefinitionNOR();
external	function real DrawPaymentModesButtons_IV_NOR(real);
external	function real FunctionButtons_NOR(string);
external	procedure CreditCardWindowHeader_NOR(Boolean,Boolean,Real);
external	procedure CreditCardWindowButtons_NOR(string,string,real);
external	procedure CreditCardWindowInvoiceDetail_NOR(Real);
external	procedure CreditCardWindowDeliveryDetail_NOR(Real);
external	function real DrawPaymentModesButtons_NOR();
external	procedure DrawBarMenuTiles_NOR(string);
external	procedure DrawRestPMOtherPay_NOR();
external	procedure DisplayRecordDetailsRA_NOR(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,LongInt,Date,string,LongInt,string);
external	procedure DrawModifierButtons2_NOR(var integer,var integer);
external	procedure OKCancel_NOR();
external	procedure DefineElearningURLCacheLClass_NOR();
external	procedure DefineElearningURLCacheDClass_NOR();
external	function real TravelLogDeductions_NOR(real,real);
external	procedure LoginButtons_NOR(Real);
external	procedure FORMDEF2_NOR();
external	procedure FORMDEF3_NOR();
external	procedure ARS2RClass_NOR();
external	procedure ALLVATRClass_NOR();

// Language functions NZE
external	function Boolean DisplayLoginKeyPad_NZE();
external	function string 255 VATZoneEditFieldLabelNZE(Integer);
external	function real VATZoneButtonsLabelsNZE(real,real,real,real);
external	procedure LoginButtons2_NZE(Real,Real);
external	procedure FORMDEF_NZE();
external	function string 255 DemoMsgWClassTitle_NZE(Boolean,Boolean);
external	procedure TBEClassDef_NZE();
external	function string 255 VATZoneNameNZE();
external	procedure TSERW_NZE();
external	procedure TSERWNT_NZE();
external	procedure TSERWTouch_NZE();
external	procedure TSERWTEST_NZE();
external	procedure INVFORM_NZE(Boolean);
external	procedure DisplayRecordDetails_NZE(LongInt,LongInt,string,date,time,string,string,string,string,string,string,string,string,string,string,string,Integer,string,string,string,val,string,Boolean,string,string);
external	procedure DrawPOSInterface_NZE(string,string,record POSButtonsVc,Integer,string,Integer);
external	procedure DisplayRecordDetailsCustDisplay_NZE(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,string,string,val);
external	function string 255 ResDayWClassWindowTitle_NZE();
external	function string 255 ResMonWClassWindowTitle_NZE();
external	function string 255 RTMonWClassWindowTitle_NZE();
external	procedure SetupNightAuditWindowControls_NZE(Boolean);
external	procedure CURClassDefinitionNZE();
external	function real DrawPaymentModesButtons_IV_NZE(real);
external	function real FunctionButtons_NZE(string);
external	procedure CreditCardWindowHeader_NZE(Boolean,Boolean,Real);
external	procedure CreditCardWindowButtons_NZE(string,string,real);
external	procedure CreditCardWindowInvoiceDetail_NZE(Real);
external	procedure CreditCardWindowDeliveryDetail_NZE(Real);
external	function real DrawPaymentModesButtons_NZE();
external	procedure DrawBarMenuTiles_NZE(string);
external	procedure DrawRestPMOtherPay_NZE();
external	procedure DisplayRecordDetailsRA_NZE(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,LongInt,Date,string,LongInt,string);
external	procedure DrawModifierButtons2_NZE(var integer,var integer);
external	procedure OKCancel_NZE();
external	procedure DefineElearningURLCacheLClass_NZE();
external	procedure DefineElearningURLCacheDClass_NZE();
external	function real TravelLogDeductions_NZE(real,real);
external	procedure LoginButtons_NZE(Real);
external	procedure FORMDEF2_NZE();
external	procedure FORMDEF3_NZE();
external	procedure ARS2RClass_NZE();
external	procedure ALLVATRClass_NZE();

// Language functions PHE
external	function Boolean DisplayLoginKeyPad_PHE();
external	function string 255 VATZoneEditFieldLabelPHE(Integer);
external	function real VATZoneButtonsLabelsPHE(real,real,real,real);
external	procedure LoginButtons2_PHE(Real,Real);
external	procedure FORMDEF_PHE();
external	function string 255 DemoMsgWClassTitle_PHE(Boolean,Boolean);
external	procedure TBEClassDef_PHE();
external	function string 255 VATZoneNamePHE();
external	procedure TSERW_PHE();
external	procedure TSERWNT_PHE();
external	procedure TSERWTouch_PHE();
external	procedure TSERWTEST_PHE();
external	procedure INVFORM_PHE(Boolean);
external	procedure DisplayRecordDetails_PHE(LongInt,LongInt,string,date,time,string,string,string,string,string,string,string,string,string,string,string,Integer,string,string,string,val,string,Boolean,string,string);
external	procedure DrawPOSInterface_PHE(string,string,record POSButtonsVc,Integer,string,Integer);
external	procedure DisplayRecordDetailsCustDisplay_PHE(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,string,string,val);
external	function string 255 ResDayWClassWindowTitle_PHE();
external	function string 255 ResMonWClassWindowTitle_PHE();
external	function string 255 RTMonWClassWindowTitle_PHE();
external	procedure SetupNightAuditWindowControls_PHE(Boolean);
external	procedure CURClassDefinitionPHE();
external	function real DrawPaymentModesButtons_IV_PHE(real);
external	function real FunctionButtons_PHE(string);
external	procedure CreditCardWindowHeader_PHE(Boolean,Boolean,Real);
external	procedure CreditCardWindowButtons_PHE(string,string,real);
external	procedure CreditCardWindowInvoiceDetail_PHE(Real);
external	procedure CreditCardWindowDeliveryDetail_PHE(Real);
external	function real DrawPaymentModesButtons_PHE();
external	procedure DrawBarMenuTiles_PHE(string);
external	procedure DrawRestPMOtherPay_PHE();
external	procedure DisplayRecordDetailsRA_PHE(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,LongInt,Date,string,LongInt,string);
external	procedure DrawModifierButtons2_PHE(var integer,var integer);
external	procedure OKCancel_PHE();
external	procedure DefineElearningURLCacheLClass_PHE();
external	procedure DefineElearningURLCacheDClass_PHE();
external	function real TravelLogDeductions_PHE(real,real);
external	procedure LoginButtons_PHE(Real);
external	procedure FORMDEF2_PHE();
external	procedure FORMDEF3_PHE();
external	procedure ARS2RClass_PHE();
external	procedure ALLVATRClass_PHE();

// Language functions POL
external	function Boolean DisplayLoginKeyPad_POL();
external	function string 255 VATZoneEditFieldLabelPOL(Integer);
external	function real VATZoneButtonsLabelsPOL(real,real,real,real);
external	procedure LoginButtons2_POL(Real,Real);
external	procedure FORMDEF_POL();
external	function string 255 DemoMsgWClassTitle_POL(Boolean,Boolean);
external	procedure TBEClassDef_POL();
external	function string 255 VATZoneNamePOL();
external	procedure TSERW_POL();
external	procedure TSERWNT_POL();
external	procedure TSERWTouch_POL();
external	procedure TSERWTEST_POL();
external	procedure INVFORM_POL(Boolean);
external	procedure DisplayRecordDetails_POL(LongInt,LongInt,string,date,time,string,string,string,string,string,string,string,string,string,string,string,Integer,string,string,string,val,string,Boolean,string,string);
external	procedure DrawPOSInterface_POL(string,string,record POSButtonsVc,Integer,string,Integer);
external	procedure DisplayRecordDetailsCustDisplay_POL(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,string,string,val);
external	function string 255 ResDayWClassWindowTitle_POL();
external	function string 255 ResMonWClassWindowTitle_POL();
external	function string 255 RTMonWClassWindowTitle_POL();
external	procedure SetupNightAuditWindowControls_POL(Boolean);
external	procedure CURClassDefinitionPOL();
external	function real DrawPaymentModesButtons_IV_POL(real);
external	function real FunctionButtons_POL(string);
external	procedure CreditCardWindowHeader_POL(Boolean,Boolean,Real);
external	procedure CreditCardWindowButtons_POL(string,string,real);
external	procedure CreditCardWindowInvoiceDetail_POL(Real);
external	procedure CreditCardWindowDeliveryDetail_POL(Real);
external	function real DrawPaymentModesButtons_POL();
external	procedure DrawBarMenuTiles_POL(string);
external	procedure DrawRestPMOtherPay_POL();
external	procedure DisplayRecordDetailsRA_POL(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,LongInt,Date,string,LongInt,string);
external	procedure DrawModifierButtons2_POL(var integer,var integer);
external	procedure OKCancel_POL();
external	procedure DefineElearningURLCacheLClass_POL();
external	procedure DefineElearningURLCacheDClass_POL();
external	function real TravelLogDeductions_POL(real,real);
external	procedure LoginButtons_POL(Real);
external	procedure FORMDEF2_POL();
external	procedure FORMDEF3_POL();
external	procedure ARS2RClass_POL();
external	procedure ALLVATRClass_POL();

// Language functions POR
external	function Boolean DisplayLoginKeyPad_POR();
external	function string 255 VATZoneEditFieldLabelPOR(Integer);
external	function real VATZoneButtonsLabelsPOR(real,real,real,real);
external	procedure LoginButtons2_POR(Real,Real);
external	procedure FORMDEF_POR();
external	function string 255 DemoMsgWClassTitle_POR(Boolean,Boolean);
external	procedure TBEClassDef_POR();
external	function string 255 VATZoneNamePOR();
external	procedure TSERW_POR();
external	procedure TSERWNT_POR();
external	procedure TSERWTouch_POR();
external	procedure TSERWTEST_POR();
external	procedure INVFORM_POR(Boolean);
external	procedure DisplayRecordDetails_POR(LongInt,LongInt,string,date,time,string,string,string,string,string,string,string,string,string,string,string,Integer,string,string,string,val,string,Boolean,string,string);
external	procedure DrawPOSInterface_POR(string,string,record POSButtonsVc,Integer,string,Integer);
external	procedure DisplayRecordDetailsCustDisplay_POR(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,string,string,val);
external	function string 255 ResDayWClassWindowTitle_POR();
external	function string 255 ResMonWClassWindowTitle_POR();
external	function string 255 RTMonWClassWindowTitle_POR();
external	procedure SetupNightAuditWindowControls_POR(Boolean);
external	procedure CURClassDefinitionPOR();
external	function real DrawPaymentModesButtons_IV_POR(real);
external	function real FunctionButtons_POR(string);
external	procedure CreditCardWindowHeader_POR(Boolean,Boolean,Real);
external	procedure CreditCardWindowButtons_POR(string,string,real);
external	procedure CreditCardWindowInvoiceDetail_POR(Real);
external	procedure CreditCardWindowDeliveryDetail_POR(Real);
external	function real DrawPaymentModesButtons_POR();
external	procedure DrawBarMenuTiles_POR(string);
external	procedure DrawRestPMOtherPay_POR();
external	procedure DisplayRecordDetailsRA_POR(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,LongInt,Date,string,LongInt,string);
external	procedure DrawModifierButtons2_POR(var integer,var integer);
external	procedure OKCancel_POR();
external	procedure DefineElearningURLCacheLClass_POR();
external	procedure DefineElearningURLCacheDClass_POR();
external	function real TravelLogDeductions_POR(real,real);
external	procedure LoginButtons_POR(Real);
external	procedure FORMDEF2_POR();
external	procedure FORMDEF3_POR();
external	procedure ARS2RClass_POR();
external	procedure ALLVATRClass_POR();

// Language functions ROM
external	function Boolean DisplayLoginKeyPad_ROM();
external	function string 255 VATZoneEditFieldLabelROM(Integer);
external	function real VATZoneButtonsLabelsROM(real,real,real,real);
external	procedure LoginButtons2_ROM(Real,Real);
external	procedure FORMDEF_ROM();
external	function string 255 DemoMsgWClassTitle_ROM(Boolean,Boolean);
external	procedure TBEClassDef_ROM();
external	function string 255 VATZoneNameROM();
external	procedure TSERW_ROM();
external	procedure TSERWNT_ROM();
external	procedure TSERWTouch_ROM();
external	procedure TSERWTEST_ROM();
external	procedure INVFORM_ROM(Boolean);
external	procedure DisplayRecordDetails_ROM(LongInt,LongInt,string,date,time,string,string,string,string,string,string,string,string,string,string,string,Integer,string,string,string,val,string,Boolean,string,string);
external	procedure DrawPOSInterface_ROM(string,string,record POSButtonsVc,Integer,string,Integer);
external	procedure DisplayRecordDetailsCustDisplay_ROM(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,string,string,val);
external	function string 255 ResDayWClassWindowTitle_ROM();
external	function string 255 ResMonWClassWindowTitle_ROM();
external	function string 255 RTMonWClassWindowTitle_ROM();
external	procedure SetupNightAuditWindowControls_ROM(Boolean);
external	procedure CURClassDefinitionROM();
external	function real DrawPaymentModesButtons_IV_ROM(real);
external	function real FunctionButtons_ROM(string);
external	procedure CreditCardWindowHeader_ROM(Boolean,Boolean,Real);
external	procedure CreditCardWindowButtons_ROM(string,string,real);
external	procedure CreditCardWindowInvoiceDetail_ROM(Real);
external	procedure CreditCardWindowDeliveryDetail_ROM(Real);
external	function real DrawPaymentModesButtons_ROM();
external	procedure DrawBarMenuTiles_ROM(string);
external	procedure DrawRestPMOtherPay_ROM();
external	procedure DisplayRecordDetailsRA_ROM(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,LongInt,Date,string,LongInt,string);
external	procedure DrawModifierButtons2_ROM(var integer,var integer);
external	procedure OKCancel_ROM();
external	procedure DefineElearningURLCacheLClass_ROM();
external	procedure DefineElearningURLCacheDClass_ROM();
external	function real TravelLogDeductions_ROM(real,real);
external	procedure LoginButtons_ROM(Real);
external	procedure FORMDEF2_ROM();
external	procedure FORMDEF3_ROM();
external	procedure ARS2RClass_ROM();
external	procedure ALLVATRClass_ROM();

// Language functions RUS
external	function Boolean DisplayLoginKeyPad_RUS();
external	function string 255 VATZoneEditFieldLabelRUS(Integer);
external	function real VATZoneButtonsLabelsRUS(real,real,real,real);
external	procedure LoginButtons2_RUS(Real,Real);
external	procedure FORMDEF_RUS();
external	function string 255 DemoMsgWClassTitle_RUS(Boolean,Boolean);
external	procedure TBEClassDef_RUS();
external	function string 255 VATZoneNameRUS();
external	procedure TSERW_RUS();
external	procedure TSERWNT_RUS();
external	procedure TSERWTouch_RUS();
external	procedure TSERWTEST_RUS();
external	procedure INVFORM_RUS(Boolean);
external	procedure DisplayRecordDetails_RUS(LongInt,LongInt,string,date,time,string,string,string,string,string,string,string,string,string,string,string,Integer,string,string,string,val,string,Boolean,string,string);
external	procedure DrawPOSInterface_RUS(string,string,record POSButtonsVc,Integer,string,Integer);
external	procedure DisplayRecordDetailsCustDisplay_RUS(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,string,string,val);
external	function string 255 ResDayWClassWindowTitle_RUS();
external	function string 255 ResMonWClassWindowTitle_RUS();
external	function string 255 RTMonWClassWindowTitle_RUS();
external	procedure SetupNightAuditWindowControls_RUS(Boolean);
external	procedure CURClassDefinitionRUS();
external	function real DrawPaymentModesButtons_IV_RUS(real);
external	function real FunctionButtons_RUS(string);
external	procedure CreditCardWindowHeader_RUS(Boolean,Boolean,Real);
external	procedure CreditCardWindowButtons_RUS(string,string,real);
external	procedure CreditCardWindowInvoiceDetail_RUS(Real);
external	procedure CreditCardWindowDeliveryDetail_RUS(Real);
external	function real DrawPaymentModesButtons_RUS();
external	procedure DrawBarMenuTiles_RUS(string);
external	procedure DrawRestPMOtherPay_RUS();
external	procedure DisplayRecordDetailsRA_RUS(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,LongInt,Date,string,LongInt,string);
external	procedure DrawModifierButtons2_RUS(var integer,var integer);
external	procedure OKCancel_RUS();
external	procedure DefineElearningURLCacheLClass_RUS();
external	procedure DefineElearningURLCacheDClass_RUS();
external	function real TravelLogDeductions_RUS(real,real);
external	procedure LoginButtons_RUS(Real);
external	procedure FORMDEF2_RUS();
external	procedure FORMDEF3_RUS();
external	procedure ARS2RClass_RUS();
external	procedure ALLVATRClass_RUS();

// Language functions SAF
external	function Boolean DisplayLoginKeyPad_SAF();
external	function string 255 VATZoneEditFieldLabelSAF(Integer);
external	function real VATZoneButtonsLabelsSAF(real,real,real,real);
external	procedure LoginButtons2_SAF(Real,Real);
external	procedure FORMDEF_SAF();
external	function string 255 DemoMsgWClassTitle_SAF(Boolean,Boolean);
external	procedure TBEClassDef_SAF();
external	function string 255 VATZoneNameSAF();
external	procedure TSERW_SAF();
external	procedure TSERWNT_SAF();
external	procedure TSERWTouch_SAF();
external	procedure TSERWTEST_SAF();
external	procedure INVFORM_SAF(Boolean);
external	procedure DisplayRecordDetails_SAF(LongInt,LongInt,string,date,time,string,string,string,string,string,string,string,string,string,string,string,Integer,string,string,string,val,string,Boolean,string,string);
external	procedure DrawPOSInterface_SAF(string,string,record POSButtonsVc,Integer,string,Integer);
external	procedure DisplayRecordDetailsCustDisplay_SAF(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,string,string,val);
external	function string 255 ResDayWClassWindowTitle_SAF();
external	function string 255 ResMonWClassWindowTitle_SAF();
external	function string 255 RTMonWClassWindowTitle_SAF();
external	procedure SetupNightAuditWindowControls_SAF(Boolean);
external	procedure CURClassDefinitionSAF();
external	function real DrawPaymentModesButtons_IV_SAF(real);
external	function real FunctionButtons_SAF(string);
external	procedure CreditCardWindowHeader_SAF(Boolean,Boolean,Real);
external	procedure CreditCardWindowButtons_SAF(string,string,real);
external	procedure CreditCardWindowInvoiceDetail_SAF(Real);
external	procedure CreditCardWindowDeliveryDetail_SAF(Real);
external	function real DrawPaymentModesButtons_SAF();
external	procedure DrawBarMenuTiles_SAF(string);
external	procedure DrawRestPMOtherPay_SAF();
external	procedure DisplayRecordDetailsRA_SAF(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,LongInt,Date,string,LongInt,string);
external	procedure DrawModifierButtons2_SAF(var integer,var integer);
external	procedure OKCancel_SAF();
external	procedure DefineElearningURLCacheLClass_SAF();
external	procedure DefineElearningURLCacheDClass_SAF();
external	function real TravelLogDeductions_SAF(real,real);
external	procedure LoginButtons_SAF(Real);
external	procedure FORMDEF2_SAF();
external	procedure FORMDEF3_SAF();
external	procedure ARS2RClass_SAF();
external	procedure ALLVATRClass_SAF();

// Language functions SER
external	function Boolean DisplayLoginKeyPad_SER();
external	function string 255 VATZoneEditFieldLabelSER(Integer);
external	function real VATZoneButtonsLabelsSER(real,real,real,real);
external	procedure LoginButtons2_SER(Real,Real);
external	procedure FORMDEF_SER();
external	function string 255 DemoMsgWClassTitle_SER(Boolean,Boolean);
external	procedure TBEClassDef_SER();
external	function string 255 VATZoneNameSER();
external	procedure TSERW_SER();
external	procedure TSERWNT_SER();
external	procedure TSERWTouch_SER();
external	procedure TSERWTEST_SER();
external	procedure INVFORM_SER(Boolean);
external	procedure DisplayRecordDetails_SER(LongInt,LongInt,string,date,time,string,string,string,string,string,string,string,string,string,string,string,Integer,string,string,string,val,string,Boolean,string,string);
external	procedure DrawPOSInterface_SER(string,string,record POSButtonsVc,Integer,string,Integer);
external	procedure DisplayRecordDetailsCustDisplay_SER(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,string,string,val);
external	function string 255 ResDayWClassWindowTitle_SER();
external	function string 255 ResMonWClassWindowTitle_SER();
external	function string 255 RTMonWClassWindowTitle_SER();
external	procedure SetupNightAuditWindowControls_SER(Boolean);
external	procedure CURClassDefinitionSER();
external	function real DrawPaymentModesButtons_IV_SER(real);
external	function real FunctionButtons_SER(string);
external	procedure CreditCardWindowHeader_SER(Boolean,Boolean,Real);
external	procedure CreditCardWindowButtons_SER(string,string,real);
external	procedure CreditCardWindowInvoiceDetail_SER(Real);
external	procedure CreditCardWindowDeliveryDetail_SER(Real);
external	function real DrawPaymentModesButtons_SER();
external	procedure DrawBarMenuTiles_SER(string);
external	procedure DrawRestPMOtherPay_SER();
external	procedure DisplayRecordDetailsRA_SER(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,LongInt,Date,string,LongInt,string);
external	procedure DrawModifierButtons2_SER(var integer,var integer);
external	procedure OKCancel_SER();
external	procedure DefineElearningURLCacheLClass_SER();
external	procedure DefineElearningURLCacheDClass_SER();
external	function real TravelLogDeductions_SER(real,real);
external	procedure LoginButtons_SER(Real);
external	procedure FORMDEF2_SER();
external	procedure FORMDEF3_SER();
external	procedure ARS2RClass_SER();
external	procedure ALLVATRClass_SER();

// Language functions SGP
external	function Boolean DisplayLoginKeyPad_SGP();
external	function string 255 VATZoneEditFieldLabelSGP(Integer);
external	function real VATZoneButtonsLabelsSGP(real,real,real,real);
external	procedure LoginButtons2_SGP(Real,Real);
external	procedure FORMDEF_SGP();
external	function string 255 DemoMsgWClassTitle_SGP(Boolean,Boolean);
external	procedure TBEClassDef_SGP();
external	function string 255 VATZoneNameSGP();
external	procedure TSERW_SGP();
external	procedure TSERWNT_SGP();
external	procedure TSERWTouch_SGP();
external	procedure TSERWTEST_SGP();
external	procedure INVFORM_SGP(Boolean);
external	procedure DisplayRecordDetails_SGP(LongInt,LongInt,string,date,time,string,string,string,string,string,string,string,string,string,string,string,Integer,string,string,string,val,string,Boolean,string,string);
external	procedure DrawPOSInterface_SGP(string,string,record POSButtonsVc,Integer,string,Integer);
external	procedure DisplayRecordDetailsCustDisplay_SGP(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,string,string,val);
external	function string 255 ResDayWClassWindowTitle_SGP();
external	function string 255 ResMonWClassWindowTitle_SGP();
external	function string 255 RTMonWClassWindowTitle_SGP();
external	procedure SetupNightAuditWindowControls_SGP(Boolean);
external	procedure CURClassDefinitionSGP();
external	function real DrawPaymentModesButtons_IV_SGP(real);
external	function real FunctionButtons_SGP(string);
external	procedure CreditCardWindowHeader_SGP(Boolean,Boolean,Real);
external	procedure CreditCardWindowButtons_SGP(string,string,real);
external	procedure CreditCardWindowInvoiceDetail_SGP(Real);
external	procedure CreditCardWindowDeliveryDetail_SGP(Real);
external	function real DrawPaymentModesButtons_SGP();
external	procedure DrawBarMenuTiles_SGP(string);
external	procedure DrawRestPMOtherPay_SGP();
external	procedure DisplayRecordDetailsRA_SGP(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,LongInt,Date,string,LongInt,string);
external	procedure DrawModifierButtons2_SGP(var integer,var integer);
external	procedure OKCancel_SGP();
external	procedure DefineElearningURLCacheLClass_SGP();
external	procedure DefineElearningURLCacheDClass_SGP();
external	function real TravelLogDeductions_SGP(real,real);
external	procedure LoginButtons_SGP(Real);
external	procedure FORMDEF2_SGP();
external	procedure FORMDEF3_SGP();
external	procedure ARS2RClass_SGP();
external	procedure ALLVATRClass_SGP();

// Language functions SWE
external	function Boolean DisplayLoginKeyPad_SWE();
external	function string 255 VATZoneEditFieldLabelSWE(Integer);
external	function real VATZoneButtonsLabelsSWE(real,real,real,real);
external	procedure LoginButtons2_SWE(Real,Real);
external	procedure FORMDEF_SWE();
external	function string 255 DemoMsgWClassTitle_SWE(Boolean,Boolean);
external	procedure TBEClassDef_SWE();
external	function string 255 VATZoneNameSWE();
external	procedure TSERW_SWE();
external	procedure TSERWNT_SWE();
external	procedure TSERWTouch_SWE();
external	procedure TSERWTEST_SWE();
external	procedure INVFORM_SWE(Boolean);
external	procedure DisplayRecordDetails_SWE(LongInt,LongInt,string,date,time,string,string,string,string,string,string,string,string,string,string,string,Integer,string,string,string,val,string,Boolean,string,string);
external	procedure DrawPOSInterface_SWE(string,string,record POSButtonsVc,Integer,string,Integer);
external	procedure DisplayRecordDetailsCustDisplay_SWE(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,string,string,val);
external	function string 255 ResDayWClassWindowTitle_SWE();
external	function string 255 ResMonWClassWindowTitle_SWE();
external	function string 255 RTMonWClassWindowTitle_SWE();
external	procedure SetupNightAuditWindowControls_SWE(Boolean);
external	procedure CURClassDefinitionSWE();
external	function real DrawPaymentModesButtons_IV_SWE(real);
external	function real FunctionButtons_SWE(string);
external	procedure CreditCardWindowHeader_SWE(Boolean,Boolean,Real);
external	procedure CreditCardWindowButtons_SWE(string,string,real);
external	procedure CreditCardWindowInvoiceDetail_SWE(Real);
external	procedure CreditCardWindowDeliveryDetail_SWE(Real);
external	function real DrawPaymentModesButtons_SWE();
external	procedure DrawBarMenuTiles_SWE(string);
external	procedure DrawRestPMOtherPay_SWE();
external	procedure DisplayRecordDetailsRA_SWE(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,LongInt,Date,string,LongInt,string);
external	procedure DrawModifierButtons2_SWE(var integer,var integer);
external	procedure OKCancel_SWE();
external	procedure DefineElearningURLCacheLClass_SWE();
external	procedure DefineElearningURLCacheDClass_SWE();
external	function real TravelLogDeductions_SWE(real,real);
external	procedure LoginButtons_SWE(Real);
external	procedure FORMDEF2_SWE();
external	procedure FORMDEF3_SWE();
external	procedure ARS2RClass_SWE();
external	procedure ALLVATRClass_SWE();

// Language functions SLO
external	function Boolean DisplayLoginKeyPad_SLO();
external	function string 255 VATZoneEditFieldLabelSLO(Integer);
external	function real VATZoneButtonsLabelsSLO(real,real,real,real);
external	procedure LoginButtons2_SLO(Real,Real);
external	procedure FORMDEF_SLO();
external	function string 255 DemoMsgWClassTitle_SLO(Boolean,Boolean);
external	procedure TBEClassDef_SLO();
external	function string 255 VATZoneNameSLO();
external	procedure TSERW_SLO();
external	procedure TSERWNT_SLO();
external	procedure TSERWTouch_SLO();
external	procedure TSERWTEST_SLO();
external	procedure INVFORM_SLO(Boolean);
external	procedure DisplayRecordDetails_SLO(LongInt,LongInt,string,date,time,string,string,string,string,string,string,string,string,string,string,string,Integer,string,string,string,val,string,Boolean,string,string);
external	procedure DrawPOSInterface_SLO(string,string,record POSButtonsVc,Integer,string,Integer);
external	procedure DisplayRecordDetailsCustDisplay_SLO(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,string,string,val);
external	function string 255 ResDayWClassWindowTitle_SLO();
external	function string 255 ResMonWClassWindowTitle_SLO();
external	function string 255 RTMonWClassWindowTitle_SLO();
external	procedure SetupNightAuditWindowControls_SLO(Boolean);
external	procedure CURClassDefinitionSLO();
external	function real DrawPaymentModesButtons_IV_SLO(real);
external	function real FunctionButtons_SLO(string);
external	procedure CreditCardWindowHeader_SLO(Boolean,Boolean,Real);
external	procedure CreditCardWindowButtons_SLO(string,string,real);
external	procedure CreditCardWindowInvoiceDetail_SLO(Real);
external	procedure CreditCardWindowDeliveryDetail_SLO(Real);
external	function real DrawPaymentModesButtons_SLO();
external	procedure DrawBarMenuTiles_SLO(string);
external	procedure DrawRestPMOtherPay_SLO();
external	procedure DisplayRecordDetailsRA_SLO(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,LongInt,Date,string,LongInt,string);
external	procedure DrawModifierButtons2_SLO(var integer,var integer);
external	procedure OKCancel_SLO();
external	procedure DefineElearningURLCacheLClass_SLO();
external	procedure DefineElearningURLCacheDClass_SLO();
external	function real TravelLogDeductions_SLO(real,real);
external	procedure LoginButtons_SLO(Real);
external	procedure FORMDEF2_SLO();
external	procedure FORMDEF3_SLO();
external	procedure ARS2RClass_SLO();
external	procedure ALLVATRClass_SLO();

// Language functions SVK
external	function Boolean DisplayLoginKeyPad_SVK();
external	function string 255 VATZoneEditFieldLabelSVK(Integer);
external	function real VATZoneButtonsLabelsSVK(real,real,real,real);
external	procedure LoginButtons2_SVK(Real,Real);
external	procedure FORMDEF_SVK();
external	function string 255 DemoMsgWClassTitle_SVK(Boolean,Boolean);
external	procedure TBEClassDef_SVK();
external	function string 255 VATZoneNameSVK();
external	procedure TSERW_SVK();
external	procedure TSERWNT_SVK();
external	procedure TSERWTouch_SVK();
external	procedure TSERWTEST_SVK();
external	procedure INVFORM_SVK(Boolean);
external	procedure DisplayRecordDetails_SVK(LongInt,LongInt,string,date,time,string,string,string,string,string,string,string,string,string,string,string,Integer,string,string,string,val,string,Boolean,string,string);
external	procedure DrawPOSInterface_SVK(string,string,record POSButtonsVc,Integer,string,Integer);
external	procedure DisplayRecordDetailsCustDisplay_SVK(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,string,string,val);
external	function string 255 ResDayWClassWindowTitle_SVK();
external	function string 255 ResMonWClassWindowTitle_SVK();
external	function string 255 RTMonWClassWindowTitle_SVK();
external	procedure SetupNightAuditWindowControls_SVK(Boolean);
external	procedure CURClassDefinitionSVK();
external	function real DrawPaymentModesButtons_IV_SVK(real);
external	function real FunctionButtons_SVK(string);
external	procedure CreditCardWindowHeader_SVK(Boolean,Boolean,Real);
external	procedure CreditCardWindowButtons_SVK(string,string,real);
external	procedure CreditCardWindowInvoiceDetail_SVK(Real);
external	procedure CreditCardWindowDeliveryDetail_SVK(Real);
external	function real DrawPaymentModesButtons_SVK();
external	procedure DrawBarMenuTiles_SVK(string);
external	procedure DrawRestPMOtherPay_SVK();
external	procedure DisplayRecordDetailsRA_SVK(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,LongInt,Date,string,LongInt,string);
external	procedure DrawModifierButtons2_SVK(var integer,var integer);
external	procedure OKCancel_SVK();
external	procedure DefineElearningURLCacheLClass_SVK();
external	procedure DefineElearningURLCacheDClass_SVK();
external	function real TravelLogDeductions_SVK(real,real);
external	procedure LoginButtons_SVK(Real);
external	procedure FORMDEF2_SVK();
external	procedure FORMDEF3_SVK();
external	procedure ARS2RClass_SVK();
external	procedure ALLVATRClass_SVK();

// Language functions TUR
external	function Boolean DisplayLoginKeyPad_TUR();
external	function string 255 VATZoneEditFieldLabelTUR(Integer);
external	function real VATZoneButtonsLabelsTUR(real,real,real,real);
external	procedure LoginButtons2_TUR(Real,Real);
external	procedure FORMDEF_TUR();
external	function string 255 DemoMsgWClassTitle_TUR(Boolean,Boolean);
external	procedure TBEClassDef_TUR();
external	function string 255 VATZoneNameTUR();
external	procedure TSERW_TUR();
external	procedure TSERWNT_TUR();
external	procedure TSERWTouch_TUR();
external	procedure TSERWTEST_TUR();
external	procedure INVFORM_TUR(Boolean);
external	procedure DisplayRecordDetails_TUR(LongInt,LongInt,string,date,time,string,string,string,string,string,string,string,string,string,string,string,Integer,string,string,string,val,string,Boolean,string,string);
external	procedure DrawPOSInterface_TUR(string,string,record POSButtonsVc,Integer,string,Integer);
external	procedure DisplayRecordDetailsCustDisplay_TUR(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,string,string,val);
external	function string 255 ResDayWClassWindowTitle_TUR();
external	function string 255 ResMonWClassWindowTitle_TUR();
external	function string 255 RTMonWClassWindowTitle_TUR();
external	procedure SetupNightAuditWindowControls_TUR(Boolean);
external	procedure CURClassDefinitionTUR();
external	function real DrawPaymentModesButtons_IV_TUR(real);
external	function real FunctionButtons_TUR(string);
external	procedure CreditCardWindowHeader_TUR(Boolean,Boolean,Real);
external	procedure CreditCardWindowButtons_TUR(string,string,real);
external	procedure CreditCardWindowInvoiceDetail_TUR(Real);
external	procedure CreditCardWindowDeliveryDetail_TUR(Real);
external	function real DrawPaymentModesButtons_TUR();
external	procedure DrawBarMenuTiles_TUR(string);
external	procedure DrawRestPMOtherPay_TUR();
external	procedure DisplayRecordDetailsRA_TUR(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,LongInt,Date,string,LongInt,string);
external	procedure DrawModifierButtons2_TUR(var integer,var integer);
external	procedure OKCancel_TUR();
external	procedure DefineElearningURLCacheLClass_TUR();
external	procedure DefineElearningURLCacheDClass_TUR();
external	function real TravelLogDeductions_TUR(real,real);
external	procedure LoginButtons_TUR(Real);
external	procedure FORMDEF2_TUR();
external	procedure FORMDEF3_TUR();
external	procedure ARS2RClass_TUR();
external	procedure ALLVATRClass_TUR();

// Language functions UKR
external	function Boolean DisplayLoginKeyPad_UKR();
external	function string 255 VATZoneEditFieldLabelUKR(Integer);
external	function real VATZoneButtonsLabelsUKR(real,real,real,real);
external	procedure LoginButtons2_UKR(Real,Real);
external	procedure FORMDEF_UKR();
external	function string 255 DemoMsgWClassTitle_UKR(Boolean,Boolean);
external	procedure TBEClassDef_UKR();
external	function string 255 VATZoneNameUKR();
external	procedure TSERW_UKR();
external	procedure TSERWNT_UKR();
external	procedure TSERWTouch_UKR();
external	procedure TSERWTEST_UKR();
external	procedure INVFORM_UKR(Boolean);
external	procedure DisplayRecordDetails_UKR(LongInt,LongInt,string,date,time,string,string,string,string,string,string,string,string,string,string,string,Integer,string,string,string,val,string,Boolean,string,string);
external	procedure DrawPOSInterface_UKR(string,string,record POSButtonsVc,Integer,string,Integer);
external	procedure DisplayRecordDetailsCustDisplay_UKR(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,string,string,val);
external	function string 255 ResDayWClassWindowTitle_UKR();
external	function string 255 ResMonWClassWindowTitle_UKR();
external	function string 255 RTMonWClassWindowTitle_UKR();
external	procedure SetupNightAuditWindowControls_UKR(Boolean);
external	procedure CURClassDefinitionUKR();
external	function real DrawPaymentModesButtons_IV_UKR(real);
external	function real FunctionButtons_UKR(string);
external	procedure CreditCardWindowHeader_UKR(Boolean,Boolean,Real);
external	procedure CreditCardWindowButtons_UKR(string,string,real);
external	procedure CreditCardWindowInvoiceDetail_UKR(Real);
external	procedure CreditCardWindowDeliveryDetail_UKR(Real);
external	function real DrawPaymentModesButtons_UKR();
external	procedure DrawBarMenuTiles_UKR(string);
external	procedure DrawRestPMOtherPay_UKR();
external	procedure DisplayRecordDetailsRA_UKR(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,LongInt,Date,string,LongInt,string);
external	procedure DrawModifierButtons2_UKR(var integer,var integer);
external	procedure OKCancel_UKR();
external	procedure DefineElearningURLCacheLClass_UKR();
external	procedure DefineElearningURLCacheDClass_UKR();
external	function real TravelLogDeductions_UKR(real,real);
external	procedure LoginButtons_UKR(Real);
external	procedure FORMDEF2_UKR();
external	procedure FORMDEF3_UKR();
external	procedure ARS2RClass_UKR();
external	procedure ALLVATRClass_UKR();

// Language functions USA
external	function Boolean DisplayLoginKeyPad_USA();
external	function string 255 VATZoneEditFieldLabelUSA(Integer);
external	function real VATZoneButtonsLabelsUSA(real,real,real,real);
external	procedure LoginButtons2_USA(Real,Real);
external	procedure FORMDEF_USA();
external	function string 255 DemoMsgWClassTitle_USA(Boolean,Boolean);
external	procedure TBEClassDef_USA();
external	function string 255 VATZoneNameUSA();
external	procedure TSERW_USA();
external	procedure TSERWNT_USA();
external	procedure TSERWTouch_USA();
external	procedure TSERWTEST_USA();
external	procedure INVFORM_USA(Boolean);
external	procedure DisplayRecordDetails_USA(LongInt,LongInt,string,date,time,string,string,string,string,string,string,string,string,string,string,string,Integer,string,string,string,val,string,Boolean,string,string);
external	procedure DrawPOSInterface_USA(string,string,record POSButtonsVc,Integer,string,Integer);
external	procedure DisplayRecordDetailsCustDisplay_USA(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,string,string,val);
external	function string 255 ResDayWClassWindowTitle_USA();
external	function string 255 ResMonWClassWindowTitle_USA();
external	function string 255 RTMonWClassWindowTitle_USA();
external	procedure SetupNightAuditWindowControls_USA(Boolean);
external	procedure CURClassDefinitionUSA();
external	function real DrawPaymentModesButtons_IV_USA(real);
external	function real FunctionButtons_USA(string);
external	procedure CreditCardWindowHeader_USA(Boolean,Boolean,Real);
external	procedure CreditCardWindowButtons_USA(string,string,real);
external	procedure CreditCardWindowInvoiceDetail_USA(Real);
external	procedure CreditCardWindowDeliveryDetail_USA(Real);
external	function real DrawPaymentModesButtons_USA();
external	procedure DrawBarMenuTiles_USA(string);
external	procedure DrawRestPMOtherPay_USA();
external	procedure DisplayRecordDetailsRA_USA(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,LongInt,Date,string,LongInt,string);
external	procedure DrawModifierButtons2_USA(var integer,var integer);
external	procedure OKCancel_USA();
external	procedure DefineElearningURLCacheLClass_USA();
external	procedure DefineElearningURLCacheDClass_USA();
external	function real TravelLogDeductions_USA(real,real);
external	procedure LoginButtons_USA(Real);
external	procedure FORMDEF2_USA();
external	procedure FORMDEF3_USA();
external	procedure ARS2RClass_USA();
external	procedure ALLVATRClass_USA();

// Language functions USS
external	function Boolean DisplayLoginKeyPad_USS();
external	function string 255 VATZoneEditFieldLabelUSS(Integer);
external	function real VATZoneButtonsLabelsUSS(real,real,real,real);
external	procedure LoginButtons2_USS(Real,Real);
external	procedure FORMDEF_USS();
external	function string 255 DemoMsgWClassTitle_USS(Boolean,Boolean);
external	procedure TBEClassDef_USS();
external	function string 255 VATZoneNameUSS();
external	procedure TSERW_USS();
external	procedure TSERWNT_USS();
external	procedure TSERWTouch_USS();
external	procedure TSERWTEST_USS();
external	procedure INVFORM_USS(Boolean);
external	procedure DisplayRecordDetails_USS(LongInt,LongInt,string,date,time,string,string,string,string,string,string,string,string,string,string,string,Integer,string,string,string,val,string,Boolean,string,string);
external	procedure DrawPOSInterface_USS(string,string,record POSButtonsVc,Integer,string,Integer);
external	procedure DisplayRecordDetailsCustDisplay_USS(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,string,string,val);
external	function string 255 ResDayWClassWindowTitle_USS();
external	function string 255 ResMonWClassWindowTitle_USS();
external	function string 255 RTMonWClassWindowTitle_USS();
external	procedure SetupNightAuditWindowControls_USS(Boolean);
external	procedure CURClassDefinitionUSS();
external	function real DrawPaymentModesButtons_IV_USS(real);
external	function real FunctionButtons_USS(string);
external	procedure CreditCardWindowHeader_USS(Boolean,Boolean,Real);
external	procedure CreditCardWindowButtons_USS(string,string,real);
external	procedure CreditCardWindowInvoiceDetail_USS(Real);
external	procedure CreditCardWindowDeliveryDetail_USS(Real);
external	function real DrawPaymentModesButtons_USS();
external	procedure DrawBarMenuTiles_USS(string);
external	procedure DrawRestPMOtherPay_USS();
external	procedure DisplayRecordDetailsRA_USS(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,LongInt,Date,string,LongInt,string);
external	procedure DrawModifierButtons2_USS(var integer,var integer);
external	procedure OKCancel_USS();
external	procedure DefineElearningURLCacheLClass_USS();
external	procedure DefineElearningURLCacheDClass_USS();
external	function real TravelLogDeductions_USS(real,real);
external	procedure LoginButtons_USS(Real);
external	procedure FORMDEF2_USS();
external	procedure FORMDEF3_USS();
external	procedure ARS2RClass_USS();
external	procedure ALLVATRClass_USS();

// Language functions VIE
external	function Boolean DisplayLoginKeyPad_VIE();
external	function string 255 VATZoneEditFieldLabelVIE(Integer);
external	function real VATZoneButtonsLabelsVIE(real,real,real,real);
external	procedure LoginButtons2_VIE(Real,Real);
external	procedure FORMDEF_VIE();
external	function string 255 DemoMsgWClassTitle_VIE(Boolean,Boolean);
external	procedure TBEClassDef_VIE();
external	function string 255 VATZoneNameVIE();
external	procedure TSERW_VIE();
external	procedure TSERWNT_VIE();
external	procedure TSERWTouch_VIE();
external	procedure TSERWTEST_VIE();
external	procedure INVFORM_VIE(Boolean);
external	procedure DisplayRecordDetails_VIE(LongInt,LongInt,string,date,time,string,string,string,string,string,string,string,string,string,string,string,Integer,string,string,string,val,string,Boolean,string,string);
external	procedure DrawPOSInterface_VIE(string,string,record POSButtonsVc,Integer,string,Integer);
external	procedure DisplayRecordDetailsCustDisplay_VIE(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,string,string,val);
external	function string 255 ResDayWClassWindowTitle_VIE();
external	function string 255 ResMonWClassWindowTitle_VIE();
external	function string 255 RTMonWClassWindowTitle_VIE();
external	procedure SetupNightAuditWindowControls_VIE(Boolean);
external	procedure CURClassDefinitionVIE();
external	function real DrawPaymentModesButtons_IV_VIE(real);
external	function real FunctionButtons_VIE(string);
external	procedure CreditCardWindowHeader_VIE(Boolean,Boolean,Real);
external	procedure CreditCardWindowButtons_VIE(string,string,real);
external	procedure CreditCardWindowInvoiceDetail_VIE(Real);
external	procedure CreditCardWindowDeliveryDetail_VIE(Real);
external	function real DrawPaymentModesButtons_VIE();
external	procedure DrawBarMenuTiles_VIE(string);
external	procedure DrawRestPMOtherPay_VIE();
external	procedure DisplayRecordDetailsRA_VIE(LongInt,LongInt,string,date,time,string,string,string,string,string,string,Integer,string,LongInt,Date,string,LongInt,string);
external	procedure DrawModifierButtons2_VIE(var integer,var integer);
external	procedure OKCancel_VIE();
external	procedure DefineElearningURLCacheLClass_VIE();
external	procedure DefineElearningURLCacheDClass_VIE();
external	function real TravelLogDeductions_VIE(real,real);
external	procedure LoginButtons_VIE(Real);
external	procedure FORMDEF2_VIE();
external	procedure FORMDEF3_VIE();
external	procedure ARS2RClass_VIE();
external	procedure ALLVATRClass_VIE();

external	function Boolean IsStandardERP();
external	function Boolean IsEnterprise();
external	function Boolean StandardHansa();
external	function Boolean HasATOL();

external	function Boolean HasApprovals();
external	function Boolean HasCCPayments();
external	function Boolean HasAdvancedAccounting();
external	function Boolean HasAdvancedCRM();
external	function Boolean HasAdvancedPricing();
external	function Boolean HasAdvancedStock();
external	function Boolean HasBar();
external	function Boolean HasBase2();
external	function Boolean HasBranch();
external	function Boolean HasCategories();
external	function Boolean HasCommunicator();
external	function Boolean HasConsignmentStock();
external	function Boolean HasContactClassification();
external	function Boolean HasContactRelations();
external	function Boolean HasConsolidation();
external	function Boolean HasCountryPerCustomer();
external	function Boolean HasCustItem();
external	function Boolean HasCustomerSearchKey();
external	function Boolean HasDefineColumns();
external	function Boolean HasDeliveryAddress();
external	function Boolean HasDepartments();
external	function Boolean HasETaxDocuments();
external	function Boolean HasEInvoicing();
external	function Boolean HasEndorsedChecks();
external	function Boolean HasExtraNLComment();
external	function Boolean HasExtTax();
external	function Boolean HasFavouriteActTypes();
external	function Boolean HasFormEditor();
external	function Boolean HasFreightAdvanced();
external	function Boolean HasHideCostPrice();
external	function Boolean HasHotelInterface();
external	function Boolean HasGuestUserDefined();
external	function Boolean HasJewelleryInterface();
external	function Boolean HasIncomeAndExpenseBook();
external	function Boolean HasIOUChecks();
external	function Boolean HasItemClassification();
external	function Boolean HasItemGroups();
external	function Boolean HasKPIs();
external	function Boolean HasLanguages();
external	function Boolean HasLimitedAccess();
external	function Boolean HasLocalMachines();
external	function Boolean HasMainPartner();
external	function Boolean HasMultiCurrency();
external	function Boolean HasMultiLocations();
external	function Boolean HasLoyaltyCards();
external	function Boolean HasObjects();
external	function Boolean HasOfficialSerNr();
external	function Boolean HasPreferedOfficialSerNr();
external	function Boolean HasNumberSeries();
external	function Boolean HasPersons();
external	function Boolean HasPocketScreen();
external	function Boolean HasPositions();
external	function Boolean HasProjects();
external	function Boolean HasPriceLists();
external	function Boolean HasQualityControl();
external	function Boolean HasReconLevel2();
external	function Boolean HasReminderLevel();
external	function Boolean HasRemoteBackup();
external	function Boolean HasResourceDisplayGroups();
external	function Boolean HasRussianPrepayment();
external	function Boolean HasRoute();
external	function Boolean HasSalesman();
external	function Boolean HasSecondQuantity();
external	function Boolean HasSerialNumbers();
external	function Boolean HasSettlementDiscount();
external	function Boolean HasSimulations();
external	function Boolean hasSimAccruals();
external	function Boolean HasSkypeConnection();
external	function Boolean HasSIPServerConnection();
external	function Boolean HasTaxMatrix();
external	function Boolean HasTestFeatures();
external	function Boolean HasMetroTestFeatures();
external	function Boolean HasTouchScreenDevice();
external	function Boolean HasTouchScreenLook();
external	function Boolean HasTREO();
external	function Boolean HasVarieties();
external	function Boolean HasVATZone();
external	function Boolean HasWithholdingTax();
external	function Boolean HasWithholdingTaxAdvanced();

external	function Boolean HasStandardCRM();
external	function Boolean HasStandardOrganizer();
external	function Boolean HasStandardCommunicator();

external	function Boolean HasEMail();
external	function Boolean HasExternalEMail();

external	function Boolean HasModAT2();
external	function Boolean HasModCheck();
external	function Boolean HasModCL();
external	function Boolean HasModCO();
external	function Boolean HasModCourses();
external	function Boolean HasModCredMan();
external	function Boolean HasModCRM();
external	function Boolean HasModExp();
external	function Boolean HasModHotel();
external	function Boolean HasModHRM();
external	function Boolean HasModIN();
external	function Boolean HasModNL();
external	function Boolean HasModPO();
external	function Boolean HasModPOS();
external	function Boolean HasModPL();
external	function Boolean HasModPP();
external	function Boolean HasModProd();
external	function Boolean HasModQT();
external	function Boolean HasModRent();
external	function Boolean HasModRest();
external	function Boolean HasModRsrt();
external	function Boolean HasModSO();
external	function Boolean HasModSL();
external	function Boolean HasModSVO();
external	function Boolean HasModTS();
external	function Boolean HasModWHM();
external	function Boolean HasModDI();

remote function integer GetLoyPoints(string);



//##ii
procedure dummy() //##ii
begin //##ii
  SetLangMode(LangRussian,"RUS",0); //##ii
  return; //##ii
end; //##ii




window PUDClass:1
  wtag("language","RUS"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer")
begin
  real h,h1,h2,h3,h4,t,v,vm,vs;
  string 255 label;
  record CYBlock CYb;
  Integer tilenr;
  Integer f,flipnr;

  BlockLoad(CYb);
  WindowBegin("   ",PUDClass,CGview,-);
  if (HasJewelleryInterface) then begin
    SetWRect(20,80,870,620);
  end else begin
    SetWRect(20,80,750,460);
  end;
  Sizeable(-1,-1,0,0);
  UseView(PUVc);
  ActiveFieldOnNew("VECode");
  FormName(PurchaseForm);
  Tile(0,74,false,"",TransDate);
  EditField(75,vm=(v=6),95,"",Normal,SerNr,false,TSerSClass);
  EditField(75,v+=20,95,"",Normal,VECode,false,VESClass);
  EnterSkip(TransDate);
  EditField(h=255,v=vm,-40,"-",Normal,VEName,false,0);
  if (CurrentUser=="SAUNOK") then begin
  	EditField(h=255,v+20,100,"LocOKNr",Normal,LocOKNr,false,0);	//Edit----------------------Dima  21.01.2016
  end;	
  CheckBox(h4=-100,v+=20,0,"",OKFlag);
  if (CYb.UseTaxTemplatesforTaxCalc==0) then begin
  CheckBox(h4,v+=16,0," . ",InclVAT);
  end else begin
    CheckBox(h4,v+=16,0," . ",InclVAT);
  end;
  tilenr = 1;
  TileButton(tilenr,""); tilenr = tilenr + 1;
  TileButton(tilenr,""); tilenr = tilenr + 1;
  if (HasMultiCurrency) then begin
    TileButton(tilenr,""); tilenr = tilenr + 1;
  end;
  if (IsEnterprise) then begin
    if (StandardHansa==false) then begin
      TileButton(tilenr,". "); tilenr = tilenr + 1;
      TileButton(tilenr,""); tilenr = tilenr + 1;
    end;
    TileButton(tilenr,"."); tilenr = tilenr + 1;
  end;
  tilenr = 1;

  vs = 20; h1 = 110; h2 = 300; h3 = 550; h4 = -100;
  Tile(tilenr,70,false,tilenr,TransDate); tilenr = tilenr + 1;
  EditField(h1,vm=(v=6),82," .",Normal,TransDate,false,PasteCurDate);
  if (IsEnterprise==false) then begin
    EditField(h2,v,-20,".",Normal,Comment,false,0);
  end;
  if (HasMultiLocations) then begin
    v = v + vs;
    EditField(h1,v,82,"",Normal,Location,false,LocationSClass);
  end;
  if (HasRoute) then begin
    v = v + vs;
    EditField(h1,v,82,"",ViewOnly,Sorting,false,0);
  end;
  v = v + vs;
  SoftEditField(h1,v,82,"  ",Normal,"scanbarcode",false,0,M4Str,60);
  if (HasObjects) then begin
    if (IsEnterprise) then begin
      EditField(h2,v=vm,135,"",Normal,Objects,false,ObjSClass);
    end else begin
      if (HasMultiLocations) then begin
        EditField(h2,v,135,"",Normal,Objects,false,ObjSClass);
      end else begin
        v = v + vs;
        EditField(h2,v,135,"",Normal,Objects,false,ObjSClass);
      end;
    end;
  end;
  if (HasModPO) then begin
    if (HasObjects) then begin
      v = v + vs;
    end;
    EditField(h2,v,135,"  .",ViewOnly,PONr,false,0);
  end;
  if (IsEnterprise) then begin
    if (StandardHansa==false) then begin
      v = v + vs;
      EditField(h2,v,135," .",ViewOnly,POCOSerNr,true,POCOSClass);
    end;
    EditField(h3,v=vm,80,"  .",ViewOnly,PUClass,false,0);
  end;
  EditField(h3,v=v+vs,80," ",Normal,SalesGroup,false,SalesGroupSClass);
  if (HasLanguages) then begin
    v = v + vs;
    EditField(h3,v,80,"",Normal,LangCode,false,LangSClass);
  end;
  if (IsEnterprise) then begin
    v = v + vs;
    EditField(h3,v,80," . .",Normal,CustomsNr,false,0);
  end;
  if (HasLocalization("ARG,MEX,USA")) then begin
    v = v + vs;
    EditField(h3,v,80,"Dispatch Number",Normal,DispatchNumber,false,0);
  end;
//  CheckBox(h4,v=vm,0,"Price Incl. #VAT#",InclVAT);
  EnterSkip(Math);
  Tile(tilenr,220,true,tilenr,Math); tilenr = tilenr + 1;
  v = 24;
  if (HasSerialNumbers) then begin
    MatrixBegin(4,v,-50,-50,-,999);// Edit ************************** Wednesday, 4 June 2014 13:51:33
  end else begin
    MatrixBegin(4,v,-25,-50,-,999);
  end;
  MatTypedRow(stp);
  MatOverStrike(ovst);
  Flip(0);
  MatCol(1,28,"",0,ArtCode,false,INSClass);
//  MatCol(1,84,"Var",0,VARList,true,VARSClass);
//  MatCol(1,144,"Qty",0,Quant,true,0);
  if (HasVarieties) then begin
    MatCol(1,94,"-",0,Quant,true,MATVARINSClass);
  end else begin
    MatCol(1,94,"-",0,Quant,true,0);
  end;
  EnterSkip(Spec);
  MatText(t=3,28,"",true);
  MatCol(t,100,"",0,Sign,false,0);
  MatText(t,160," ",true);
  MatCol(t,290," .",0,UpdDate,false,0);
  flipnr = 1;
  Flip(flipnr); flipnr = flipnr + 1;
  if (HasJewelleryInterface) then begin
    MatColTL(1,144,".",0,M4Code,ViewOnly,5,UnitCode,false,UnitSCLass);
    MatCol(1,184,"",0,Spec,false,0);
    MatCol(1,-485,"",0,Location,false,LocationSClass);
    MatCol(1,-430," ",0,SerialNr,false,SerialNrSClass);
    MatCol(1,-320," ",0,StockType,false,SetSClass);
  end else begin
    MatColTL(1,164,".",0,M4Code,ViewOnly,5,UnitCode,false,UnitSCLass);
    MatCol(1,204,".",0,Spec,false,0);
  end;
  MatCol(1,-240,"",0,UPrice,true,0);
  if (UserCanAction("ViewCostPrice",true)) then begin
  	MatCol(1,-160,".",0,CostPrice,true,0); //Edit***************************Sasha2,10:24 10.11.2014
  end;
  MatCol(1,-80,"",0,Sum,true,0);
  if (IsEnterprise) then begin
    Flip(flipnr); flipnr = flipnr + 1;
    MatCol(1,144,".",0,Spec,false,0);
    MatCol(1,-350,"",0,Location,false,LocationSClass);
    MatCol(1,-280," ",0,SerialNr,false,SerialNrSClass);
    //MatCol(1,-150," ",0,BestBefore,false,0); //Edit***************************Sasha2,17:05 26.01.2015
    MatCol(1,-160,"",0,BarCode,false,0); //Edit***************************Sasha2,14:30 23.01.2015
    //MatCol(1,-60,". ",0,BatchStatus,false,BatchStatusSClass); //Edit***************************Sasha2,11:15 11.02.2015
    MatCol(1,-60,".",0,PrintQuant,false,0); //Edit***************************Sasha2,11:15 11.02.2015
    Flip(flipnr); flipnr = flipnr + 1;
    MatCol(1,144,".",0,Spec,false,0);
    if (UserCanAction("ViewCostPrice",true)) then begin
    	MatColTL(1,-404," ",0,-1,ViewOnly,-1,InPrice,false,0); //Edit***************************Sasha2,10:25 10.11.2014
    end;
    if (StandardHansa==false) then begin
      MatColTL(1,-324," ",0,-1,ViewOnly,-1,VarianceAmount,false,0);
      MatCol(1,-244,"",0,UPrice,true,0);
      MatCol(1,-174,". ",0,Extra,true,0);
      if (UserCanAction("ViewCostPrice",true)) then begin
      	MatCol(1,-104,"",0,CostPrice,true,0); //Edit***************************Sasha2,10:25 10.11.2014
      end;
    end else begin
      MatCol(1,-324,"",0,ShipCost,true,0);
      MatCol(1,-244,". ",0,Extra,true,0);
      MatCol(1,-164,"",0,CustomsCost,true,0);
    end;
    if (CYb.UseTaxTemplatesforTaxCalc!=0) then begin
      MatCol(1,-34,"",0,TaxTemplateCode,false,TaxTemplateSClass);
    end else begin
      MatCol(1,-34,"",0,VATCode,false,VATCodeSClass);
    end;
    Flip(flipnr); flipnr = flipnr + 1;
    MatCol(1,144,".",0,Spec,false,0);
    MatCol(1,-350," .",0,VEItemCode,false,0);
    MatColTL(1,-270,". .",0,M4Code,ViewOnly,5,VEUnit,false,UnitSCLass);
    MatCol(1,-200,"- .",0,VEQuant,true,0);
    if (StandardHansa==false) then begin
      MatCol(1,-140,"",0,Coefficient,true,0);
    end;
    MatCol(1,-90," ",0,BasePrice,false,0);
    Flip(flipnr); flipnr = flipnr + 1;
    MatCol(1,144,".",0,Spec,false,0);
    if (StandardHansa==false) then begin
      MatCol(1,-400," ",0,StockType,false,SetSClass);
    end;
    if (HasTREO) then begin
      MatCol(1,-310,"TREO",0,TREO,false,SetSClass);
    end;
    MatCol(1,-220," ",0,CostAcc,false,AccSClass);
    MatCol(1,-155," ",0,CredAcc,false,AccSClass);
    MatCol(1,-90,"",0,Objects,false,ObjSClass);
    if (StandardHansa==false) then begin
      Flip(flipnr); flipnr = flipnr + 1;
      MatCol(1,144,".",0,CustomsNr,false,0);
      MatCol(1,-340," ",0,CustomsDate,false,PasteCurDate);
      MatCol(1,-240,"",0,CountryOfOrg,false,CountrySClass);
      MatCol(1,-140," ",0,PosCode,false,PosSClass);
      MatCol(1,-70," ",0,ToPosCode,false,FreePosSClass);
    end;
    Flip(flipnr); flipnr = flipnr + 1;
    MatCol(1,144,".",0,Spec,false,0);
    MatCol(1,-250,". ",0,SerialNr,false,SerialNrSClass);
    MatCol(1,-140,"",0,Volume,true,0);// Edit ************************** Friday, July 4, 2014 at 17:01:36
    MatCol(1,-70,"",0,Weight,true,0);// Edit ************************** Friday, July 4, 2014 at 17:01:36
/*
    MatCol(1,-135,"",0,UnitXval,true,0);
    MatCol(1,-90,"",0,UnitYval,true,0);
    MatCol(1,-45,"",0,UnitZval,true,0);*/// Edit ************************** Friday, July 4, 2014 at 17:01:39
    if (StandardHansa==false) then begin
      Flip(flipnr); flipnr = flipnr + 1;
      MatCol(1,144,".",0,Extra,true,0);
    MatCol(1,-420,"",0,ShipCost,true,0);
    MatCol(1,-360,"",0,CustomsCost,true,0);
      label = UserDefined("AccBlock","PUCost1");
      if (blank(label)) then begin label = ". 1";end;
      MatCol(1,-300,label,0,RowCost1,false,0);
      label = UserDefined("AccBlock","PUCost2");
      if (blank(label)) then begin label = ". 2";end;
      MatCol(1,-240,label,0,RowCost2,false,0);
      label = UserDefined("AccBlock","PUCost3");
      if (blank(label)) then begin label = ". 3";end;
      MatCol(1,-180,label,0,RowCost3,false,0);
      label = UserDefined("AccBlock","PUCost4");
      if (blank(label)) then begin label = ". 4";end;
      MatCol(1,-120,label,0,RowCost4,false,0);
      label = UserDefined("AccBlock","PUCost5");
      if (blank(label)) then begin label = ". 5";end;
      MatCol(1,-60,label,0,RowCost5,false,0);
    end;
    Flip(flipnr); flipnr = flipnr + 1;
    MatCol(1,144," ",0,PONr,false,POSClass);
    MatCol(1,194," ",0,OrdRow,false,0);
    MatCol(1,-370,"..",0,PORecon,false,0);
    MatCol(1,-310,".",0,POReconComment,false,0);
    MatCol(1,-200,"./",0,VIRecon,false,0);
    MatCol(1,-130,".",0,VIReconComment,false,0);
  end else begin
    if (HasSerialNumbers) then begin
      Flip(flipnr); flipnr = flipnr + 1;
      MatCol(1,144,"",0,Spec,false,0);
      MatCol(1,-150,". ",0,SerialNr,false,SerialNrSClass);
    end;
/*
    MatCol(1,-280," .",0,UPrice,true,0);
    MatCol(1,-210,"",0,ShipCost,true,0);
    MatCol(1,-140,". ",0,Extra,true,0);
    MatCol(1,-70,"",0,CostPrice,true,0);
*/
  end;
  if (HasLocalization("ARG,MEX,USA")) then begin
    Flip(flipnr); flipnr = flipnr + 1;
    MatCol(t=1,144,"",0,Spec,false,0);
    MatCol(t,-250," ",0,DispatchNumber,false,0);
  end;
  if (HasJewelleryInterface) then begin
    Flip(flipnr); flipnr = flipnr + 1;
    MatCol(t=1,144,"",0,Spec,false,0);
    MatCol(t,-350,". . ",0,SuppSerialNr,true,0);
    MatCol(t,-200,"",0,Metal,true,0);
    MatCol(t,-150,"",0,RowWeight,true,0);
    MatCol(t,-100,"",0,Size,true,0);
    MatCol(t,-50,"",0,Length,true,0);
    Flip(flipnr); flipnr = flipnr + 1;
    MatCol(t=1,144,"",0,Spec,false,0);
    MatCol(t,-350,". ",0,MajStoneDet,true,0);
    MatCol(t,-250,"",0,Colour,true,0);
    MatCol(t,-200,"",0,Clarity,true,0);
    MatCol(t,-150,".",0,Cert,true,0);
    MatCol(t,-100,". ",0,MinStoneDet,true,0);
    Flip(flipnr); flipnr = flipnr + 1;
    MatCol(t=1,144,"",0,Spec,false,0);
    MatCol(t,-400," ",0,WatchBrand,true,0);
    MatCol(t,-300,". ",0,StyleName,true,0);
    MatCol(t,-200," ",0,WatchMetal,true,0);
    MatCol(t,-100,"",0,Movement,true,0);
    Flip(flipnr); flipnr = flipnr + 1;
    MatCol(t=1,144,"",0,Spec,false,0);
    MatCol(t,-400,"/",0,BrcStr,true,0);
    MatCol(t,-300,"",0,Gender,true,0);
    MatCol(t,-200,".",0,Other,true,0);
    MatCol(t,-100,". 2",0,Other2,true,0);
  end;
  InsertRowTest;
  DeleteRowTest;
  EndMatrix;
  vs = 20;
  v = 18;
  if (flipnr>2) then begin
    for (f=1;f<flipnr;f=f+1) begin
      VTab(-35,v,-16,v+vs,ToolFlip,f,chr(asc("A") + f - 1));
      v = v + vs;
    end;
  end;
  EditField(90,-41,70," -",ViewOnly,SumQuant,true,0);
//  EditField(110,-21,70,"Price Subtotal",Normal,SubTotal,true,0); //Shows the same as SumCostPrice?

	EditField(210,-41,60,"",ViewOnly,TotVolume,true,0);// Edit ************************** Friday, July 4, 2014 at 17:49:15
  EditField(210,-21,60,"",ViewOnly,TotWeight,true,0);// Edit ************************** Friday, July 4, 2014 at 17:49:16

  EditField(330,-41,70,"",Normal,ShipCost,true,0);
  if (IsEnterprise) then begin
    EditField(330,-21,70,"",Normal,CustomsCost,true,0);
  end;
  if (CYb.UseTaxTemplatesforTaxCalc==0) then begin
  EditField(470,-41,70,"",Normal,VATVal,true,0);// Edit ************************** Friday, July 4, 2014 at 17:53:34
  if (HasExtTax) then begin
    EditField(470,-21,70,". ",ViewOnly,TAX1Sum,true,0);
    end;
  end else begin
    EditField(470,-41,70,"",Normal,VATVal,true,0);  // Edit ************************** Friday, July 4, 2014 at 17:53:35
  end;
  EditField(-130,-41,90,"",ViewOnly,SumCostPrice,true,0);
  EditField(-130,-21,90,"",ViewOnly,PayVal,true,0);
  if (HasMultiCurrency or HasBase2) then begin
    Tile(tilenr,70,false,tilenr,FrRate); tilenr = tilenr + 1;
    vs = 20;
    if (HasBase2) then begin
      h1 = h1 + 20;
    end;
    EditField(h1,v=6,50,"",Normal,CurncyCode,false,CurncyCodeSClass);
    if (HasMultiCurrency) then begin
      if (HasBase2) then begin
        EditField(h1,v+vs,50,"  1",Normal,BaseRate1,true,0);
      end else begin
        EditField(h1,v+vs,50,". ",Normal,BaseRate1,true,0);
      end;
      if (HasBase2) then begin
        EditField(h1,v+(vs*2),50,"  2",Normal,BaseRate2,true,0);
      end;
      EditField(h2=295,v,50,"",Normal,FrRate,true,0);
      if (HasBase2) then begin
        RateField(h3=360,v,50,":",Normal,"ToRateB1",true,h3+60,v+14,"  1",false);
        RateField(h3,v+=vs,50,":",Normal,"ToRateB2",true,h3+60,v+14,"  2",false);
      end else begin
        RateField(h3=360,v,50,":",Normal,"ToRateB1",true,h3+60,v+14," ",false);
      end;
    end else begin
      EditField(h1,v+=vs,50,"  1",Normal,BaseRate1,true,0);
      EditField(h1,v+=vs,50,"  2",Normal,BaseRate2,true,0);
    end;
  end;
  if (IsEnterprise and StandardHansa==false) then begin
    Tile(tilenr,120,false,tilenr,Cost1); tilenr = tilenr + 1;
    vs = 20;
    label = UserDefined("AccBlock","PUCost1");
    if (blank(label)) then begin label = ".  1";end;
    EditField(h=110,v=6,70,label,Normal,Cost1,false,0);
    label = UserDefined("AccBlock","PUCost2");
    if (blank(label)) then begin label = ".  2";end;
    EditField(h2=295,v,70,label,Normal,Cost2,false,0);
    label = UserDefined("AccBlock","PUCost3");
    if (blank(label)) then begin label = ".  3";end;
    EditField(h,v+=vs,70,label,Normal,Cost3,false,0);
    label = UserDefined("AccBlock","PUCost4");
    if (blank(label)) then begin label = ".  4";end;
    EditField(h2,v,70,label,Normal,Cost4,false,0);
    label = UserDefined("AccBlock","PUCost5");
    if (blank(label)) then begin label = ".  5";end;
    EditField(h,v+=vs,70,label,Normal,Cost5,false,0);

    ButtonFrame(h3=400,v=16,130,2," . ");
    RadioButton(h3,v,0,0,"",ExtraCostsCalculation);
    RadioButton(h3,v+=16,1,0,"",ExtraCostsCalculation);
    // Edit Start ---------------------------------------------- Edit Start
	//Friday, July 4, 2014 at 17:24:26

    ButtonFrame(h3=400,v=76,130,3," ");
    RadioButton(h3,v,0,0,"",ShipCostRule);
    RadioButton(h3,v+=16,1,0,"",ShipCostRule);
    RadioButton(h3,v+=16,2,0,"",ShipCostRule);
    ButtonFrame(h3=200,v=76,130,3," ");
    RadioButton(h3,v,0,0,"",CustomsCostRule);
    RadioButton(h3,v+=16,1,0,"",CustomsCostRule);
    RadioButton(h3,v+=16,2,0,"",CustomsCostRule);

	// Edit End ---------------------------------------------- Edit End

    ButtonFrame(h3=-163,v=16,123,6," ");
    RadioButton(h3,v,kAcceptanceStateNotRequired,0," ",AcceptanceStatus);
    RadioButton(h3,v+=16,kAcceptanceStateNotStarted,0," ",AcceptanceStatus);
    RadioButton(h3,v+=16,kAcceptanceStateNotRequested,0," ",AcceptanceStatus);
    RadioButton(h3,v+=16,kAcceptanceStatePending,0," ",AcceptanceStatus);
    RadioButton(h3,v+=16,kAcceptanceStateApproved,0,"",AcceptanceStatus);
    RadioButton(h3,v+=16,kAcceptanceStateRejected,0,"",AcceptanceStatus);
    Tile(tilenr,130,false,tilenr,FreightCode); tilenr = tilenr + 1;
    EditField(h1,v=6,80,". ",Normal,FreightCode,false,FreightCompanySClass);
    EditField(h1,v+=vs,-20,".",Normal,FreightCompany,false,0);
    EditField(h1,v+=vs,-20,"",Normal,FreightCompanyRegNr,false,0);
    EditField(h1,v+=vs,-20,".  ",Normal,TruckInfo,false,0);
    EditField(h1,v+=vs,-20,"",Normal,Driver,false,0);
    EditField(h1,v+=vs,-20,"",Normal,CMRText,false,0); // International transporting number
    Tile(tilenr,30,false,tilenr,Comment); tilenr = tilenr + 1;
    EditField(h1,v=6,-20,".",Normal,Comment,false,0);
  end;
  if (StandardHansa==true) then begin
    Tile(tilenr,30,false,tilenr,Comment); tilenr = tilenr + 1;
    EditField(h1,v=6,-20,".",Normal,Comment,false,0);   // From dict
  end;
  if (GuiType==kGuiMetro) then begin // Temporarily disabled on Windows 8
    SpecialMenu(" ",'r',4,"PUStatusDsm");
    SpecialMenu("  ",' ',2,"GenSerialNosPUDsm");
    if (HasModNL) then begin
      SpecialMenu("  ",'t',4,"OpenTRFromPU");
    end;
    if (HasModPL) then begin
      SpecialMenu(" - ",'F',3,"VIFromPUDsm");
    end;
    if (IsEnterprise or (HasLocalization("PRT") and HasModIN)) then begin
      SpecialMenu("  ",'B',7,"RetPUFromPUDsm");
    end;
  end else begin
  if (IsEnterprise) then begin
    SpecialMenu(" ",'',1,"ItemSearchDsm");
    SpecialMenu("   ",'f',1,"TableSearchDsm"); // edit ----------Dima 26.11.2014
    SpecialMenu(" ",'r',4,"PUStatusDsm");
  end;
  if (HasSerialNumbers) then begin
    SpecialMenu("  ",' ',2,"GenSerialNosPUDsm");
    if (StandardHansa==false) then begin
      SpecialMenu("  ",' ',5,"OpenBatchPUDsm");
    end;
  end;
  if (HasModNL) then begin
    SpecialMenu("  ",'t',4,"OpenTRFromPU");
  end;
  if (HasTaxMatrix) then begin
    SpecialMenu(" . ",' ',25,"OpenVatMatrixPUDsm");
  end;
  SpecialMenu(" ",'e',0,"PrintPULabPUDsm");
  if (HasApprovals) then begin
    if (StandardHansa==false) then begin
      SpecialMenu("  ",' ',14,"PUSendforAcceptancePUDsm");
      SpecialMenu("   ",' ',2,"CancelApprovalRequestDsm");
      SpecialMenu(" ",' ',7,"SplitRowPUDsm");
    end;
    SpecialMenu(" ",' ',1,"UpdatePricesPUDsm");

    if (StandardHansa==false) then begin
      SpecialMenu("  ",' ',9,"OKStockMovPUrDsm");
    end;
  end;
  if (HasModPL) then begin
    SpecialMenu(" - ",'F',3,"VIFromPUDsm");
  end;
  if (HasQualityControl) then begin
    SpecialMenu(" ",'u',10,"QualConFromPUDsm");
//  SpecialMenu("Update Mark",' ',6,"UpdateMarkPUDsm");
  end;
  if (HasAdvancedStock or (HasLocalization("PRT") and HasModIN)) then begin
    SpecialMenu("  ",'B',7,"RetPUFromPUDsm");
  end;
  if (HasModRent) then begin
//  SpecialMenu("Create #Stock# Movement",' ',5,"StockMovFromPUSpec");
//  SpecialMenu("Scan",' ',8,"ScanBarCodePUDsm");
//  SpecialMenu("  ",' ',8,"INTransFromPUsm");	//Edit----------------------Dima  25.02.2015
  end;
   SpecialMenu("    ",'',1,"ExportToExcelPUDsm"); // edit ----------Dima 26.11.2014, 23.01.2015
  end;
  SpecialMenu("  ",'',14,"SetEAN13PUDsm"); //Edit***************************Sasha2,10:38 21.01.2015
//  SpecialMenu(" EAN13  5*13",'',14,"PrintEAN13PUDsm"); //Edit***************************Sasha2,10:38 21.01.2015
  SpecialMenu(" EAN13  5*13",'',14,"PrintLabelEANDsm");		//Edit----------------------Dima  21.10.2015
  SpecialMenu(" ",' ',8,"CreateStockMovFromPUsm");
  EndWindow;
end;


window PODClass:1
  wtag("language","RUS"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer")
begin
  real h,h1,h2,h3,h4,v,vm,vs;
  record CYBlock CYb;
  string 255 label;
  Integer tilenr,flipnr,f;

  vs = 20;
  BlockLoad(CYb);
  WindowBegin(" ",PODClass,CGview,-);
  SetWRect(20,80,750,460);
  Sizeable(-1,-1,0,0);
  UseView(POVc);
  CommunicateButton;
  ActiveFieldOnNew("VECode");
  Tile(0,74,false,"",VECode);
  EditField(75,vm=(v=6),95,"",Normal,SerNr,false,TSerSClass);
  EditField(75,v+=20,95,"",Normal,VECode,false,VESClass);
  EnterSkip(PayDeal);
  EditField(h=255,v=vm,-40,".",Normal,Addr0,false,0);
  if (IsEnterprise) then begin
    EditField(h,vm=(v+=20),95,"",Normal,OKPersons,false,UserSClass);
    CheckBox(h4=-100,v,0,"",OKFlag);
  end else begin
    CheckBox(h4=-100,v+=vs,0,"OK",OKFlag);
  end;
  tilenr = 1;
  TileButton(tilenr,""); tilenr = tilenr + 1;
  TileButton(tilenr,""); tilenr = tilenr + 1;
  if (HasMultiCurrency or HasBase2) then begin
    TileButton(tilenr,""); tilenr = tilenr + 1;
  end;
  if (HasModIN) then begin
    TileButton(tilenr,". "); tilenr = tilenr + 1;
  end;
  TileButton(tilenr,""); tilenr = tilenr + 1;
  TileButton(tilenr," ."); tilenr = tilenr + 1;
  TileButton(tilenr," ."); tilenr = tilenr + 1;
  if (IsEnterprise and StandardHansa==false) then begin
    TileButton(tilenr,". ."); tilenr = tilenr + 1;
  end;
  tilenr = 1;
  Tile(tilenr,90,false,tilenr,TransDate); tilenr = tilenr + 1;
  vs = 20; h1 = 110; h2 = 290; h3 = 530; h4 = -100;
  EditField(h1,vm=(v=6),82,"",Normal,TransDate,false,PasteCurDate);
  EditField(h1,v+=vs,25," ",Normal,PayDeal,false,PDSClass);
  if (IsEnterprise) then begin
    EditField(h1,v+=vs,82," ",Normal,ValidUntil,false,PasteCurDate);
  end;
  if (HasModIN) then begin
    EditField(h1,v+=vs,82,".",Normal,PlanShip,false,PasteCurDate);
  end;
  EditField(h2,v=vm,135," ",Normal,OurContact,false,0);
  EditField(h2,v+=vs,135,"",Normal,VEContact,false,ContactSClass);
  if (HasObjects) then begin
    EditField(h2,v+=vs,135,"",Normal,Objects,false,ObjSClass);
  end;
  if (HasModIN) then begin
    EditField(h2,v+=vs,135,". ",Normal,Reference,false,0); //Edit ------------Dima 27.01.2015
  end;
  if (HasSalesman) then begin
    EditField(h3,v=vm,80,"",Normal,SalesMan,false,UserSClass);
  end;
  if (HasModTS) then begin
    EditField(h3,v+=vs,80,"",Normal,PRCode,false,PRSClass);
  end;
  if (IsEnterprise) then begin
    EditField(h3,v+=vs,80,"  .",Normal,POClass,false,POrderClassSClass);
    EditField(h3,v+=vs,80," ",ViewOnly,OrderType,false,0);
  end;
  CheckBox(h4,v=6,0,"",Closed);
  if (CYb.UseTaxTemplatesforTaxCalc==0) then begin
  CheckBox(h4,v+=16,0," . ",InclVAT);
  end else begin
    CheckBox(h4,v+=16,0," . ",InclVAT);
  end;
  EnterSkip(Math);
  Tile(tilenr,120,true,tilenr,Math); tilenr = tilenr + 1;
  if (HasMultiCurrency or HasBase2) then begin
    EditField(60,-41,40,"",Normal,CurncyCode,false,CurncyCodeSClass);// Edit ************************** Friday, July 4, 2014 at 17:48:22
  end;
  if (IsEnterprise and StandardHansa==false) then begin
    EditField(60,-21,40,"",ViewOnly,TotPalletNr,true,0);// Edit ************************** Friday, July 4, 2014 at 17:48:24

    EditField(150,-41,60,"",ViewOnly,TotVolume,true,0);// Edit ************************** Friday, July 4, 2014 at 17:49:15
    EditField(150,-21,60,"",ViewOnly,TotWeight,true,0);// Edit ************************** Friday, July 4, 2014 at 17:49:16

    EditField(270,-41,70,"",Normal,ShipCost,true,0);// Edit ************************** Friday, July 4, 2014 at 17:51:05
    EditField(270,-21,70,"",Normal,CustomsCost,true,0);// Edit ************************** Friday, July 4, 2014 at 17:51:06
  end;
  if (CYb.UseTaxTemplatesforTaxCalc==0) then begin
  EditField(420,-41,70,"",ViewOnly,Sum3,true,0);// Edit ************************** Friday, July 4, 2014 at 17:51:11
  if (HasExtTax) then begin
    EditField(420,-21,70,". ",ViewOnly,TAX1Sum,false,0);// Edit ************************** Friday, July 4, 2014 at 17:51:08
    end;
  end else begin
    EditField(420,-41,70,"",ViewOnly,Sum3,true,0);
  end;
  EditField(-169,-41,118,"",ViewOnly,Sum1,true,0);
  EditField(-169,-21,118,"",ViewOnly,Sum4,true,0);
//  CheckBox(20,-21,0,"OK",OKFlag);
  v = 24;
  if (HasModIN or HasModPL or HasObjects) then begin
    MatrixBegin(3,v,-50,-44,-,999);// Edit ************************** Wednesday, 4 June 2014 13:51:23
  end else begin
    MatrixBegin(3,v,-25,-44,-,999);// Edit ************************** Wednesday, 4 June 2014 13:51:24
  end;
  MatTypedRow(stp);
  Flip(0);
  MatCol(1,28,"",0,ArtCode,false,INSClass);
//  MatCol(1,84,"Var",0,VARList,true,VARSClass);
//  MatCol(1,144,"Qty",0,Quant,true,0);
  if (HasVarieties) then begin
    MatCol(1,94,"-",0,Quant,true,MATVARINSClass);
  end else begin
    MatCol(1,94,"-",0,Quant,true,0);
  end;
  EnterSkip(ArtCode);
//  MatCol(1,194,"Description",0,Spec,false,0);
  flipnr = 1;
  Flip(flipnr); flipnr = flipnr + 1;
  MatColTL(1,134,".",0,M4Code,ViewOnly,5,UnitCode,false,UnitSCLass);
  MatCol(1,174,"",0,Spec,false,0);
  if (HasJewelleryInterface) then begin
    MatCol(1,-337," ",0,StockType,false,SetSClass);
  end;
  MatColTL(1,-330,".",0,M4Code,ViewOnly,0,AlternativeCode,true,0); //Edit***************************Sasha2,13:52 06.11.2014
  MatCol(1,-237,"",0,Price,true,0);
  MatCol(1,-151,"%",0,vRebate,true,0);
  MatCol(1,-116,"",0,Sum,true,0);
  if (CYb.UseTaxTemplatesforTaxCalc!=0) then begin
    MatCol(1,-30,"..",0,TaxTemplateCode,false,TaxTemplateSClass);
  end else begin
    MatCol(1,-30,"",0,VATCode,false,VATCodeSClass);
  end;
  if (HasObjects) then begin
    Flip(flipnr); flipnr = flipnr + 1;
    MatCol(1,164,"",0,Spec,false,0);
    if (IsEnterprise) then begin
      MatCol(1,-310," .",0,CostAcc,false,AccSClass);
    end;
    MatCol(1,-240,"",0,Objects,false,ObjSClass);
    if (IsEnterprise) then begin
      MatCol(1,-170," .",0,VEArtCode,false,PISClass);
      MatColTL(1,-100,"..",0,M4Code,ViewOnly,5,VEUnit,false,UnitSCLass);//MatCol(1);
      MatCol(1,-50,". .",0,VEQuant,true,0);
    end;
  end;
  if (HasModIN) then begin
    Flip(flipnr); flipnr = flipnr + 1;
    MatCol(1,164,"",0,Spec,false,0);
    MatCol(1,-330,". 1",0,Shipd1,true,0);
    MatCol(1,-270,". 2",0,Shipd2,true,0);
    if (HasModPL) then begin
      MatCol(1,-210,"/",0,Invd,true,0);
    end;
    if (IsEnterprise and StandardHansa==false) then begin
      MatCol(1,-150," ",0,PalletNr,true,0);
      MatCol(1,-90,"",0,PRCode,true,PRSClass);
      MatCol(1,-40," .",0,WSNr,true,0);
    end;
  end;
  if (IsEnterprise) then begin
    Flip(flipnr); flipnr = flipnr + 1;
    /*if (StandardHansa==false) then begin //Edit***************************Sasha2,16:08 23.06.2014
      MatCol(1,164," ",0,OrderType,false,0);
      MatCol(1,-400," ",0,StockType,false,SetSClass);
    end else begin *///Edit***************************Sasha2,16:09 23.06.2014
      MatCol(1,164,"",0,Spec,false,0);
    //end; //Edit***************************Sasha2,16:09 23.06.2014
    /*if (HasTREO) then begin
      MatCol(1,-300,"TREO",0,TREO,false,SetSClass);
    end;*/ //Edit***************************Sasha2,16:09 23.06.2014
    MatCol(1,-300,"",0,Price,false,0); //Edit***************************Sasha2,16:17 23.06.2014
    //MatCol(1,-200,". ",0,PlanShipRow,true,PasteCurDate); //Edit***************************Sasha2,16:17 23.06.2014
    MatCol(1,-200,"",0,Comment,true,0); //Edit***************************Sasha2,16:17 23.06.2014
    if (StandardHansa==false) then begin
      Flip(flipnr); flipnr = flipnr + 1;
      MatCol(1,164,"",0,Spec,false,0);
      MatCol(1,-420,"",0,ShipCost,true,0);
      MatCol(1,-360,"",0,CustomsCost,true,0);
      label = UserDefined("AccBlock","PUCost1");
      if (blank(label)) then begin label = " 1";end;
      MatCol(1,-300,label,0,RowCost1,true,0);
      label = UserDefined("AccBlock","PUCost2");
      if (blank(label)) then begin label = " 2";end;
      MatCol(1,-240,label,0,RowCost2,true,0);
      label = UserDefined("AccBlock","PUCost3");
      if (blank(label)) then begin label = " 3";end;
      MatCol(1,-180,label,0,RowCost3,true,0);
      label = UserDefined("AccBlock","PUCost4");
      if (blank(label)) then begin label = " 4";end;
      MatCol(1,-120,label,0,RowCost4,true,0);
      label = UserDefined("AccBlock","PUCost5");
      if (blank(label)) then begin label = " 5";end;
      MatCol(1,-60,label,0,RowCost5,true,0);
    end;
    Flip(flipnr); flipnr = flipnr + 1;
      //MatColTL(1,150,"..2",0,M4Str,ViewOnly,5,AddUnittext2,true,0); //Edit***************************Sasha2,17:51 23.06.2014
      MatCol(1,150,"",0,Spec,false,0);
      MatColTL(1,-350,"",0,M4UVal,Normal,0,AddUnitQty2,true,0);	//Edit by Victor 30.01.15
      MatColTL(1,-300," ",0,M4UVal,ViewOnly,0,QtyBox,false,0);	//Edit by Victor 30.01.15
      //MatColTL(1,-310,"..3",0,M4Str,ViewOnly,0,AddUnittext3,true,0);
			MatColTL(1,-200,"",0,M4UVal,Normal,0,AddUnitQty3,true,0);	//Edit by Victor 30.01.15
      MatColTL(1,-160," ",0,M4UVal,ViewOnly,0,QtyPack,false,0);	//Edit by Victor 30.01.15
      //MatColTL(1,-250,"..4",0,M4Str,ViewOnly,0,AddUnittext4,true,0);
      //MatColTL(1,-190,"-",0,M4UVal,Normal,0,AddUnitQty4,false,0);
      //MatColTL(1,-130,"..5",0,M4Str,ViewOnly,0,AddUnittext5,true,0);
      //MatColTL(1,-70,"-",0,M4UVal,Normal,0,AddUnitQty5,false,0); //Edit***************************Sasha2,17:51 23.06.2014
    Flip(flipnr); flipnr = flipnr + 1;
      MatCol(1,164,"",0,Spec,false,0);
      MatColTL(1,-140,"",0,M45Val,Normal,0,Volume,false,0);// Edit ************************** Friday, July 4, 2014 at 17:43:03
      MatColTL(1,-70,"",0,M45Val,Normal,0,Weight,true,0);// Edit ************************** Friday, July 4, 2014 at 17:43:06
  end;
  DeleteRowTest;
  InsertRowTest;
  EndMatrix;
  vs = 20;
  v = 18;
  if (flipnr>2) then begin
    for (f=1;f<flipnr;f=f+1) begin
      VTab(-35,v,-16,v+vs,ToolFlip,f,chr(asc("A") + f - 1));
      v = v + vs;
    end;
  end;
  if (HasMultiCurrency or HasBase2) then begin
    Tile(tilenr,70,false,tilenr,FrRate); tilenr = tilenr + 1;
    vs = 20; h = 110; h2 = 295;
    if (HasBase2) then begin
      h1 = h1 + 20;
    end;
    EditField(h1,v=6,50,"",Normal,CurncyCode,false,CurncyCodeSClass);
    if (HasMultiCurrency) then begin
      if (HasBase2) then begin
        EditField(h1,v+vs,50,"  1",Normal,BaseRate1,true,0);
      end else begin
        EditField(h1,v+vs,50," ",Normal,BaseRate1,true,0);
      end;
      if (HasBase2) then begin
        EditField(h1,v+(vs*2),50,"  2",Normal,BaseRate2,true,0);
      end;
      EditField(h2=295,v,50,"",Normal,FrRate,true,0);
      if (HasBase2) then begin
        RateField(h3=360,v,50,":",Normal,"ToRateB1",true,h3+60,v+14,"  1",false);
        RateField(h3,v+=vs,50,":",Normal,"ToRateB2",true,h3+60,v+14,"  2",false);
      end else begin
        RateField(h3=360,v,50,":",Normal,"ToRateB1",true,h3+60,v+14," ",false);
      end;
    end else begin
      EditField(h1,v+=vs,50,"  1",Normal,BaseRate1,true,0);
      EditField(h1,v+=vs,50,"  2",Normal,BaseRate2,true,0);
    end;
  end;
  if (HasModIN) then begin
    Tile(tilenr,90,false,tilenr,ShipDeal); tilenr = tilenr + 1;
    vs = 20; h1 = 110; h2 = 290; h3 = 530; h4 = -100;
    EditField(h1,v=6,80," ",Normal,ShipDeal,false,ShipDealSClass);
    if (IsEnterprise) then begin
      EditField(h1,v+=vs,80," ",Normal,ShipMode,false,DMSClass);
    end;
    if (HasMultiLocations) then begin
      EditField(h1,v+=vs,80,"",Normal,Location,false,LocationSClass);
    end;
    if (IsEnterprise) then begin
      if (StandardHansa==false) then begin
        EditField(h1,v+=vs,80,"",ViewOnly,BranchID,false,AllCUSClass);
//  EditField(h2,v=vm,80,"Total Quantity",ViewOnly,TotQty,true,0);
//  EditField(h2,v+=vs,80,"Total Weight",ViewOnly,TotWeight,true,0);
//  EditField(h2,v+=vs,80,"Total Volume",ViewOnly,TotVolume,true,0);
        EditField(h2,v=vm,80,"  .",Normal,SVONr,false,0);
        EditField(h2,v+=vs,80," .  ",Normal,WONr,false,0);
        EditField(h2,v+=vs,80," ",Normal,POCQStatNr,true,POCQStatSClass);
        EditField(h2,v+=vs,80," ",ViewOnly,POCOSerNr,true,0);
      end;
      CheckBox(473,v=vm,0,"  . ",InvBeforePU);
      CheckBox(473,v+=vs,0,"  ",SetZeroPUQuant);
      EditField(h3,v+=vs,80,"  ",Normal,IntrastatTransCode,false,IntrastatTransCodeSClass);
    end;
  end;
  if (IsEnterprise) then begin
    Tile(tilenr,90,false,tilenr,LangCode); tilenr = tilenr + 1;
    EditField(h1,v=6,80,". ",Normal,RebCode,false,RebSClass);
    if (StandardHansa==false) then begin
      EditField(h1,v+=vs,80,"",Normal,VEFactoring,false,VESClass);
    end;
    EditField(h1,v+=vs,80," ",Normal,OrdNr,false,0);
    EditField(h1,v+=vs,-20,"",Normal,Comment,false,0);
    if (StandardHansa==false) then begin
      EditField(h2,v=vm,80," ",Normal,SalesGroup,false,SalesGroupSClass);
      EditField(h2,v+=vs,80,"/ ",Normal,InvoiceToCode,false,VESClass);
    end;
    EditField(h2,v+=vs,80,"- ",Normal,CostPerUnit,true,0);
    if (HasLanguages) then begin
      EditField(h3,v=vm,80,"",Normal,LangCode,false,LangSClass);
    end;
  end else begin
    Tile(tilenr,20,false,tilenr,Comment); tilenr = tilenr + 1;
    if (HasAdvancedPricing) then begin
      EditField(h1,v=6,80,". ",Normal,RebCode,false,RebSClass);
    end else begin
      EditField(h1,v=6,-20,".",Normal,Comment,false,0);
    end;
  end;
  Tile(tilenr,230,false,tilenr,Addr1); tilenr = tilenr + 1;
  label = UserDefined("CUVc","InvAddr0");
  if (blank(label)) then begin label = "Ordering"; end;
  EditField(h=110,v=6,-20,label,Normal,Addr1,false,0);
  label = UserDefined("CUVc","InvAddr1");
  if (blank(label)) then begin label = ""; end;
  EditField(h,v+=vs, -20,label,Normal,Addr2,false,0);
  label = UserDefined("CUVc","InvAddr2");
  EditField(h,v+=vs, -20,label,Normal,Addr3,false,0);
  label = UserDefined("CUVc","InvAddr3");
  EditField(h,v+=vs, -20,label,Normal,InvAddr3,false,0);
  label = UserDefined("CUVc","InvAddr4");
  EditField(h,vm=(v+=vs), -20,label,Normal,InvAddr4,false,0);
  vm = vm + 40;
  if (HasApprovals) then begin
    ButtonFrame(h3=h+4,v=vm,123,6," ");
    RadioButton(h3,v,kAcceptanceStateNotRequired,0," ",AcceptanceStatus);
    RadioButton(h3,v+=16,kAcceptanceStateNotStarted,0," ",AcceptanceStatus);
    RadioButton(h3,v+=16,kAcceptanceStateNotRequested,0," ",AcceptanceStatus);
    RadioButton(h3,v+=16,kAcceptanceStatePending,0," ",AcceptanceStatus);
    RadioButton(h3,v+=16,kAcceptanceStateApproved,0,"",AcceptanceStatus);
    RadioButton(h3,v+=16,kAcceptanceStateRejected,0,"",AcceptanceStatus);
  end;
  if (HasVATZone) then begin
    v = VATZoneButtonsLabelsRUS(h3=290,v=vm,140,16);
  end;
  if (IsEnterprise) then begin
    EditField(h2=-170,v=vm,150,"",Normal,Region,false,RegionSClass);
//  EditField(h2,v+=vs,150,"",Normal,VATNr,false,0);
//  EditField(h2,v+=vs,150,"Telephone",Normal,Phone,false,0);
//  EditField(h2,v+=vs,150,"Fax",Normal,Fax,false,0);
  end;
  Tile(tilenr,130,false,tilenr,ShipAddr0); tilenr = tilenr + 1;
  EditField(h,v=6,-20,"",Normal,ShipAddr0,false,0);
  EditField(h,v+=vs,-20,"",Normal,ShipAddr1,false,0);
  EditField(h,v+=vs,-20,"",Normal,ShipAddr2,false,0);
  EditField(h,v+=vs,-20,"",Normal,ShipAddr3,false,0);
  EditField(h,v+=vs,-20,"",Normal,DelAddr3,false,0);
  EditField(h,v+=vs,-20,"",Normal,DelAddr4,false,0);
  if (IsEnterprise and StandardHansa==false) then begin
    Tile(tilenr,70,false,tilenr,Cost1); tilenr = tilenr + 1;// Edit ************************** Friday, July 4, 2014 at 17:36:16
    vs = 20; h2 = 290; h3 = 530;
    label = UserDefined("AccBlock","PUCost1");
    if (blank(label)) then begin label = ".  1";end;
    EditField(h1,v=6,70,label,Normal,Cost1,true,0);
    label = UserDefined("AccBlock","PUCost2");
    if (blank(label)) then begin label = ".  2";end;
    EditField(h2,v,70,label,Normal,Cost2,true,0);
    label = UserDefined("AccBlock","PUCost3");
    if (blank(label)) then begin label = ".  3";end;
    EditField(h1,v+=vs,70,label,Normal,Cost3,true,0);
    label = UserDefined("AccBlock","PUCost4");
    if (blank(label)) then begin label = ".  4";end;
    EditField(h2,v,70,label,Normal,Cost4,true,0);
    label = UserDefined("AccBlock","PUCost5");
    if (blank(label)) then begin label = ".  5";end;
    EditField(h1,v+=vs,70,label,Normal,Cost5,true,0);
    EnterSkip(TransDate);
    ButtonFrame(h3,v=16,130,2," . ");
    RadioButton(h3,v,0,0,"",ExtraCostsCalculation);
    RadioButton(h3,v+=16,1,0,"",ExtraCostsCalculation);

    // Edit Start ---------------------------------------------- Edit Start
	//Friday, July 4, 2014 at 17:24:26

    ButtonFrame(h3,v=76,130,3," ");
    RadioButton(h3,v,0,0,"",ShipCostRule);
    RadioButton(h3,v+=16,1,0,"",ShipCostRule);
    RadioButton(h3,v+=16,2,0,"",ShipCostRule);
    ButtonFrame(h3=300,v=76,130,3," ");
    RadioButton(h3,v,0,0,"",CustomsCostRule);
    RadioButton(h3,v+=16,1,0,"",CustomsCostRule);
    RadioButton(h3,v+=16,2,0,"",CustomsCostRule);

	// Edit End ---------------------------------------------- Edit End

  end;
  if (GuiType==kGuiMetro) then begin // Temporarily disabled on Windows 8
    if (HasModIN) then begin
      SpecialMenu(" ",'I',2,"ItemStatusPODsm");
    end;
    SpecialMenu("  ",'r',5,"POStatRnPODsm");
    if (HasModIN) then begin
      SpecialMenu(" ",'L',0,"PUFromPODsm");
    end;
    if (HasModPL) then begin
      SpecialMenu(" ",'F',1,"VIFromPODsm");
    end;
    if (IsEnterprise) then begin
      SpecialMenu("  ",'B',6,"RetPUFromPODsm");
    end;
/*
  if (HaseMail) then begin
    SpecialMenu(" e-mail",'m',3,"CreateMailFromPODsm");
  end;
*/
  end else begin
  if (HasModIN) then begin
    SpecialMenu(" ",'L',0,"PUFromPODsm");
  end;
  if (IsEnterprise and StandardHansa==false) then begin
    SpecialMenu(" .  .",'l',0,"DropSHFromPODsm");
  end;
  if (HasModPL) then begin
    SpecialMenu(" ",'F',1,"VIFromPODsm");
  end;
  if (HasApprovals) then begin
    SpecialMenu("  ",' ',6,"POSendforAcceptancePODsm");
    SpecialMenu("   ",' ',2,"CancelApprovalRequestDsm");
  end;
  if (HasModIN) then begin
    SpecialMenu(" ",'I',2,"ItemStatusPODsm");
  end;
    SpecialMenu(" ",'',1,"ItemSearchDsm");
    SpecialMenu("   ",'f',1,"TableSearchDsm"); // edit ----------Dima 26.11.2014
  if (HaseMail) then begin
    SpecialMenu(" e-mail",'m',3,"CreateMailFromPODsm");
  end;
  if (IsEnterprise) then begin
    SpecialMenu("  ",' ',4,"POLastPPrsm");
  end;
  SpecialMenu("  ",'r',5,"POStatRnPODsm");
  if (IsEnterprise) then begin
    SpecialMenu("  ",'B',6,"RetPUFromPODsm");
    SpecialMenu("",' ',6,"POReservPODsm");
  end;
  if (HasTaxMatrix) then begin
    SpecialMenu(" . ",' ',25,"OpenVatMatrixPODsm");
  end;
    SpecialMenu("    ",'',1,"ExportToExcelPODsm"); // edit ----------Dima 26.11.2014
		SpecialMenu("     ",'',1,"UpdateINVcWeightVolume_PODsm");	//Edit----------------------Dima  04.02.2015
  end;
  EndWindow;
end;

window INDClass:8
  wtag("language","RUS"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer")
begin
  integer tilenr;
  real h,h1,h2,h3,h4,h5,h6,v,vm,vs;
  string 255 label;

  WindowBegin("",INDClass,CGview,-);
  SetWRect(20,70,800,600);
  Sizeable(-1,-1,-1,0);
  DynamicWindow;
  UseView(INVc);
  if (HasJewelleryInterface) then begin
    Tile(0,107,false,"",Code);
  end else begin
    Tile(0,87,false,"",Code);
  end;
  v = 6; vs = 20; h = 155; h1 = 300; h2 = 385; h3 = 395; h4 = 285; h5 = 433;
  EditField(h,v, 150," ",Normal,Code,false,0);
  EditField(h2,v,80,"",Normal,Group,false,ITSClass);
  EditField(h,v+=vs,-40,"",Normal,Name,false,0);
  if (HasJewelleryInterface) then begin
    EditField(h,v+=vs,150," ",Normal,AlternativeCode,false,0);
  end;
  tilenr = 1;
  TileButton(tilenr,""); tilenr = tilenr + 1;
  if (HasJewelleryInterface) then begin
    TileButton(tilenr,"."); tilenr = tilenr + 1;
    TileButton(tilenr,""); tilenr = tilenr + 1;
  end;
  TileButton(tilenr,""); tilenr = tilenr + 1;
  if (StandardHansa==false) then begin
    TileButton(tilenr,". "); tilenr = tilenr + 1;
  end;
  if (UserCanAction("ViewCostPrice",true)) then begin
    TileButton(tilenr,""); tilenr = tilenr + 1;
  end;
  TileButton(tilenr,""); tilenr = tilenr + 1;
  TileButton(tilenr,""); tilenr = tilenr + 1;
  if (GuiType==kGuiiPhone) then begin
    TileButton(tilenr,"."); tilenr = tilenr + 1;
  end;
  TileButton(tilenr,""); tilenr = tilenr + 1;
  TileButton(tilenr,""); tilenr = tilenr + 1;
  TileButton(tilenr," -"); tilenr = tilenr + 1;
  if (StandardHansa==false) then begin
    TileButton(tilenr,"."); tilenr = tilenr + 1;
  end;
  TileButton(tilenr,""); tilenr = tilenr + 1;
  if (HasCharts) then begin
    TileButton(tilenr,"BI"); tilenr = tilenr + 1;
  end;
  tilenr = 1;
  CheckBox(h,v+=vs,0,"",Terminated);
  CheckBox(h2,v,0,"  ",NotForSales);
  Tile(tilenr,209,false,tilenr,Unittext); tilenr = tilenr + 1;
  EditField(h,v=6 ,100," ",Normal,Unittext,false,UnitSClass);
  if (HasJewelleryInterface) and (UserCanAction("ViewCostPrice",true)) then begin
    EditField(h,v+=vs,100,"",Normal,InPrice,true,0);
  end;
  EditField(h,v+=vs,100," ",Normal,UPrice1,true,0);
  EditField(h,v+=vs,100," . ",ViewOnly,LastBasePriceChange,true,0);
  EditField(h,v+=vs,100," ",Normal,PriceFactor,true,0);
  EditField(h,v+=vs,100," .",Normal,CalcPrice,false,CPMSClass);
  EditField(h,v+=vs,100,", %",Normal,Markup,true,0);
  EditField(h,v+=vs,100,"% ",Normal,Bonus,true,0);
  EditField(h,v+=vs,-240,"",Normal,Objects,false,ObjSClass);
  if (HasItemClassification) then begin
    EditField(h,v+=vs,-240,"",Normal,DispGroups,false,DISClass);
    EditField(h,v+=vs,-240," WEB",Normal,WebDispGroups,false,DISClass); //Edit***************************Sasha2,16:30 04.11.2015
  end;
  if (StandardHansa==false) then begin
    ButtonFrame(h1,v=24,120,4," ");
  end else begin
    ButtonFrame(h1,v=24,120,3," ");   // From dict
  end;
  RadioButton(h1,v,kItemTypePlain,0,"",ItemType);
  RadioButton(h1,v+=16,kItemTypeStocked,0,"",ItemType);
  RadioButton(h1,v+=16,kItemTypeStructured,0,"",ItemType);
  if (StandardHansa==false) then begin
    RadioButton(h1,v+=16,kItemTypeService,0,"",ItemType);
  end;
  Pict_Field(-205,8,-35,178,"");
  if (GuiType==kGuiCocoa) then begin
    PushButton(-160,182,-80,202,ToolImagePicker," ");
  end;
  if (StandardHansa==false) then begin
    CheckBox(h1,v+=32,0,"    ",ItemMaterial);
  end;
  if (HasJewelleryInterface) then begin
    Tile(tilenr,110,false,tilenr,Metal); tilenr = tilenr + 1;
    EditField(h,v=6, 140,"",Normal,Metal,false,0);
    EditField(h,v+=vs, 140,"",Normal,RowWeight,false,0);
    EditField(h,v+=vs, 140,"",Normal,Size,false,0);
    EditField(h,v+=vs, 140,"",Normal,Length,false,0);
    EditField(h,v+=vs, 140,"",Normal,Reference,false,0);
    v = 6;
    EditField(h5,v, 140,".  ",Normal,MajStoneDet,false,0);
    EditField(h5,v+=vs, 140,"",Normal,Colour,false,0);
    EditField(h5,v+=vs, 140,"",Normal,Clarity,false,0);
    EditField(h5,v+=vs, 140,"",Normal,Cert,false,0);
    EditField(h5,v+=vs, 140,".  ",Normal,MinStoneDet,false,0);
    Tile(tilenr,90,false,tilenr,WatchBrand); tilenr = tilenr + 1;
    EditField(h,v=6, 140," ",Normal,WatchBrand,false,0);
    EditField(h,v+=vs, 140,". ",Normal,StyleName,false,0);
    EditField(h,v+=vs, 140," ",Normal,WatchMetal,false,0);
    EditField(h,v+=vs, 140,"",Normal,Movement,false,0);
    v = 6;
    EditField(h5,v, 140,"/",Normal,BrcStr,false,0);
    EditField(h5,v+=vs, 140,"",Normal,Gender,false,0);
    EditField(h5,v+=vs, 140,".",Normal,Other,false,0);
    EditField(h5,v+=vs, 140,".2",Normal,Other2,false,0);
  end;
  Tile(tilenr,170,false,tilenr,MinLevel);  tilenr = tilenr + 1; // Need to clean this Tile up!
  v = 6;
  vm = v;
  ButtonFrame(h1,v+=24,143,3," ");
  EditField(h1 + 250,v - 20 ,60," 2",Normal,AddUnittext2,false,UnitSClass); //Edit***************************Sasha2,15:51 23.06.2014
  EditField(h1 + 370,v - 20 ,60,". 2",Normal,AddUnitCoef2,false,0); //Edit***************************Sasha2,15:51 23.06.2014
  EditField(h1 + 250,v ,60," 3",Normal,AddUnittext3,false,UnitSClass); //Edit***************************Sasha2,15:51 23.06.2014
  EditField(h1 + 370,v ,60,". 3",Normal,AddUnitCoef3,false,0); //Edit***************************Sasha2,15:51 23.06.2014
  EditField(h1 + 250,v+20 ,60," 4",Normal,AddUnittext4,false,UnitSClass); //Edit***************************Sasha2,15:51 23.06.2014
  EditField(h1 + 370,v+20 ,60,". 4",Normal,AddUnitCoef4,false,0); //Edit***************************Sasha2,15:51 23.06.2014
  EditField(h1 + 250,v+40 ,60," 5",Normal,AddUnittext5,false,UnitSClass); //Edit***************************Sasha2,15:51 23.06.2014
  EditField(h1 + 370,v+40 ,60,". 5",Normal,AddUnitCoef5,false,0); //Edit***************************Sasha2,15:51 23.06.2014
  RadioButton(h1,v,0,0,"",SerNrf);
  RadioButton(h1,v+=16,1,0," ",SerNrf);
  RadioButton(h1,v+=16,2,0," ",SerNrf);
  CheckBox(h1+200,v + 55,0,"     / POS",DonotRequireBatchNrOnIVCash);//Edit***************************Sasha2,15:48 23.06.2014
  EditField(h,v=6,100,". -  .",Normal,MinLevel,true,0);
  EditField(h,v+=vs,100,". -  .",Normal,MaxLevel,true,0);
  EditField(h,v+=vs  ,100,"",Normal,Department,false,DepSClass);
  EditField(h,v+=vs  ,100,"",Normal,InvCode,false,0);
  EditField(h,v+=vs,100,"  .",Normal,DefaultSource,false,SourceSClass);
  EditField(h5,v ,50,"  . /",Normal,RepaPricePerWeight,true,0);
  EditField(h6=650,v + 60 ,80,"  ",Normal,DefOrderType,false,SetSClass);  //Edit***************************Sasha2,15:48 23.06.2014
  if (StandardHansa==false) then begin
    EditField(h,v+=vs ,100," ",Normal,HazLevCode,false,HazLevSClass);
    EditField(h,v+=vs, 100," ",Normal,Reference,false,0);// Edit ************************** Monday, 26 January 2015 09:52:06

    EditField(h5,v ,50,"% ",Normal,AlcPrc,true,0);
  end;
  //EditField(h,v+=vs ,100," 2",Normal,Unittext2,false,UnitSClass); //Edit***************************Sasha2,15:44 23.06.2014
  EditField(h5,v+=vs ,50," 1",Normal,Conversion1,true,0); //Edit***************************Sasha2,15:46 23.06.2014
  //EditField(h,v+=vs,100,"- ",Normal,UnitCoefficient,true,0); //Edit***************************Sasha2,15:44 23.06.2014
  EditField(h5,v+=vs ,50," 2",Normal,Conversion2,true,0); //Edit***************************Sasha2,15:46 23.06.2014
  if (StandardHansa==true) then begin
    EditField(h,v+=vs ,50,"",Normal,Width,true,0);
    EditField(h4,v ,50,"",Normal,Height,true,0);
    EditField(h5,v ,50,"",Normal,Depth,true,0);
    EditField(h,v+=vs ,50,"",Normal,Volume,true,0);
    EditField(h4,v ,50,"",Normal,Density,true,0);
    EditField(h5,v ,50,"",Normal,Weight,true,0);
  end;
  if (StandardHansa==false) then begin
    Tile(tilenr,170,false,tilenr,LocArea);  tilenr = tilenr + 1;
    EditField(h,vm=(v=6) ,100," ",Normal,DefPalletItem,true,INSClass);
    EditField(h5,v ,80," ",Normal,PickArea,false,LocAreaSClass);
    EditField(h,v+=vs ,100,". .  .",Normal,LocArea,false,LocAreaSClass);
    EditField(h5,v ,50,"  ",Normal,PalletsInPickArea,true,0);
    EditField(h,v+=vs ,50,". .  ",Normal,QtyonPallet,true,0);
    EditField(h4,v ,50,"  .",Normal,PalletLayers,true,0);
    EditField(h5,v ,50,"-  ",Normal,QtyonPalletLayer,true,0);
    EditField(h,v+=vs ,50," ",Normal,PalletWidth,true,0);
    EditField(h4,v ,50,"",Normal,PalletHeight,true,0);
    EditField(h5,v ,50,"",Normal,PalletDepth,true,0);
    EditField(h,v+=vs ,50,".   .",Normal,DefPosWidth,true,0);
    EditField(h4,v ,50,"",Normal,DefPosHeight,true,0);
    EditField(h5,v ,50,"",Normal,DefPosDepth,true,0);
    EditField(h,v+=vs ,50,"",Normal,Width,true,0);
    EditField(h4,v ,50,"",Normal,Height,true,0);
    EditField(h5,v ,50,"",Normal,Depth,true,0);
    /*EditField(h,v+=vs ,50,"",Normal,Volume,true,0); //Edit***************************Sasha2,16:58 23.06.2014
    EditField(h4,v ,50,"",Normal,Density,true,0); //Edit***************************Sasha2,16:58 23.06.2014
    EditField(h5,v ,50,"",Normal,NetWeight,true,0); //Edit***************************Sasha2,16:58 23.06.2014
    EditField(h5,v+=vs ,50,"",Normal,Weight,true,0);*/ //Edit***************************Sasha2,16:58 23.06.2014

    EditField(h4,v+=vs ,50,"",Normal,Density,true,0); //Edit***************************Sasha2,16:58 23.06.2014
    EditField(h,v ,50,"",Normal,NetWeight,true,0); //Edit***************************Sasha2,16:59 23.06.2014
    EditField(h5,v ,50,"",Normal,Volume,true,0); //Edit***************************Sasha2,16:59 23.06.2014
    /*if (GuiType == kGuiWPF or GuiType == kGuiWindowsDesktop) then begin
    	StaticText(h5 + 55,v + 15,"cm"& chr(179),false); //Edit***************************Sasha2,17:19 23.06.2014
    end else begin
    	StaticText(h5 + 55,v + 15,"cm3",false); //Edit***************************Sasha2,17:19 23.06.2014
    end;*/
    StaticText(h5 + 55,v + 15,"",false); //Edit***************************Sasha2,16:03 30.07.2014 !!!!!!!!!5 rows upper the same but with cm3
    EditField(h5,v+=vs ,50,"",Normal,Weight,true,0); //Edit***************************Sasha2,16:59 23.06.2014
    StaticText(h5 + 55,v + 15,"",false);

  end;
  if (UserCanAction("ViewCostPrice",true)) then begin
  Tile(tilenr,190,false,tilenr,InPrice);  tilenr = tilenr + 1;
  EditField(h,vm=(v=6),100,"",Normal,InPrice,true,0);
  if (StandardHansa==false) then begin
    EditField(h5,v,70," ",ViewOnly,LastPriceChange,true,0);
  end else begin
    EditField(h3,v,70," ",ViewOnly,LastPriceChange,true,0);
  end;
  if (StandardHansa==false) then begin
    EditField(h,v+=vs ,100,".  . . 2",Normal,InPriceB2,true,0);
    ButtonFrame(h1,v+=24,200,4,". .  .");
  end else begin
    ButtonFrame(h1,v+=40,210,4,". .  .");   // From dict
  end;
  RadioButton(h1,v,0,0," ",UpdateCost);
  RadioButton(h1,v+=16,1,0," - .,...",UpdateCost);
  RadioButton(h1,v+=16,2,0," ",UpdateCost);
  RadioButton(h1,v+=16,3,0,"  .,...)",UpdateCost);
  ButtonFrame(h5=540,v=v-3*16,200,3,"..  .");
  RadioButton(h5,v,0,0," ",SRUpdateCost);
  RadioButton(h5,v+=16,1,0,". . ",SRUpdateCost);
  RadioButton(h5,v+=16,2,0,"",SRUpdateCost);
  if (StandardHansa==false) then begin
    EditField(h,v=vm+2*vs,100," ",Normal,ExtraCost,true,0);
  end else begin
    EditField(h,v=vm+vs,100," ",Normal,ExtraCost,true,0);   // From dict
  end;
  EditField(h,v+=vs ,100,"",Normal,WeighedAvPrice,true,0);
  if (StandardHansa==false) then begin
    EditField(h,v+=vs ,100,".  ..2",Normal,WeighedAvPriceB2,true,0);
  end;
  EditField(h,v+=vs ,100,"..(..)",Normal,LastPurchPrice,true,0);
  EditField(h,v+=vs ,100,"..(..)",Normal,LastPurchPrice2,true,0);
  EditField(h,v+=vs ,100," . ",Normal,LastPurchCurncyCode,false,CurncyCodeSClass);
  EditField(h,v+=vs ,100,". ",Normal,FixedFreight,true,0);
  CheckBox(h1,v,0,"    ",InclItemFreight);
  CheckBox(h5,v,0," ",HasExcise);
  end;
  Tile(tilenr,170,false,tilenr,Recepy);  tilenr = tilenr + 1;
  EditField(h,v=6 ,120,"",Normal,Recepy,false,RecSClass);
  CheckBox(h1,v,0,"    ",ExplodeRec); // "Show components on documents" is better English but VERY confusing
  EditField(h,v+=vs ,120,"  /",Normal,InvRecepy,false,RecSClass);
  EditField(h2,v,150,"-",Normal,BarCode,false,0);
  EditField(h,v+=vs ,120," ",Normal,ContractItem,false,INSClass);
  EditField(h2,v,150," -",Normal,EUCodex,false,CommoditySClass);
  v = v + vs;
  if (StandardHansa==false) then begin
    EditField(h,v,120," .",Normal,RentalItem,false,INSClass);
  end;
  EditField(h2,v,150," EKN",Normal,EKNCode,false,0); // i think it is same as Commodity Code
  if (StandardHansa==false) then begin
    EditField(h2,v+=vs,150,". ./",Normal,CPSCode,false,0);
  end;
  EditField(h,v+=vs ,120,", .",Normal,WarrantyLength,true,0);
  EditField(h2,v,150,"",Normal,colnr,false,SetSClass);
  EditField(h,v+=vs,-40," ",Normal,AlternativeCode,false,0);
  EditField(h,v+=vs,-40,"",Normal,WarnText1,false,0);
  Tile(tilenr,170,false,tilenr,SalesAcc);  tilenr = tilenr + 1;
  v = 6;
  vm = v;
  EditField(h,vm,55," ",Normal,SalesAcc,false,AccSClass);
  EditField(h,v+=vs,55,VATZoneNameRUS & " , ",Normal,EUSalesAcc,false,AccSClass);
  EditField(h,v+=vs,55,"/., .",Normal,ExpSalesAcc,false,AccSClass);
  if (StandardHansa==false) then begin
    EditField(h,v+=vs,55,". . /.",Normal,SVOInvbleSalesAcc,false,AccSClass);
    EditField(h,v+=vs,55,". . /.",Normal,SVOWarrantySalesAcc,false,AccSClass);
    EditField(h,v+=vs,55,".. /.",Normal,SVOContractSalesAcc,false,AccSClass);
    EditField(h,v+=vs,55,". /.",Normal,SVOGoodwillSalesAcc,false,AccSClass);
  end;
  EditField(h,v+=vs,55,". -",Normal,CompUsage,false,AccSClass);
  EditField(h,v+=vs,55," - . ",Normal,ProjMaterialsUsageAcc,false,AccSClass);

  EditField(h2=360,v=vm,55,".  .",Normal,CostAcc,false,AccSClass);
  EditField(h2,v+=vs,55,VATZoneNameRUS & " ",Normal,EUCostAcc,false,AccSClass);
  EditField(h2,v+=vs,55," , .",Normal,ExpCostAcc,false,AccSClass);
  if (StandardHansa==false) then begin
    EditField(h2,v+=vs,55,". . /.",Normal,SVOInvbleCostAcc,false,AccSClass);
    EditField(h2,v+=vs,55,". . /",Normal,SVOWarrantyCostAcc,false,AccSClass);
    EditField(h2,v+=vs,55,". . /.",Normal,SVOContractCostAcc,false,AccSClass);
    EditField(h2,v+=vs,55,".  /",Normal,SVOGoodwillCostAcc,false,AccSClass);
    EditField(h2,v+=vs,55," - . .",Normal,HotelWIPAcc,false,AccSClass);
  end;
  EditField(h2=530,v=vm,20," ",Normal,VATCode,false,VATCodeSClass);
  EditField(h2,v+=vs,20,VATZoneNameRUS & " ",Normal,VATCodeEU,false,VATCodeSClass);
  EditField(h2,v+=vs,20," , .",Normal,VATCodeExp,false,VATCodeSClass);
  CheckBox(h2,v+=20,0,"  ",Perceptions);
  if (StandardHansa==false) then begin
    CheckBox(h2,v+=16,0,"  ",Withholdings);
    EditField(h2=670,v=vm,50,"- . ",Normal,TaxTemplateCode,false,TaxTemplateSClass);
    EditField(h2,v+=vs,50,VATZoneNameRUS & "- . ",Normal,TaxTemplateCodeEU,false,TaxTemplateSClass);
    EditField(h2,v+=vs,50,". - . ",Normal,TaxTemplateCodeExp,false,TaxTemplateSClass);
  end;
  if (GuiType==kGuiiPhone) then begin
    Tile(tilenr,70,false,tilenr,-);  tilenr = tilenr + 1;
    AttachmentDisplay(10,10,200,200);
//    PushButton(30,10,-80,40,ToolImagePicker,"Take picture");
//    ControlLabel(0,0,0,0,"Take picture","SystemFont",17,kTextStyleBold,AdjCenter,patM4ReportsTextBlue);
  end;
  Tile(tilenr,70,false,tilenr,VARMask);  tilenr = tilenr + 1;
  EditField(h,v=6,-40," ",Normal,VARMask,false,VARMasksSClass);
  EditField(h,v+=vs,-40,"  ",Normal,VARRepOrder,false,VARMasksSClass);
  EditField(h,v+=vs,-40,"",Normal,VARSubsets,false,VARSubsetsSClass);
  Tile(tilenr,120,true,tilenr,Math);  tilenr = tilenr + 1;
  v = 24;
  MatrixBegin(4,v,-32,-40,-,99);
  MatCol(1,24,"",0,LangCode,false,LangSClass);
  MatCol(1,94,"",0,Text,false,0);
  EndMatrix;
  Tile(tilenr,220,false,tilenr,CostPerc);  tilenr = tilenr + 1;
  ButtonFrame(h=100,vm=(v=20),230,6,"  ");
  RadioButton(h,v,0,0," ",PrimaryCostModel);
  RadioButton(h,v+=16,1,0," ",PrimaryCostModel);
  RadioButton(h,v+=16,2,0,"% _  ",PrimaryCostModel);
  EditField(h+150,v,55,"%",Normal,CostPerc,true,0);
  RadioButton(h,v+=16,3,0,"",PrimaryCostModel);
  RadioButton(h,v+=16,4,0," ",PrimaryCostModel);
  RadioButton(h,v+=16,kCostModelNoneItem,0,"",PrimaryCostModel);
  ButtonFrame(h,v+=40,230,3,"   ");
  RadioButton(h,v,0,0," ",QueuedCostModel);
  RadioButton(h,v+=16,1,0,"FIFO ",QueuedCostModel);
  RadioButton(h,v+=16,2,0,"LIFO ",QueuedCostModel);

  ButtonFrame(h2=380,v=vm,200,3,"  .");
  RadioButton(h2,v,0,0," ",FIFOPerSerialNr);
  RadioButton(h2,v+=16,1,0,"    ",FIFOPerSerialNr);
  RadioButton(h2,v+=16,2,0,"   ",FIFOPerSerialNr);
  ButtonFrame(h2,v+=40,200,3,"  ");
  RadioButton(h2,v,0,0," ",FIFOPerLocation);
  RadioButton(h2,v+=16,1,0,"     ",FIFOPerLocation);
  RadioButton(h2,v+=16,2,0,"     ",FIFOPerLocation);
  ButtonFrame(h2,v+=40,200,3,"  ");
  RadioButton(h2,v,0,0," ",WAPerLocation);
  RadioButton(h2,v+=16,1,0,"   ",WAPerLocation);
  RadioButton(h2,v+=16,2,0,"   ",WAPerLocation);
/*5.3
  ButtonFrame(h2,v+=40,200,3,"Cost Price per Location");
  RadioButton(h2,v,0,0,"Default",CostPricePerLocation);
  RadioButton(h2,v+=16,1,0,"Cost Price not per Location",CostPricePerLocation);
  RadioButton(h2,v+=16,2,0,"Cost Price per Location",CostPricePerLocation);
*/
  if (StandardHansa==false) then begin
    Tile(tilenr,240,false,tilenr,-); tilenr = tilenr + 1;
    h = 180; v = 6;
    label = UserDefined("INVc","UserStr1");
    if (nonblank(label)) then begin
      EditField(h,v=6 ,-40,label,Normal,UserStr1,false,0);
    end else begin
    	EditField(h,v=6 ,-40,". ",Normal,UserStr1,false,0);
    end;



    label = UserDefined("INVc","UserStr2");
    if (nonblank(label)) then begin
      EditField(h,v+=vs,-40,label,Normal,UserStr2,false,0);
    end;
    label = UserDefined("INVc","UserStr3");
    if (nonblank(label)) then begin
      EditField(h,v+=vs,-40,label,Normal,UserStr3,false,0);
    end;
    label = UserDefined("INVc","UserStr4");
    if (nonblank(label)) then begin
      EditField(h,v+=vs,-40,label,Normal,UserStr4,false,0);
    end;
    label = UserDefined("INVc","UserStr5");
    if (nonblank(label)) then begin
      EditField(h,v+=vs,-40,label,Normal,UserStr5,false,0);
    end;
    label = UserDefined("INVc","UserVal1");
    if (nonblank(label)) then begin
      EditField(h,v+=vs,50,label,Normal,UserVal1,true,0);
    end;
    label = UserDefined("INVc","UserVal2");
    if (nonblank(label)) then begin
      EditField(h,v+=vs,50,label,Normal,UserVal2,true,0);
    end;
    label = UserDefined("INVc","UserVal3");
    if (nonblank(label)) then begin
      EditField(h,v+=vs,50,label,Normal,UserVal3,true,0);
    end;
    label = UserDefined("INVc","UserDate1");
    if (nonblank(label)) then begin
      EditField(h,v+=vs,80,label,Normal,UserDate1,true,PasteCurDate);
    end;
    label = UserDefined("INVc","UserDate2");
    if (nonblank(label)) then begin
      EditField(h,v+=vs,80,label,Normal,UserDate2,true,PasteCurDate);
    end;
    label = UserDefined("INVc","UserDate3");
    if (nonblank(label)) then begin
      EditField(h,v+=vs,80,label,Normal,UserDate3,true,PasteCurDate);
    end;
  end;
  Tile(tilenr,400,false,tilenr,Math2); tilenr = tilenr + 1;
  StaticText(50,v=20,"",true);
  TextField(60,v-5,-20,370,Math2,0);
  if (HasCharts) then begin
    Tile(tilenr,400,false,tilenr,-); tilenr = tilenr + 1;
    ChartArea(10,6,-10,390,"$INDCLass_BIChart");
  end;
  if (UserCanReport("INInfoRn","",true)) then begin
    SpecialMenu("  ",'I',0,"INStatusINDsm");
  end;
  SpecialMenu("  ",' ',1,"PIFromINDsm");
  SpecialMenu(" ",' ',2,"RecFromINDsm");
//  SpecMenuItem("Recalculate Price List",' ',2);
  if (UserCanReport("INrsRn","INrsRClass",true)) then begin
    SpecialMenu(" ",'h',3,"INHistINDsm");//CMD H DOES HIDE HANSA
  end;
  SpecialMenu("   ",' ',4,"LocItemStatDsm");
  if (HasJewelleryInterface) and (UserCanReport("INInfoRn","",true)) then begin
    SpecialMenu("   . ",'S',5,"ItemStatusAltINDsm");
  end;
  EndWindow;
end;

window INDMSRClass:1
  wtag("language","RUS"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer")
begin
  real h,v,vm,vs;
  WindowBegin("   / ",INDMSRClass,CGRcW,RcType);
  SetWRect(20,80,450,200);
  vs = 20; h = 150; v = 6-vs;
  PeriodField(h,v+=vs,"");
  EditFieldTL(h,v+=vs ,50," ",M4UStr,Normal,10,f1,false,DMSClass);
  ButtonFrame(h=80,vm=(v+=40),123,2,"");
  RadioButton(h,v,0,0,"",ArtMode);
  RadioButton(h,v+=16,1,0,"",ArtMode);
  ButtonFrame(h+=145,v = vm,123,2,"");
  CheckBox(h,v,0,"",flags[1]);
  CheckBox(h,v+=16,0,"",flags[2]);
  EndWindow;
end;

window INEClass:1
  wtag("language","RUS"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer")
begin
  real h,v,vm,vs;
  WindowBegin("  ",INEClass,CGEcW,RcType);
  SetWRect(20,80,400,290);
  vs=20;
  EditFieldTL(h=120,v=6, 150,"",   M4UStr,Normal,50,f1,false,INSClass);
  EditFieldTL(h,v+=vs, 150,"",   M4UStr,Normal,11,f3,false,ITSClass);
  EditFieldTL(h,v+=vs, 150,"",M4UStr,Normal,10,f2,false,LocationSClass);
  EditFieldTL(h,v+=vs, 100,"",M4Date,Normal,0,d1,false,PasteCurDate);
/*
  ButtonFrame(h=20,vm=(v+=41),123,2," ");
  RadioButton(h,v,0,0," ",flags[1]);
  RadioButton(h,v+=16,1,0,"",flags[1]);
*/
  ButtonFrame(h=70,vm=(v+=41),123,3," ");
  RadioButton(h,v,0,0,"  ",flags[11]);
  RadioButton(h,v+=16,1,0,". ",flags[11]);
  RadioButton(h,v+=16,2,0," ",flags[11]);
  ButtonFrame(h+=148,v=vm,123,2,"");
  RadioButton(h,v,0,0,"",ArtMode);
  RadioButton(h,v+=16,1,0," ",ArtMode);
  CheckBox(h=70,vm=(v+=40),0,"  ",UsedOnly);
  CheckBox(h=70,vm=(v+=16),0," ",flags[3]);
  EndWindow;
end;


window INLClass:3	//Edit--------------------------Dima--22.01.2015
  wtag("language","RUS"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer")
begin
  real pos;

  WindowBegin("",INLClass,CGmlist,-);
  SpawnClass(INDClass);
  SetWRect(64,80,740,298);
  Sizeable(-1,-1,0,0);
  UseView(INVc);
  RecordList(4,17,-21,-39);
  RlColKey(4,4,    "",Code,false,Code);
  pos = 111;
  if (HasItemGroups) then begin
    RlColKey(pos,pos,"",Group,false,Group);
    pos = 181;
  end;
  if (HasModIN) then begin
    RlColKey(pos,pos,"",Name,false,Name);
  end else begin
    RlColKey(pos,pos,"",Name,false,Name);
  end;
  RlCol(-340,-340,"",Volume,true);
  RlCol(-290,-290,"",Weight,true,);
  	RlColKey(-240,-240,"-",BarCode,false,BarCode);
  if (IsEnterprise) then begin
    RlColKey(-150,-150,". ",AlternativeCode,false,AlternativeCode);
  end;
  if (HasModIN) then begin
    RlCol(-70,-70,". ",UPrice1,true);
  end else begin
    RlCol(-70,-70,"",UPrice1,true);
  end;
  SearchField("");
  if (GuiType==kGuiMetro) then begin
    RowMenuBegin("");
    if (HasModIN) then begin
      if (UserCanReport("INInfoRn","",true)) then begin
        RowMenuItem(1,"  ",'I','I',4315,"OKIVLsm");
      end;
      RowMenuItem(2," ",' ',' ',4315,"ItemStatusINLsm");
    end;
    if (HasModIN) then begin
      if (UserCanReport("INrsRn","INrsRClass",true)) then begin
        RowMenuItem(3," ",'h','h',4315,"INHistINLsm");
      end;
    end;
    if (HasJewelleryInterface) then begin
      RowMenuItem(4,"    ",'I','I',4315,"ItemStatusAltINLsm");
    end;
    EndRowMenu;
    SpecMenuGroup("",kSpecMenuGroupTypeButtonsInBottomBarRight,0);
    SpecialMenuWithIcon("",'F',4313,2,"INSearchLsm");
  end else begin
    if (HasModIN) then begin
      if (UserCanReport("INInfoRn","",true)) then begin
        SpecialMenu("  ",'I',0,"INStatusINLsm");
      end;
      SpecialMenu(" ",' ',1,"ItemStatusINLsm");
    end;
    if (HasModIN) then begin
      if (UserCanReport("INrsRn","INrsRClass",true)) then begin
        SpecialMenu(" ",'h',2,"INHistINLsm");
      end;
    end;
    SpecialMenu("",'F',2,"INSearchLsm");
    if (HasJewelleryInterface) then begin
      SpecialMenu("   . ",'I',5,"ItemStatusAltINLsm");
    end;
  end;
  EndWindow;
end;




window IVDClass:2	//**************************** Edit by Victor 11.09.14 {
  wtag("language","RUS"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer")
begin
  real h,h1,h2,h3,h4,hm,hs,t,v,v2,v3,vm,vs,width,h5;
  string 255 label;
  WindowBegin("- ",IVDClass,CGview,-);
  Sizeable(-1,-1,0,0);
  UseView(IVVc);
if (HasTouchScreenLook==false) then begin
  ActiveFieldOnNew("CustCode");
  SetWRect(20,80,750,460);
  CommunicateButton;
  Tile(0,74,false,"",CustCode);
  EditField(75,vm=(v=6),95,"",Normal,SerNr,false,TSerSClass);
  EditField(75,v+=20,95,"",Normal,CustCode,false,CUSClass);
  EnterSkip(PayDeal);
  EditField(h=255,v=vm,-40,".",Normal,Addr0,false,0);
  if (StandardHansa==false) then begin
    if (HasLocalization("FIN")) then begin
      EditField(h,vm=(v+=20),180,"Payment Ref",ViewOnly,CalcFinRef,false,0);
    end else begin
      EditField(h,vm=(v+=20),135,". o.",Normal,OfficialSerNr,false,LegalInvNrSClass);
    end;
  end else begin
    v = v + 20;
    vm = v;
  end;
  EditField(500,vm,50,".  .",Normal,OptUAHRate,false,0);	//Edit----------------------Dima  30.07.2015
  CheckBox(h4=-100,v,0,"OK",OKFlag);
  TileButton(1,"");
  TileButton(2,"");
  TileButton(3,"");
  TileButton(4," .");
  TileButton(5,"");
  TileButton(6,"-");
  TileButton(7," /");
  TileButton(8," .");
  Tile(1,110,false,"1",InvDate);
  vs = 20; h1 = 110; h2 = 290; h3 = 530; h4 = -100;
  EditField(h1,vm=(v=6),82," /",Normal,InvDate,false,PasteCurDate);
  EditField(h1,v+=vs,25," ",Normal,PayDeal,false,PDSClass);//PDMSClass);
  EditField(h1,v+=vs,82," ",Normal,PayDate,false,PasteCurDate);
  EditField(h1,v+=vs,82," ",Normal,TransDate,false,PasteCurDate);
  EditField(h1,v+=vs,82," . ",Normal,ServiceDelDate,false,PasteCurDate);
  EditField(h2,v=vm,135,"",Normal,OurContact,false,0);
  EditField(h2,v+=vs,135,"",Normal,ClientContact,false,ContactSClass);
  EditField(h2,v+=vs,135,"",Normal,Objects,false,ObjSClass);
  EditField(h2,v+=vs,135,"",Normal,RefStr,false,0);
  EditField(h2,v+=vs,135,"  ",Normal,CustOrdNr,false,0);
  EditField(h3,v=vm,80,"",Normal,SalesMan,false,UserSClass);
  if (StandardHansa) then begin
    EditField(h3,v+=vs,80,"",Normal,Location,false,LocationSClass);
  end else begin
    EditField(h3,v+=vs,80,"",Normal,PRCode,false,0);
  end;
  EditField(h3,v+=vs,80," ./",Normal,Reason,false,StandProblemsSClass);
  
  if (CurrentUser=="SAUNOK") then begin		//Edit----------------------Dima  21.01.2016
		EditField(h3,v+=vs,80,"LocOKNr",Normal,LocOKNr,false,0);
	end;
  
  if (HasLocalization("MEX")) then begin
    EditField(h3,v+=vs,80," ",Normal,PMCode,false,PMSClass);
  end;
  if (HasLocalization("BRA")) then begin
    EditField(h3,v+=vs,80,"Invoice type",Normal,BrazilEInvType,false,BrazilEInvTypeSClass);
  end;
  if (HasLocalization("BOL,HRV")) then begin
    EditField(h3,v+=vs,130,"Tax Seal",Normal,TaxAdminServSeal,false,0);
  end;
  if (HasLocalization("MEX")) then begin
    EditField(h3,v+=vs,80,"No. Pay. Acc.",Normal,PayAccNo,false,0);
  end;
  if (HasLocalization("RUS")) then begin
    EditField(h3,v+=vs,-20," / -",Normal,ReceiptInfo,false,0);
  end;
  CheckBox(h4,v=6,0,"",DisputedFlag);
  
  if (StandardHansa) then begin
    CheckBox(h4,v+=16,0," ",UpdStockFlag);
  end;
  EnterSkip(Math);
  Tile(2,220,true,"2",Math);
  //  CheckBox(20,-20,0,"OK",OKFlag);
  if (CompileType!=ctiPhone) then begin
    EditField(90,-41,70,"",Normal,CurncyCode,false,CurncyCodeSClass);
    if (UseTaxTemplatesforTaxCalc==false) then begin
      if (UserCanAction("ViewCostPrice",true)) then begin
      //EditField(160,-41,70,"GP %",Normal,GPProc,true,0);
        EditField(90,-21,70," ",ViewOnly,TotGP,true,0);
      end;
      EditField(260,-41,70,"",ViewOnly,TAX2Sum,true,0);
      EditField(260,-21,70,". .",ViewOnly,TAX1Sum,true,0);
      EditField(410,-41,95,"",ViewOnly ,Sum3,true,0);
    end else begin
      if (UserCanAction("ViewCostPrice",true)) then begin
      //EditField(290,-41,70,"GP %",Normal,GPProc,true,0);
        EditField(290,-21,70," ",ViewOnly,TotGP,true,0);
      end;
      EditField(410,-41,95,"",ViewOnly ,Sum3,true,0);
    end;
    EditField(410,-21,95,"",ViewOnly,BaseSum4,true,0);
    EditField(-150,-41,95,"",ViewOnly ,Sum1,true,0);
    EditField(-150,-21,95,"",ViewOnly ,Sum4,true,0);
  end else begin
    EditField(55,-41,80,"",Normal,CurncyCode,false,CurncyCodeSClass);
    EditField(55,-21,80,"",ViewOnly ,Sum3,true,0);
    EditField(-120,-41,80,". .",ViewOnly,TAX1Sum,true,0);
    EditField(-120,-21,80,"",ViewOnly ,Sum4,true,0);
  end;
  EditField(90,-61,-35,"",Normal,InvComment,false,0); //Edit by Victor 11.09.14
  v = 24;
  MatrixBegin(4,v,-50,-49,-,999);// Edit ************************** Thursday, 25 June 2015 17:22:45
  MatTypedRow(stp);
  MatOverStrike(ovst);
  Flip(0);
  MatCol(t=kInvoiceRowTypeNormal,32,"",0,ArtCode,false,ForSaleINSClass);
  //  MatCol(t,94,"Var",0,VARList,true,VARSClass);
  //  MatCol(t,144,"Qty",0,Quant,true,0);
  if (HasVarieties) then begin
    MatCol(t,94,"-",0,Quant,true,MATVARINSClass);
  end else begin
    MatCol(t,94,"-",0,Quant,true,0);
  end;
  EnterSkip(ArtCode);
  MatCol(t=kInvoiceRowTypeStructuredItemComponent,32,"",0,ArtCode,false,ForSaleINSClass);
  if (HasVarieties) then begin
    MatCol(t,94,"-",0,Quant,true,MATVARINSClass);
  end else begin
    MatCol(t,94,"-",0,Quant,true,0);
  end;
  EnterSkip(ArtCode);
  MatText(t=kInvoiceRowTypeCredit,32," /",true);
  MatCol(t,208,"",0,OrdRow,false,ARSClass);
  MatCol(t,-216,"",0,Spec,false,0);//MatText(t);
  MatText(t=kInvoiceRowTypeDebit,32," /",true);
  MatCol(t,208,"",0,OrdRow,false,0);
  MatCol(t,-216,"",0,Spec,false,0);
  MatText(t=kInvoiceRowTypeInterest,32,"",true);
  MatCol(t,98,"",0,ArtCode,false,0);
  MatCol(t,153,"",0,Quant,true,0);
  MatCol(t,188,"",0,Spec,false,0);
  MatText(t=kInvoiceRowTypeDownpayment,32," ",true);
  MatColTL(t,122,"",0,-1,ViewOnly,0,ArtCode,true,0);
  MatColTL(t,188,"",0,-1,ViewOnly,0,Quant,true,0);
  MatCol(t,238,"",0,Spec,false,0);
  MatColTL(t,-170,"",0,-1,Normal,0,Sum,true,0); //?? TL?
  if (UseTaxTemplatesforTaxCalc) then begin
    MatCol(t,-100,"",0,SalesAcc,false,AccSClass);
    MatCol(t,-54,"",0,TaxTemplateCode,false,TaxTemplateSClass);
  end else begin
    MatCol(t,-70,"",0,SalesAcc,false,AccSClass);
    MatCol(t,-24,"",0,VATCode,false,VATCodeSClass);
  end;
  MatText(t=kInvoiceRowTypePrepayment,32," ",true);
  MatCol(t,170,"",0,CUPNr,true,ARPay3SClass);
  MatCol(t,-300,"",0,BasePrice,false,0);
  MatCol(t,-170,"",0,Price,true,0);// Price holds the #VAT# sum, Recipe holds the date of prepaym. BasePrice holds amount in base 1, TAX1Reb holds TAX1Sum
  MatCol(t,-100,"",0,Sum,true,0);
  MatText(t=kInvoiceRowTypeLoan,32,"",true);
  MatCol(t,98,"",0,CuAccCode,true,CuAccSClass);
  MatCol(t,-350,"",0,SalesAcc,true,AccSClass);
  MatCol(t,-230,"",0,Objects,false,0);
  MatCol(t,-110,"",0,Sum,true,0);
  MatCol(t,-30,"",0,VATCode,false,VATCodeSClass);
  MatText(t=kInvoiceRowTypeLoanInterest,32,"% ",true);
  MatCol(t,98,"",0,CuAccCode,true,CuAccSClass);
  MatCol(t,-350,"",0,SalesAcc,true,AccSClass);
  MatCol(t,-230,"",0,Objects,false,0);
  MatCol(t,-110,"",0,Sum,true,0);
  MatCol(t,-30,"",0,VATCode,false,VATCodeSClass);
  MatText(t=kInvoiceRowTypeUpdateMark,32,"",false);
  MatColTL(t,94,"",0,-1,ViewOnly,0,VoidedSign,false,0);
  MatCol(t,144,"",0,Spec,false,0);
  MatText(t=kInvoiceRowTypeVoid,32,"",false);
  MatColTL(t,65,"",0,-1,ViewOnly,0,VoidedSign,false,0);
  MatCol(t,100,"",0,ArtCode,false,ForSaleINSClass);
  if (HasVarieties) then begin
    MatCol(t,150,"-",0,Quant,true,MATVARINSClass);
  end else begin
    MatCol(t,150,"-",0,Quant,true,0);
  end;
  MatCol(t,190,"",0,Price,true,0);
  MatCol(t,250,"",0,Spec,false,0);
  MatCol(t,-195,". ",0,SerialNr,false,SerialNrSClass);
  MatCol(t,-110,"%",0,vRebate,true,0);
  MatCol(t,-80,"",0,Sum,true,0);
  MatText(t=kInvoiceRowTypeSubtotal,32,"",true);
  MatCol(t,100,"",0,Spec,false,0);
  MatColTL(t,-140,"",0,-1,ViewOnly,0,Sum,true,0);
  //  MatCol(t,-70,"Cost",0,Cost,true,0);
  MatText(t=kInvoiceRowTypeHidden,32,"        ",false);
  MatText(t=kInvoiceRowTypeCorrection,32,"K",true);
  MatCol(t,45,"",0,ArtCode,false,ForSaleINSClass);
  MatCol(t,91,"",0,Quant,true,0);
  MatText(t=kInvoiceRowTypeRetention,32,"",true);
  MatCol(t,100,"",0,Spec,false,0);
  MatColTL(t,-210,"SalesAcc",0,-1,0,0,SalesAcc,false,AccSClass);
  MatColTL(t,-110,"",0,-1,0,0,Sum,true,0);
  MatCol(t,-30,"",0,VATCode,false,VATCodeSClass);
  MatText(t=kInvoiceRowTypeGiftVoucherSold,32,"",true);
  MatCol(t,58,"",0,GCNr,false,GCSClass);
  MatCol(t,158,"",0,PayMode,false,0);// Edit ************************** Thursday, 18 February 2016 12:10:52
  MatCol(t,200,"",0,SalesAcc,false,0);// Edit ************************** Thursday, 18 February 2016 12:10:52

  MatCol(t,-416,"",0,Spec,false,0);
  MatCol(t,-84,"",0,Sum,true,0);
  MatCol(t,-24,"",0,VATCode,false,VATCodeSClass);
  MatText(t=kInvoiceRowTypeGiftVoucherPayment,32,"",true);
  MatCol(t,58,"",0,GCNr,false,GCSSClass);
  MatCol(t,-316,"",0,Spec,false,0);
  MatCol(t,-84,"",0,Sum,true,0);
  MatCol(t,-24,"",0,VATCode,false,VATCodeSClass);
  MatText(t=kInvoiceRowTypeCashPayment,32,".",true);
  MatCol(t,94,"",0,Sum,true,0);
  MatCol(t,198," ",0,PayMode,true,PMSClass);
  MatCol(t,250,".",0,Spec,false,0);
  MatText(t=kInvoiceRowTypeLoyaltyPointsPayment,32,"LOYPA",true);
  MatCol(t,68,"",0,Sum,true,0);
  MatCol(t,108,"",0,Points,true,0);
  MatCol(t,148,"",0,CurncyCode,true,CurncyCodeSClass);
  MatCol(t,-280,".",0,Spec,false,0);
  MatText(t=kInvoiceRowTypeLoyaltyPointsBonus,28,"LOYBO",true);
  MatCol(t,68,"",0,Points,true,0);
  MatCol(t,141,".",0,Spec,false,0);
  MatText(t=kInvoiceRowTypeCreditCardPayment,32,"CC",true);
  MatCol(t,94,"",0,Sum,true,0);
  MatCol(t,198," ",0,PayMode,true,PMSClass);
  MatCol(t,250,".",0,Spec,false,0);
  MatCol(t,-280,"",0,CreditCard,false,CreditCardSClass);
  MatCol(t,-84,"",0,AuthorizationCode,false,0);
  MatText(t=kInvoiceRowTypeHeader,32,"",true);
  MatCol(t,100,"",0,Spec,false,0);
  MatText(t=kInvoiceRowType18,28,".",true); // Don't use this number
  MatCol(t,100,"",0,Spec,false,0);
  MatText(t=kInvoiceRowType19,28,".",true); // Don't use this number
  MatCol(t,100,"",0,Spec,false,0);
  MatText(t=kInvoiceRowTypePerceptionTax,32," ",true);
  MatCol(t,132,"",0,CuAccCode,false,0);
  MatCol(t,252,"",0,TAX2Prc,true,0);
  MatCol(t,292,"",0,Sum,true,0);
  MatCol(t,372,"",0,SalesAcc,false,AccSClass);
  MatCol(t,452,"",0,Spec,false,0);
  MatText(t=kInvoiceRowTypeWithholdingTax,32," ",true);
  MatCol(t,132,"",0,WHTax,false,WHTaxSClass);
  MatCol(t,172,"",0,SalesAcc,false,AccSClass);
  MatCol(t,292,"",0,Sum,true,0);
  MatCol(t,392,"",0,Spec,false,0);
  if (StandardHansa==false) then begin
    MatText(t=kInvoiceRowTypeMultiBuyDiscount,32,"",true);
  end;
  MatCol(t,152,"",0,MBRCode,false,0);
  MatCol(t,192,"",0,ArtCode,false,ForSaleINSClass);
  MatCol(t,-400,"",0,Spec,false,0);
  MatCol(t,-270,"",0,Quant,true,0);
  MatCol(t,-235,"",0,Price,true,0);
  MatCol(t,-135,"",0,vRebate,true,0);
  MatCol(t,-100,"",0,Sum,true,0);
  MatText(t=kInvoiceRowTypeDebtorsTransfer,32,"DBT TRSF",true);
  MatCol(t,94,"Spec",0,Spec,false,0);
  MatCol(t,-235," ",0,SalesAcc,false,0);
  MatCol(t,-135,"",0,Sum,true,0);
  MatCol(t,-30,"",0,VATCode,false,0);

  /*
  MatText(t=kInvoiceRowTypePreviousDownpayment,32,"Prev. Down Payment",true);
  MatColTL(t,152,"",0,-1,ViewOnly,0,CUPNr,true,0);
  MatColTL(t,222,"",0,-1,ViewOnly,0,ServiceDelDate,true,0);
  MatColTL(t,-200,"",0,-1,Normal,0,Price,true,0);
  MatColTL(t,-100,"",0,-1,Normal,0,Sum,true,0);
  */
  //t = 21 kInvoiceRowTypeChequePayment
  Flip(1);
  //  MatCol(t=kInvoiceRowTypeNormal,194,"Description",0,Spec,false,0);
  t=kInvoiceRowTypeNormal;
  MatCol(t,144,"",0,Spec,false,0);
  MatCol(t,-235,"",0,Price,true,0);
  //  MatColTL(t,-235,"",0,M45Val,Normal,0,Price,true,0);
  MatCol(t,-135,"%",0,vRebate,true,0);
  MatCol(t,-100,"",0,Sum,true,0);
  MatCol(t=kInvoiceRowTypeStructuredItemComponent,144,"",0,Spec,false,0);
  MatCol(t,-235,"",0,Price,true,0);
  //  MatColTL(t,-235,"",0,M45Val,Normal,0,Price,true,0);
  MatCol(t,-135,"%",0,vRebate,true,0);
  MatCol(t,-100,"",0,Sum,true,0);
  MatCol(t=kInvoiceRowTypeInterest,-260,"",0,OrdRow,true,0);
  MatCol(t,-235,"",0,BasePrice,true,0);
  MatCol(t,-135,"",0,vRebate,true,0);
  MatCol(t,-100,"",0,Sum,true,0);
  MatCol(t=kInvoiceRowTypeCorrection,144,"",0,Spec,false,0);
  MatCol(t,-235,"",0,Price,true,0);
  MatCol(t,-135,"%",0,vRebate,true,0);
  MatCol(t,-100,"",0,Sum,true,0);
  Flip(2);
  MatCol(t=kInvoiceRowTypeNormal,144,"",0,Spec,false,0);
  MatCol(t,-360,"",0,SalesAcc,false,AccSClass);
  if (StandardHansa==false) then begin
    MatCol(t,-310,".",0,PeriodCode,false,AutSimPerSClass);
  end;
  MatCol(t,-255,"",0,Location,false,LocationSClass);
  MatCol(t,-180,"",0,PosCode,false,UsedPosSClass);
  if (UseTaxTemplatesforTaxCalc) then begin
    MatCol(t,-144,"",0,Objects,false,ObjSClass);
    MatCol(t,-70,"",0,TaxTemplateCode,false,TaxTemplateSClass);
  end else begin
    MatCol(t,-124,"",0,Objects,false,ObjSClass);
    MatCol(t,-30,"",0,VATCode,false,VATCodeSClass);
  end;
  MatCol(t=kInvoiceRowTypeStructuredItemComponent,144,"",0,Spec,false,0);
  MatCol(t,-360,"",0,SalesAcc,false,AccSClass);
  if (StandardHansa==false) then begin
    MatCol(t,-310,".",0,PeriodCode,false,AutSimPerSClass);
  end;
  MatCol(t,-255,"",0,Location,false,LocationSClass);
  if (StandardHansa==false) then begin
    MatCol(t,-180,"",0,PosCode,false,UsedPosSClass);
  end;
  if (UseTaxTemplatesforTaxCalc) then begin
    MatCol(t,-144,"",0,Objects,false,ObjSClass);
    MatCol(t,-70,"",0,TaxTemplateCode,false,TaxTemplateSClass);
  end else begin
    MatCol(t,-124,"",0,Objects,false,ObjSClass);
    MatCol(t,-30,"",0,VATCode,false,VATCodeSClass);
  end;
  MatCol(t=kInvoiceRowTypeInterest,-70,"",0,SalesAcc,false,AccSClass);
  MatCol(t,-24,"",0,VATCode,false,VATCodeSClass);
  //  MatCol(t=kInvoiceRowTypePrepayment,-224,"",0,SalesAcc,false,AccSClass);
  //  MatCol(t,-24,"",0,VATCode,false,VATCodeSClass);
  MatCol(t=kInvoiceRowTypeCorrection,144,"",0,Spec,false,0);
  MatCol(t,-250,"",0,SalesAcc,false,AccSClass);
  if (StandardHansa==false) then begin
    MatCol(t,-170,"..",0,PeriodCode,false,AutSimPerSClass);
  end;
  MatCol(t,-104,"",0,Objects,false,ObjSClass);
  if (UseTaxTemplatesforTaxCalc) then begin
    MatCol(t,-35,"-",0,TaxTemplateCode,false,TaxTemplateSClass);
  end else begin
  	MatCol(t,-30,"",0,VATCode,false,VATCodeSClass);
  end;
  Flip(3);
  t=kInvoiceRowTypeNormal;
  MatCol(t,144,"",0,Spec,false,0);
  if (UserCanAction("ViewCostPrice",true)) then begin //Edit***************************Sasha2,10:09 10.11.2014
    MatCol(t,-380,"",0,Price,true,0);
    MatCol(t,-315,"%",0,vRebate,true,0);
    MatCol(t,-280,". .2",0,BasePriceB2,true,0);
    MatCol(t,-210,"-",0,BasePrice,true,0);
    MatCol(t,-140,"",0,rowGP,true,0);
    MatCol(t,-70,"FIFO",0,FIFO,true,0);
  end else begin
    MatCol(t,-235,"",0,Price,true,0);
    MatCol(t,-135,"%",0,vRebate,true,0);
    MatCol(t,-100,"",0,Sum,true,0);
  end;
  MatCol(t=kInvoiceRowTypeStructuredItemComponent,144,"",0,Spec,false,0);
  if (UserCanAction("ViewCostPrice",true)) then begin //Edit***************************Sasha2,10:09 10.11.2014
    MatCol(t,-380,"",0,Price,true,0);
    MatCol(t,-315,"%",0,vRebate,true,0);
    MatCol(t,-280,". .",0,BasePriceB2,true,0);
    MatCol(t,-210,"-",0,BasePrice,true,0);
    MatCol(t,-140,"",0,rowGP,true,0);
    MatCol(t,-70,"FIFO",0,FIFO,true,0);
  end else begin
    MatCol(t,-235,"",0,Price,true,0);
    MatCol(t,-135,"%",0,vRebate,true,0);
    MatCol(t,-100,"",0,Sum,true,0);
  end;
  MatCol(t=kInvoiceRowTypeCorrection,144,"",0,Spec,false,0);
  if (UserCanAction("ViewCostPrice",true)) then begin //Edit***************************Sasha2,10:09 10.11.2014
    MatCol(t,-315,"",0,Price,true,0);
    MatCol(t,-245,"%",0,vRebate,true,0);
    MatCol(t,-210,"-",0,BasePrice,true,0);
    MatCol(t,-140,"",0,rowGP,true,0);
    MatCol(t,-70,"FIFO",0,FIFO,true,0);
  end else begin
    MatCol(t,-235,"",0,Price,true,0);
    MatCol(t,-135,"%",0,vRebate,true,0);
    MatCol(t,-100,"",0,Sum,true,0);
  end;
  Flip(4);
  t=kInvoiceRowTypeNormal;
  MatCol(t=kInvoiceRowTypeNormal,144,"",0,Spec,false,0);
  MatCol(t,-370,"",0,Salesmen,false,UserSClass);
  MatCol(t,-300," ",0,SerialNr,false,SerialNrSClass);
//  MatCol(t,-250,"Main Serial No.",0,MotherNr,true,0);
  MatCol(t,-220,".",0,PriceFactor,true,0);
  MatCol(t,-170,"",0,Recepy,false,RecSClass);
  if (UserCanAction("ViewCostPrice",true)) then begin //Edit***************************Sasha2,10:09 10.11.2014
    MatCol(t,-70,"FIFO",0,FIFORowVal,true,0);
  end else begin
  end;
  MatCol(t=kInvoiceRowTypeStructuredItemComponent,144,"",0,Spec,false,0);
  MatCol(t,-310,". ",0,SerialNr,false,SerialNrSClass);
  MatCol(t,-240,"",0,PriceFactor,true,0);
  MatCol(t,-180,"",0,Recepy,true,0);
  if (UserCanAction("ViewCostPrice",true)) then begin //Edit***************************Sasha2,10:10 10.11.2014
    MatCol(t,-110,"FIFO",0,FIFORowVal,true,0);
  end else begin
  end;
  MatCol(t,-40,".",0,Coefficient,true,0);
  MatCol(t=kInvoiceRowTypeCorrection,144,"",0,Spec,false,0);
  MatCol(t,-310,". ",0,SerialNr,false,SerialNrSClass);
  MatCol(t,-240,"",0,PriceFactor,true,0);
  MatCol(t,-180,"",0,Recepy,true,0);
  if (UserCanAction("ViewCostPrice",true)) then begin //Edit***************************Sasha2,10:10 10.11.2014
    MatCol(t,-110,"FIFO",0,FIFORowVal,true,0);
  end else begin
  end;
  MatCol(t,-80,"",0,MotherArtCode,false,0);
  MatCol(t,-40,"",0,RecipeQuant,false,0);
  //  MatCol(t,-40,"Coeff",0,Coefficient,true,0);
  Flip(5);
  t=kInvoiceRowTypeNormal;
  MatCol(t=kInvoiceRowTypeNormal,144,"",0,Spec,false,0);
  MatCol(t,-315,"-",0,UnitCode,false,UnitSClass);
  MatCol(t,-260,"- .",0,UnitFactQuant,true,0);
  MatCol(t,-200,".",0,UnitXval,true,0);
  MatCol(t,-160,".",0,UnitYval,true,0);
  MatCol(t,-120,".",0,UnitZval,true,0);
  MatCol(t,-80," -",0,UnitFactPrice,true,0);
  MatCol(t=kInvoiceRowTypeStructuredItemComponent,144,"",0,Spec,false,0);
  MatCol(t,-315,"-",0,UnitCode,false,UnitSClass);
  MatCol(t,-260,"- .",0,UnitFactQuant,true,0);
  MatCol(t,-200,".",0,UnitXval,true,0);
  MatCol(t,-160,".",0,UnitYval,true,0);
  MatCol(t,-120,".",0,UnitZval,true,0);
  MatCol(t,-80," -",0,UnitFactPrice,true,0);
  MatCol(t=kInvoiceRowTypeCorrection,144,"",0,Spec,false,0);//New Row Type..
  MatCol(t,-315,"-",0,UnitCode,false,UnitSClass);
  MatCol(t,-260,"- .",0,UnitFactQuant,true,0);
  MatCol(t,-200,".",0,UnitXval,true,0);
  MatCol(t,-160,".",0,UnitYval,true,0);
  MatCol(t,-120,".",0,UnitZval,true,0);
  MatCol(t,-80," -",0,UnitFactPrice,true,0);
  Flip(6);
  t = kInvoiceRowTypeNormal;
  MatCol(t,144,"",0,Spec,false,0);
  MatCol(t,-390,"  ",0,CustArtCode,false,CUINSClass);
  MatCol(t,-300,".",0,Coefficient,true,0);
  MatCol(t,-260,". ",0,PriceFactor,true,0);
  if (StandardHansa==false) then begin
    MatCol(t,-210," . .",0,CUServiceHistNr,false,0);
  end;
  MatCol(t,-130,". ",0,CreditedRow,false,0);
  MatCol(t,-70,"  . .",0,RepaExVAT,true,0);
  MatCol(t=kInvoiceRowTypeStructuredItemComponent,144,"",0,Spec,false,0);
  MatCol(t,-390,"  ",0,CustArtCode,false,CUINSClass);
  MatCol(t,-300,".",0,Coefficient,true,0);
  MatCol(t,-260,". ",0,PriceFactor,true,0);
  if (StandardHansa==false) then begin
    MatCol(t,-210," . .",0,CUServiceHistNr,false,0);
  end;
  MatCol(t,-130,". ",0,CreditedRow,false,0);
  MatCol(t,-70,"  . .",0,RepaExVAT,true,0);
  MatCol(t=kInvoiceRowTypeCorrection,144,"",0,Spec,false,0);
  MatCol(t,-80,". .",0,RepaExVAT,true,0);
  Flip(7);
  t = kInvoiceRowTypeNormal;
  if (GuiType!=kGuiiPhone) then begin
    MatCol(t,144,"",0,Spec,false,0);
  end;
  MatCol(t,-240,"",0,CustomsNr,false,0);
  MatCol(t,-100,"",0,CountryOfOrg,false,CountrySClass);
  MatCol(t=kInvoiceRowTypeStructuredItemComponent,144,"",0,Spec,false,0);
  MatCol(t,-240,"",0,CustomsNr,false,0);
  MatCol(t,-100,"",0,CountryOfOrg,false,CountrySClass);
  MatCol(t=kInvoiceRowTypeCorrection,144,"",0,Spec,false,0);
  MatCol(t,-240,"",0,CustomsNr,false,0);
  MatCol(t,-100,"",0,CountryOfOrg,false,CountrySClass);
  InsertRowTest;
  DeleteRowTest;
  EndMatrix;
  vs = 22;
  v = 18; VTab(-35,v,-16,v+vs,ToolFlip,1,"A");
  v=v+ vs; VTab(-35,v,-16,v+vs,ToolFlip,2,"B");
  v=v+ vs; VTab(-35,v,-16,v+vs,ToolFlip,3,"C");
  v=v+ vs; VTab(-35,v,-16,v+vs,ToolFlip,4,"D");
  v=v+ vs; VTab(-35,v,-16,v+vs,ToolFlip,5,"E");
  v=v+ vs; VTab(-35,v,-16,v+vs,ToolFlip,6,"F");
  v=v+ vs; VTab(-35,v,-16,v+vs,ToolFlip,7,"G");
  Tile(3,70,false,"3",FrRate);
  vs = 20;
  EditField(h=110,v=6,50,"",Normal,CurncyCode,false,CurncyCodeSClass);
  EditField(h,v+vs,50,"  1",Normal,BaseRate1,true,0);
  EditField(h,v+(vs*2),50,"  2",Normal,BaseRate2,true,0);
  EditField(h2=295,v,50,"",Normal,FrRate,true,0);
  RateField(h3=360,v,50,":",Normal,"ToRateB1",true,h3+60,v+14,"  1",false);
  RateField(h3,v+=vs,50,":",Normal,"ToRateB2",true,h3+60,v+14,"  2",false);
  Tile(4,110,false,"4",ShipDeal);
  vs = 20; h1 = 110; h2 = 310; h3 = 530; h4 = -100;
  EditField(h1,v=6,80," ",Normal,ShipDeal,false,ShipDealSClass);
  EditField(h1,v+=vs,80," ",Normal,ShipMode,false,DMSClass);
  if (StandardHansa==false) then begin
    EditField(h1,v+=vs,80,"",Normal,Sorting,false,DelRouteSClass);
    EditField(h1,v+=vs,80,"",Normal,Location,false,LocationSClass);
    EditField(h1,v+=vs,80,".  .",Normal,PlanSendDate,false,PasteCurDate);
    EditField(h1,v+=vs,80,".  .",Normal,PlanSendTime,false,PasteCurTime);
  end;
  EditField(h1,v+=vs,80,"",Normal,BranchID,false,AllCUSClass);
  EditField(h2,v=vm,80," -",ViewOnly,TotQty,true,0);
  EditField(h2,v+=vs,80," ",ViewOnly,TotWeight,true,0);
  EditField(h2,v+=vs,80," ",ViewOnly,TotVolume,true,0);
  EditField(h2,v+=vs,80,"",Normal,FrPrice,true,0);
  if (StandardHansa==false) then begin
    EditField(h2,v+=vs,80,".  .",Normal,PlanArrDate,false,PasteCurDate);
    EditField(h2,v+=vs,80,".  .",Normal,PlanArrTime,false,PasteCurTime);
    EditField(h2,v+=vs,80,". .",Normal,FreightCode,false,FreightCompanySClass);
    CheckBox(h3,v=vm,0," ",UpdStockFlag);
    CheckBox(h3,v+=vs,0," ",AllowSaleAllGoods);//Edit----------------------Dima  26.01.2016
    EditField(h3,v+=vs,80,"",Normal,Position,true,POSSClass);
    EditField(h3,v+=vs,80," ",Normal,FrVATCode,true,VATCodeSClass);
   // EditField(h3,v+=vs,80," . .",Normal,IntrastatTransCode,true,IntrastatTransCodeSClass);
    EditField(h3,v+=vs,80,".  .",Normal,GlobalTransportNr,false,0);
    EditField(h3,v+=vs,80,".  .",Normal,GlobalTransportDate,false,PasteCurDate);
    EditField(h3,v+=vs,80,".",Normal,MachineName,false,LocalMachineSClass); //Edit***************************Sasha2,9:37 28.07.2015
  end;
  
  Tile(5,170,false,"5",OrderNr);
  EditField(h1,v=vm,80," ",ViewOnly,OrderNr,false,0);
  if (StandardHansa==false) then begin
    EditField(h1,v+=vs,80,". .",ViewOnly,SVONr,false,0);
    EditField(h1,v+=vs,80," ..",ViewOnly ,CredManNr,false,0);
  end;
  EditField(h1,v+=vs,80,". ",Normal,StatVal,true,0);
  EditField(h1,v+=vs,80," ",Normal,TransTime,false,SetSClass);
  EditField(h1,v+=(2*vs),135,".  2",Normal,OfficialSerNr2,false,0);
  if (HasLocalization("BRA")) then begin
    EditField(h1,v+=vs,80,"Federal Service",Normal,FedServCode,false,FederalSerSClass);
  end;
  //  ColourPushButton(-100,v,-20,v+60,"TestIVDClassCardData","Test" & chr(10) & "CardData",4);
  //  SoftEditField(h3+50,v,100,"Control Code"  ,ViewOnly ,"TaxAuthIDCC",false,0,M4Str,60);
  if (StandardHansa==false) then begin
    EditField(h2,v=vm,135,". ",Normal,TaxAuthID,false,0);
    EditField(h2,v+=vs,135,". ",ViewOnly ,TaxAuthIDCC,false,0);
    EditField(h2,v+=vs,135,"CAE/CAEA",Normal,CAE,false,0);
    EditField(h2,v+=vs,135," . CAE",Normal,CAEExpiry,false,0);
    EditField(h2,v+=vs,70,"CAEA . ",ViewOnly,CAEAStartDate,false,0);
    EditField(h2+150,v,70,"",ViewOnly,CAEAExpiryDate,false,0);
    EditField(h2,v+=vs,70,"CAEA . ",ViewOnly,CAEAStartDate,false,0);
    EditField(h2+150,v,70,"",ViewOnly,CAEAExpiryDate,false,0);
    EditField(h2,v+=vs,135,"",Normal,Status,false,SetSClass);
  end;
  //  EditField(h2,v+=vs,135,"E-Inv Exp. Date",ViewOnly,EInvExpDate,false,0);//Tx server
  //  EditField(h2,v+=vs,135,"E-Inv Exp. Qty",ViewOnly,EInvExpQty,false,0);
  CheckBox(h3=550,v=vm,0," ",NoRemndrFlag);
  CheckBox(h3,v+=16,0," ",NoInterestFlag);
  CheckBox(h3,v+=16,0," ",NoColectionFlag);
  CheckBox(h3,v+=16,0,"  ",ARonTR);
  CheckBox(h3,v+=16,0,"   . /",NoEInvoice);
  if (StandardHansa==false) then begin
    CheckBox(h3,v+=16,0," /",FiscalFlag);
    CheckBox(h3,v+=16,0," ",SelfBilling);
//    CheckBox(h3,v+=16,0,"Including VAT",InclVAT);
  end;
  //  CheckBox(h3,v+=16,0,"E-Invoice Exported",EInvExpFlag);
  Tile(6,150,false,"6",PriceList); vs = 20;
  EditField(h1,v=vm,80,"-",Normal,PriceList,false,PLDefSClass);
  EditField(h1,v+=vs,80," ",Normal,RebCode,false,0);
  //  EditField(h1,v+=vs,80,"Disc. %",ViewOnly,DiscPerc,false,0);
  //  EditField(h1,v+=vs,80,"Disc. Amount",ViewOnly,DiscSum,false,0);
  EditField(h1,v+=vs,80,"-",ViewOnly,OrgCust,false,0);
  if (StandardHansa==false) then begin
    EditField(h1,v+=vs,80," ",Normal,CreditCard,false,CreditCardSClass);
    EditField(h1,v+=vs,80,"",Normal,AuthorizationCode,false,0);
  end;
  EditField(h1,v+=vs,80," ",Normal,ARAcc,false,AccSClass);
  //EditField(h1,v+=vs,-20,"",Normal,InvComment,false,0); //Edit by Victor 11.09.14
  if (StandardHansa==false) then begin
    EditField(h2,v=vm,80," ",ViewOnly,SalesGroup,true,0);
    EditField(h2,v+=vs,80,"",Normal,LangCode,false,LangSClass);
  end else begin
    EditField(h2,v=vm,80,"",Normal,LangCode,false,LangSClass);
  end;
  EditField(h2,v+=vs,80,"",Normal,Commision,true,0);
  EditField(h2,v+=vs,80," . .",ViewOnly,SumIncCom,true,0);
  EditField(h2,v+=vs,80,"",Normal,IntCode,true,IntSClass);
  if (StandardHansa==false) then begin
    EditField(h2,v+=vs,80," ",Normal,CredInv,false,0);
    EditField(h3,v=vm,80," ",Normal,LastRemndr,false,0);
  end else begin
    EditField(h3,v=vm,80,"Org. No.",Normal,CredInv,false,0);   // From dict
    EditField(h3,v+=vs,80," ",Normal,LastRemndr,false,0);   // From dict
  end;
  EditField(h3,v+=vs,80," . .",Normal,LastRemDate,false,PasteCurDate);
  if (StandardHansa==false) then begin
    EditField(h3,v+=vs,80," ",Normal,LoyaltyCardNr,false,LoyaltyCardSClass);
  end;
  EnterSkip(Math);
  if (StandardHansa==false) then begin
    EditField(h3,v+=vs,80,". ",ViewOnly,LCMLevel,false,LCMemberLevelSClass);
    EditField(h3,v+=vs,80," ",ViewOnly,Points,true,0);
  end;
  if (HasTREO) then begin
    EditField(h3,v+=vs,80," TREO",Normal,TREONr,false,0);
  end;
  Tile(7,250,false,"7",Addr1); vs = 20;
  label = UserDefined("CUVc","InvAddr0");
  if (blank(label)) then begin label = "Invoice"; end;
  EditField(h=110,v=6,-20,label,Normal,Addr1,false,0);
  label = UserDefined("CUVc","InvAddr1");
  if (blank(label)) then begin label = ""; end;
  EditField(h,v+=vs, -20,label,Normal,Addr2,false,0);
  label = UserDefined("CUVc","InvAddr2");
  EditField(h,v+=vs, -20,label,Normal,Addr3,false,0);
  label = UserDefined("CUVc","InvAddr3");
  EditField(h,v+=vs, -20,label,Normal,InvAddr3,false,0);
  label = UserDefined("CUVc","InvAddr4");
  EditField(h,v+=vs, -20,label,Normal,InvAddr4,false,0);
  EditField(h,vm=(v+=vs),80,"",Normal,InvCountry,false,CountrySClass);
  if (HasLocalization("BRA")) then begin
    EditField(h2-89,v,232,"",ViewOnly,InvCountryName,false,0);
    h5 = -170;
    width = 150;
  end else begin
    h5 = -270;
    width = 135;
  end;
  EditField(h5,v,width,"",Normal,BankCode,false,BankSClass);
  if (StandardHansa==false) then begin
    ButtonFrame(h3=h+4,v=(vm+=40),123,6," ");
    RadioButton(h3,v,kAcceptanceStateNotRequired,0," ",AcceptanceStatus);
    RadioButton(h3,v+=16,kAcceptanceStateNotStarted,0," ",AcceptanceStatus);
    RadioButton(h3,v+=16,kAcceptanceStateNotRequested,0," ",AcceptanceStatus);
    RadioButton(h3,v+=16,kAcceptanceStatePending,0," ",AcceptanceStatus);
    RadioButton(h3,v+=16,kAcceptanceStateApproved,0,"",AcceptanceStatus);
    RadioButton(h3,v+=16,kAcceptanceStateRejected,0,"",AcceptanceStatus);
    v = VATZoneButtonsLabelsRUS(h3=290,v=vm,140,16);
  end else begin
    v = VATZoneButtonsLabelsRUS(h3=290,v=vm+40,140,16);
  end;
  EditField(h2=-170,v=vm,150,"",Normal,Region,false,RegionSClass);
  EditField(h2,v+=vs,150,"",Normal,VATNr,false,0);
  EditField(h2,v+=vs,150,"GLN",ViewOnly,RecipientGLN,false,0);
  EditField(h2,v+=vs,150,"",Normal,Phone,false,0);
  EditField(h2,v+=vs,150,"",Normal,Fax,false,0);
  Tile(8,170,false,"8",ShipAddr0); vs = 20;
  if (StandardHansa==false) then begin
    EditField(h1,v=6,80," ",Normal,DelAddrCode,false,DelAddr3SClass);
    EditField(h1,v+=vs,-20,"",Normal,ShipAddr0,false,0);
  end else begin
    EditField(h1,v=6,-20,"",Normal,ShipAddr0,false,0);   // From dict
  end;
  EditField(h1,v+=vs,-20,"",Normal,ShipAddr1,false,0);
  EditField(h1,v+=vs,-20,"",Normal,ShipAddr2,false,0);
  EditField(h1,v+=vs,-20,"",Normal,ShipAddr3,false,0);
  EditField(h1,v+=vs,-20,"",Normal,DelAddr3,false,0);
  EditField(h1,v+=vs,-20,"",Normal,DelAddr4,false,0);
  EditField(h1,v+=vs,80,"",Normal,DelCountry,false,CountrySClass);
  if (HasLocalization("BRA")) then begin
    EditField(h1+91,v,232,"",ViewOnly,DelCountryName,false,0);
  end;
  EditField(h2,v,150,"GLN ",ViewOnly,DelRecipientGLN,false,0);
  EnterSkip(InvDate);
  if (GuiType==kGuiMetro) then begin // Temporarily disabled on Windows 8
    SpecialMenu(" -",'r',2,"IVInfoIVDsm");
    SpecialMenu(" ",'I',0,"ItemStatusIVDsm");
    SpecialMenu("  ",'t',8,"OpenTRFromIV");
    SpecialMenu("  -",' ',20,"CreateCreditNoteIVDsm");
    SpecialMenu(" ",' ',12,"SubTotalLineIVDsm");
    SpecialMenu("  ",' ',4,"ConnectToPrepayIVDsm");
/*not working yet
    SpecialMenu(" e-mail",'m',23,"CreateMailFromIVDsm");
*/
  end else begin
    SpecialMenu(" ",'I',0,"ItemStatusIVDsm");
    SpecialMenu(" ",'f',1,"ItemSearchDsm");
    SpecialMenu(" -",'r',2,"IVInfoIVDsm");
    SpecialMenu("  ",'',26,"PrintNonFiscalReceipt"); //Edit***************************Sasha2,16:58 17.08.2015
    SpecialMenu("  ",' ',15,"IVLastSPrsm");
    SpecialMenu("  ",' ',12,"HeaderLineIVDsm");
    SpecialMenu("  ",' ',12,"HiddenLineIVDsm");
    if (HasLocalization("HRV")) then begin
      SpecialMenu("Add Cash Line",' ',12,"CashLineIVDsm");
      SpecialMenu("Add Credit Card Line",' ',12,"CreditCardLineIVDsm");
    end;
    SpecialMenu("    ",' ',19,"RepaIVsm");
    if (StandardHansa==false) then begin
      SpecialMenu(" ",' ',25,"RetentionLineIVDsm");
    end;
    SpecialMenu(" ",' ',12,"SubTotalLineIVDsm");
    if (HasApprovals) then begin
      SpecialMenu("  ",' ',6,"IVSendforAcceptanceIVDsm");
      SpecialMenu("    ",' ',2,"CancelApprovalRequestDsm");
    end;
    if (GuiType==kGuiiPhone) then begin
      SpecialMenu("",' ',10,"SignIVDsm");
    end;
    SpecialMenu("  . .1",' ',14,"SwitchToBase1IVDsm");
    SpecialMenu("  ",' ',4,"ConnectToPrepayIVDsm");
    SpecialMenu(" ",' ',11,"RecalcDiscountIVDsm");
    SpecialMenu("   ",' ',10,"RecalcWeightIVDsm");
    SpecialMenu("   ",' ',5,"UpdatePricesIVDsm");
    SpecialMenu("  ",' ',7,"PrintCashInOutIVDsm");
    if (HasLocalization("PRT")==false) then begin
    SpecialMenu("  -",' ',3,"PrintProformaIVDsm");
    end;
    if (StandardHansa==false) then begin
      SpecialMenu("   ",' ',19,"PrintToFiscPrntIVDsm");
      SpecialMenu("  ",' ',22,"CCPayIVDsm");
      SpecialMenu(" ",' ',24,"EditInstalmentIVDsm");
  	end;
  	SpecialMenu(" . / ",' ',21,"ResendEIVDsm");
    if (HasLocalization("ARG")) then begin
      SpecialMenu("/  . / ",'e',17,"SendArgEInvIVDsm");
      SpecialMenu("Retrive CAE/CAEA",'',17,"ConsultarArgEInvIVDsm");
    end;
    if (HasLocalization("MEX")) then begin
      SpecialMenu("Send Mexican E-Invoice",'e',17,"SendMexEInvIVDsm");
    end;
  	if (HasLocalization("BRA")) then begin
      SpecialMenu("Send/Resend Brazilian E-Invoice",' ',27,"SendBraEInvIVDsm");
    end;
    if (HasLocalization("FIN")) then begin
      SpecialMenu("Export Finvoice",' ',28,"ExportFinvoiceIVDsm");
    end;
  	SpecialMenu("  ",'t',8,"OpenTRFromIV");
    if (HasModCRM) then begin
      SpecialMenu(" ",'c',9,"CreateActFromIVDsm");
    end;
    SpecialMenu("  ",' ',1,"DoCLInFromIVD");
    SpecialMenu(" . /",' ',20,"CreateCreditNoteIVDsm");
    if (StandardHansa==false) then begin
      SpecialMenu("  ",' ',25,"CreateCredManIVsm");
    end;
    SpecialMenu(" ",' ',13,"COFromIVDsm");
    if (StandardHansa==false) then begin
      SpecialMenu("  -",' ',16,"CorrectionIVsm");
      SpecialMenu("  ",' ',20,"CreateDebitNoteIVDsm");
      SpecialMenu("  EDI",' ',9,"DoEDIInvFromIVD");
    end;
    SpecialMenu(" E-Mail",'m',23,"CreateMailFromIVDsm");
    if (HasLocalization("UKR")) then begin
      SpecialMenu("  ",' ',18,"FirstEventIVDsm");
    end;
    if (StandardHansa==false) then begin
      SpecialMenu(" ",' ',6,"CreateInstalmentsIVDsm");
        if (HasLocalization("HRV,POL,RUS,SRB,SLV,UKR")) then begin
        SpecialMenu("    ",' ',17,"VATCorrectionIVsm");
      end;
      SpecialMenu("  ",' ',24,"MgrsDiscOverrideIVDsm");
      if (HasTaxMatrix) then begin
      SpecialMenu(" . ",' ',25,"TestVatMatrixIVDsm");
      end;

    //  SpecialMenu("GSXAutoEnrollmentIVDsm",'w',26,"GSXAutoEnrollmentIVDsm");
      SpecialMenu("Apple .  ",'w',26,"WarrantyStatusIVDsm");
      SpecialMenu("  ",'p',26,"PrintFiscalReceipt");	//Edit----------------------Dima  10.06.2015
      SpecialMenu("    ",'',18,"ExportToExcelIVDsm");	//Edit----------------------Dima  01.09.2015

    //  SpecialMenu("TESTSendArgEInvoiceFECAESolicitar",' ',25,"TESTSendArgEInvoiceFECAESolicitar");
    //  SpecialMenu("Test Mex E-Invoices",'1',0,"TestMexEInvoices");
    end;
  end;
end else begin

  date td;
  integer acnt,wn,points;
  longint bm,lt,rt,tp,page;
  real h,h2,h3,h4,v;
  record IVVc IVr;
  record LocalMachineBlock LMb;
  record POSButtonsVc POSBr;
  string 255 bc1,bc2,compname,lmc,nr,sessdesc,sm;
  time tt;
  //record LoyaltyCardVc LCr;

  BlockLoad(LMb);

    //StopAlert(LMb.POSButtonGroup);

    wn = CurWindow;
    GetScreenSize(wn,tp,lt,bm,rt);
    switch (GuiType) begin
      case kGuiCocoa:
        bm = bm - 80;
      case kGuiWindowsDesktop:
        tp = tp + 30;
        bm = bm - 40;
        rt = rt - 55;
        lt = lt - 45;
      case kGuiGDI:
        tp = tp + 30;
        bm = bm - 40;
        rt = rt - 55;
        lt = lt - 45;
      case kGuiWPF:
        tp = tp + 30;
        bm = bm - 40;
        rt = rt - 55;
        lt = lt - 45;
    end;

    page = StringToInt(GetWindowString(wn,"touchscreenwindowpage"));
    if (page<1) then begin
      page = 1;
    end;
    //stopalert("about to call ReadPOSButtons, page:" & page);
    ReadPOSButtons("IVDClass",LMb.POSButtonGroup,page,bc1,bc2,compname,POSBr,acnt);
    SetWRect(lt,tp,rt,bm);
//    AbsoluteWindowSize;
    if (TestEnablerFile("EnNoFullscreenWindow")==false) then begin
      FullscreenWindow;
    end;
    BrowseButtons(false);
    Sizeable(-1,-1,0,0);
    BrowseButtons(false);
    DynamicWindow;
    UseView(IVVc);
    ActiveFieldOnNew("ivcashcommand");
    ToolBar;
//    PushButton(-340,5,-340 + 34,5+18,ToolPasteSpec,"v");
    EndToolBar;

    v = 20;
    h = -300; h2 = -150; h3 = -70; h4 = -10;

    wn = CurWindow;
    if (wn>0) then begin
      switch (GetWindowClass(wn)) begin
        case "IVDClass":
          GetWindowRecord(wn,IVr);
      end;
    end;
    td = IVr.TransDate;
    if (blankdate(td)) then begin td = CurrentDate; end;
    tt = IVr.TransTime;
    if (blanktime(tt)) then begin tt = CurrentTime; end;
    lmc = IVr.MachineName;
    if (blanktime(lmc)) then begin lmc = LMb.LocalMachineCode; end;
    sm = IVr.SalesMan;
    if (blanktime(sm)) then begin sm = CurrentUser; end;
    nr = ": ";
    if (IVr.SerNr>0) then begin
      nr = nr & IVr.SerNr;
    end;

		if(nonblank(IVr.LoyaltyCardNr))then begin
			points = GetLoyPoints(IVr.LoyaltyCardNr);
		end;

    /*LCr.SerNr = IVr.LoyaltyCardNr;
		if(ReadFirstMain(LCr,1,true))then begin
			points = LCr.PointsBalance;
		end;*/

    /*if (IsSessionOpen(IVr.MachineName,IVr.DrawerCode,CurrentDate,CurrentTime)) then begin
      sessdesc = "  ";
    end else begin
      sessdesc = "***    ***";
    end;*/

    // StopAlert("IsSessionOpen(" & IVr.MachineName & "," & IVr.DrawerCode & "," & IVr.TransDate & "," & IVr.TransTime & "); -> " & sessdesc);

    DisplayRecordDetails_RUS(10,26,compname,td,tt,lmc,sm,nr,IVr.CustCode,IVr.Addr0,/*IVr.Addr1*/IVr.RebCode,IVr.Addr2,IVr.Addr3,IVr.Phone,IVr.Objects,IVr.LoyaltyCardNr,LMb.ShowBaggerSupervisor,"","","",blankval,sessdesc,true,points,IVr.TaxAdminServSeal);

    if (bm<650) then begin
      SoftEditFieldTLX(360,6,h4,"",M4Str,ViewOnly,100,20,patM4black,"CustomerDisplayData_Line1",true,0);
      SoftEditFieldTLX(360,36,h4,"",M4Str,ViewOnly,100,30,patM4black,"CustomerDisplayData_Line2",true,0);
    end else begin
      SoftEditFieldTLX(360,6,h4,"",M4Str,ViewOnly,100,15,patM4black,"CustomerDisplayData_Line1",true,0);
      SoftEditFieldTLX(360,46,h4,"",M4Str,ViewOnly,100,25,patM4black,"CustomerDisplayData_Line2",true,0);
    end;

    switch (LMb.POSButtonsPosition) begin
      case kPOSButtonsPositionLeft:
        CheckBox(50,-72,0,"",FiscalFlag); //Edit***************************Sasha2,13:44 14.07.2015
        CheckBox(50,-100,0," ",AllowSaleAllGoods);//Edit----------------------Dima  26.01.2016
        SoftEditField(110,-22,200,"/"  ,Normal ,"ivcashcommand",false,IN1SClass,M4Str,255);//Edit by Victor 29.10.14
      case kPOSButtonsPositionRight:
        CheckBox(-310,-72,0,"",FiscalFlag); //Edit***************************Sasha2,13:44 14.07.2015
        CheckBox(-310,-100,0," ",AllowSaleAllGoods);//Edit----------------------Dima  26.01.2016
        SoftEditField(-260,-22,200,"/"  ,Normal ,"ivcashcommand",false,IN1SClass,M4Str,255);//Edit by Victor 29.10.14
    end;
    SoftEditField(2000,-22,200,""  ,Normal ,"ivcashcommandlastitemsernrf",false,0,M4Str,255);
    DrawPOSInterface_RUS(bc1,bc2,POSBr,acnt,"",100);
    BottomBar;

	SpecialMenu("  ",'p',26,"PrintFiscalReceipt");	//Edit----------------------Dima  10.06.2015
end;
  EndWindow;
end;	//Edit by Victor }

window INSClass:4
  wtag("language","RUS"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer")
begin
  real v;

  WindowBegin(" ",INSClass,CGslist,-);
  Sizeable(-1,-1,0,0);
  UseView(INVc);
  SpawnClass(INDClass);
    if (GuiType==kGuiiPhone) then begin
      RecordList(4,17,-21,-39);
      RLCellKey(10,6,150,19,Name,false,12,patM4blue,ActName);
//      RLCell(10,26,150,39,Code,false,12,patM4black);
      if (HasItemGroups or HasLocalization("PRT")) then begin
        RLCell(210,6,280,19,Group,false,12,patM4black);
      end;
      RLCell(210,26,280,39,UPrice1,false,12,patM4black);
    end else begin
      v = 0;
      /*if (GuiType==kGuiCocoa) then begin	//*** Edit by Victor 29.10.14
        SetWRect(210,80,850,498);
        //FlowView(0,0,-1,200);
        v = v+200;
      end else begin
        SetWRect(210,80,850,298);
      end;*/
      SetWRect(210,80,850,298);
      RecordList(4,v+17,-21,-39);
      RlColKey(4,4,"",Code,false,ActCode);
      if (HasItemGroups or HasLocalization("PRT")) then begin
        RlColKey(105,105,"",Group,false,ActGroup);
        RlColKey(160,160,"",Name,false,ActName);
      end else begin
        RlColKey(105,105,"",Name,false,ActName);
      end;
      if (IsEnterprise) then begin
      	if (StandardHansa==false) then begin
        	RlColKey(-250,-250,". ",AlternativeCode,false,ActAlternativeCode);
      	end else begin
        	RlCol(-250,-250,"-",BarCode,false);
      	end;
      end;
      if (HasModIN) then begin
        RlCol(-120,-120,". ",UPrice1,true);
      end else begin
        RlCol(-120,-120,"",UPrice1,true);
      end;
      if (HasModIN) then begin
        CalculatedColumn(-50,-50," ","INSClassInStock",true);
      end;
      SearchField("");
      if (HasModIN) then begin
        if (UserCanReport("INInfoRn","",true)) then begin
          SpecialMenu(" ",'I',0,"INStatusINSsm");
        end;
      end;
      if (IsEnterprise) then begin
        SpecialMenu("",'F',1,"INSearchSsm");
        if (StandardHansa==false) then begin
          SpecialMenu("-",'l',2,"AltItemINSsm");
          SpecialMenu(" ",'r',2,"CrossItemINSsm");
        end;
      end;
//  SearchField("Search");
  end;
  EndWindow;
end;

window IN1SClass:4
  wtag("language","RUS"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer")
begin
  real v;
  record LocalMachineBlock LMb;

  WindowBegin(" ",IN1SClass,CGslist,-);
  Sizeable(-1,-1,0,0);
  UseView(INVc);
  SpawnClass(INDClass);

  BlockLoad(LMb);

    if (GuiType==kGuiiPhone) then begin
      RecordList(4,17,-21,-39);
      RLCellKey(10,6,150,19,Name,false,12,patM4blue,ActName);
//      RLCell(10,26,150,39,Code,false,12,patM4black);
      if (HasItemGroups or HasLocalization("PRT")) then begin
        RLCell(210,6,280,19,Group,false,12,patM4black);
      end;
      RLCell(210,26,280,39,UPrice1,false,12,patM4black);
    end else begin
      v = 0;
      /*if (GuiType==kGuiCocoa) then begin	//*** Edit by Victor 29.10.14
        SetWRect(210,80,850,498);
        //FlowView(0,0,-1,200);
        v = v+200;
      end else begin
        SetWRect(210,80,850,298);
      end;*/
      SetWRect(210,80,850,298);
      RecordList(4,v+17,-21,-39);
      RlColKey(4,4,"",Code,false,ActCode);
      if (HasItemGroups or HasLocalization("PRT")) then begin
        RlColKey(105,105,"",Group,false,ActGroup);
        RlColKey(160,160,"",Name,false,ActName);
      end else begin
        RlColKey(105,105,"",Name,false,ActName);
      end;
      if (IsEnterprise) then begin
      	if (StandardHansa==false) then begin
        	RlColKey(-250,-250,". ",AlternativeCode,false,ActAlternativeCode);
      	end else begin
        	RlCol(-250,-250,"-",BarCode,false);
      	end;
      end;
      if (HasModIN) then begin
        RlCol(-120,-120,". ",UPrice1,true);
      end else begin
        RlCol(-120,-120,"",UPrice1,true);
      end;
      /*if (HasModIN) then begin
        CalculatedColumn(-100,-100," ","IN1SClassInStock",true);
      end;*/
      if (HasModIN) then begin
      	if(LMb.LocalMachineCode=="RR1" or LMb.LocalMachineCode=="RR2")then begin //Edit by Victor 21.01.15
	        CalculatedColumn(-50,-50,"RAY+NIZ","IN1SClassInStockNIZ",true);// Edit ************************** Friday, 31 October 2014 11:43:05
	      end else begin
	      	if(LMb.LocalMachineCode=="KV1" or LMb.LocalMachineCode=="KV2")then begin //Edit by Victor 21.01.15
		      	CalculatedColumn(-50,-50,"6-KV","IN1SClassInStockKV",true);//Edit by Victor 21.01.15
		      end else begin
	      		if(LMb.LocalMachineCode=="EXPO" )then begin //Edit by Victor 21.01.15
		      		CalculatedColumn(-50,-50,USetStr(31141),"IN1SClassInStockEXPO",true);//Edit by Victor 21.01.15
		      	end;	
					end;
	      end;
      end;
      SearchField("");
      if (HasModIN) then begin
        if (UserCanReport("INInfoRn","",true)) then begin
          SpecialMenu(" ",'I',0,"INStatusINSsm");
        end;
      end;
      if (IsEnterprise) then begin
        SpecialMenu("",'F',1,"INSearchSsm");
        if (StandardHansa==false) then begin
          SpecialMenu("-",'l',2,"AltItemINSsm");
          SpecialMenu(" ",'r',2,"CrossItemINSsm");
        end;
      end;
//  SearchField("Search");
  end;
  EndWindow;
end;

window NPTSCashPaymentTClass:1
  wtag("language","RUS"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer,iPad")
begin
  array boolean achangecrncyf;
  array string 255 acrncy;
  integer acrncnt,i,typ;
  real f,h,h2,h3,h4,hm,l,v,v3,v4,v5,vm,vs,flv,hs;
  WindowBegin(" ",NPTSCashPaymentTClass,CGother,RcType);
  AutoSizeWindow(false);
  DynamicWindow;
  if (GuiType==kGuiiPhone or GuiType==kGuiMetro) then begin
    PopoverWindow;
  end;
  CntPOSCurrencies(acrncy,achangecrncyf,acrncnt);
  if (acrncnt<2) then begin acrncnt = 2; end;
//  Modality(1);
  UseView(RcVc);
  SetWRect(80,200,950,430+acrncnt*30);
//  Sizeable(-1,-1,0,0);
  h = 120; h2 = 170; v=40; vs = 30;
  h = 20; f = 70;
  v = 20;
  switch (GuiType) begin
    case kGuiiPhone: vs = 40; hs = 130; f = 120;
    otherwise
      hs = 110; f = 100;
  end;
  StaticText(h,v,"",false);
  StaticText(h+=70,v,"  ",false);
  StaticText(h+=hs,v,"  ",false);
  StaticText(h+=hs,v,"",false);
  StaticText(h+=hs,v,"",false);
  StaticText(h+=hs,v,"  ",false);
  v = v + 10;
/*
  for (i=0;i<acrncnt;i=i+1) begin
    h = 40;
    StaticText(h,v+14,acrncy[i],false);
//    SoftEditField(h,v,30,"Currency",ViewOnly ,"NPTSCashPaymentCurrency" & i,false,0,M4Str,255);
    SoftEditField(h+=70,v,f,"",ViewOnly ,"NPTSCashPaymentTotalDue" & i,true,0,M4Str,255);
    SoftEditField(h+=90,v,f,"",ViewOnly ,"NPTSCashPaymentCashAmountDue" & i,true,0,M4Str,255);
//    SoftEditField(h+=120,v,f,"",Normal ,"NPTSCashPaymentCashReceived" & i,true,0,M4Str,255);
    SoftEditFieldTLX(h+=100,v,100,"",M4Str,Normal,100,20,patM4black,"NPTSCashPaymentCashReceived" & i,true,0);
    typ = ViewOnly;
    if (achangecrncyf[i]) then begin
      typ = Normal;
    end;
//    SoftEditField(h+500,v,f,"",typ ,"NPTSCashPaymentChangeGiven" & i,true,0,M4Str,255);

    SoftEditFieldTLX(h+=120,v,100,"",M4Str,Normal,100,20,patM4black,"NPTSCashPaymentChangeGiven" & i,true,0);
    SoftEditField(h+=120,v,f,"",ViewOnly ,"NPTSCashPaymentChangeDue" & i,true,0,M4Str,255);
    v = v + vs;
  end;
*/
  acrncnt = 1; //Edit***************************Sasha2,11:39 29.10.2014
  for (i=0;i<acrncnt;i=i+1) begin
    h = 20;
    StaticText(h,v+14,acrncy[i],false);
    SoftEditFieldTLX(h+=70,v,f,"",M4Str,ViewOnly,100,15,patM4black,"NPTSCashPaymentTotalDue" & i,true,0);
    SoftEditFieldTLX(h+=hs,v,f,"",M4Str,ViewOnly,100,15,patM4black,"NPTSCashPaymentCashAmountDue" & i,true,0);
    SoftEditFieldTLX(h+=hs,v,f,"",M4Str,Normal,100,15,patM4black,"NPTSCashPaymentCashReceived" & i,true,0);
    typ = ViewOnly;
    if (achangecrncyf[i]) then begin
      typ = Normal;
    end;
    SoftEditFieldTLX(h+=hs,v,f,"",M4Str,Normal,100,15,patM4black,"NPTSCashPaymentChangeGiven" & i,true,0);
    SoftEditFieldTLX(h+=hs,v,f,"",M4Str,ViewOnly,100,15,patM4black,"NPTSCashPaymentChangeDue" & i,true,0);
    v = v + vs;
    if (HasMultiCurrency==false) then begin
      if (i==0) then begin
        i = acrncnt;
      end;
    end;
  end;
/*
  h = 40;
  EditFieldTL(h,v+=10, 30,"Base",M4Str,ViewOnly,5,CurncyCode,false,0);
  h = h + 70;
  SoftEditField(h+=90,v,f,"",ViewOnly ,"NPTSCashPaymentCashAmountDueTotal",true,0,M4Str,255);
  SoftEditField(h+=100,v,100,"",ViewOnly ,"NPTSCashPaymentCashReceivedTotal",true,0,M4Str,255);
  SoftEditField(h+=120,v,100,"",ViewOnly ,"NPTSCashPaymentChangeGivenTotal",true,0,M4Str,255);
  SoftEditField(h+=120,v,f,"",ViewOnly ,"NPTSCashPaymentChangeDueTotal",true,0,M4Str,255);
*/
  v = v + 10;
  switch (GuiType) begin
    case kGuiiPhone: hm = 480; flv = 50; v4 = 190; v5 = 370; h = 60;
    otherwise
      hm = 680; flv = 30; v4 = -550; v5 = -370; h = 40;
  end;
  if (HasMultiCurrency) then begin
    //EditFieldTL(h,v,flv,"",M4Str,ViewOnly,5,CurncyCode,false,0); //Edit***************************Sasha2,11:39 29.10.2014
  end;
  switch (GuiType) begin
    case kGuiiPhone: h = h + 30;
    otherwise
      h = h + 50;
  end;
  //SoftEditFieldTLX(h+=hs,v,f,"",M4Str,ViewOnly,100,15,patM4black,"NPTSCashPaymentCashAmountDueTotal",true,0); //Edit***************************Sasha2,11:39 29.10.2014
  //SoftEditFieldTLX(h+=hs,v,f,"",M4Str,ViewOnly,100,15,patM4black,"NPTSCashPaymentCashReceivedTotal",true,0); //Edit***************************Sasha2,11:40 29.10.2014
  //SoftEditFieldTLX(h+=hs,v,f,"",M4Str,ViewOnly,100,15,patM4black,"NPTSCashPaymentChangeGivenTotal",true,0); //Edit***************************Sasha2,11:40 29.10.2014
  //SoftEditFieldTLX(h+=hs,v,f,"",M4Str,ViewOnly,100,15,patM4black,"NPTSCashPaymentChangeDueTotal",true,0); //Edit***************************Sasha2,11:40 29.10.2014

  v = 10; h2 = 55; v3 = 48; vs = 52;

  if (GuiType==kGuiiPhone) then begin
    ColourPushButton(v4,v+4*vs,v4+3*h2,v+4*vs+v3,"CancelNPTSCashPaymentTClass","",20);
    ColourPushButton(v5,v+4*vs,v5+3*h2,v+4*vs+v3,"ProceedNPTSCashPaymentTClass","",20);
  end else begin
    ColourPushButton(v4,v+4*vs,v4+3*h2,v+4*vs+v3,"CancelNPTSCashPaymentTClass","<BR>F2",20);
    ColourPushButton(v5,v+4*vs,v5+3*h2,v+4*vs+v3,"ProceedNPTSCashPaymentTClass","<BR>F1",20);
  end;

  h3 = 210; h4 = 400; vm = -160; l = 57;
  switch (GuiType) begin
    case kGuiiPhone: v = v+4*vs;
    otherwise
      v = 10;
  end;
  if ((GuiType!=kGuiiPhone)) then begin
    h = hm-2; ColourPushButton(h,v,h+h2,v+v3,"NPTSPaymentToolKeyPad1","1_",2);
    h = h+l; ColourPushButton(h,v,h+h2,v+v3,"NPTSPaymentToolKeyPad2","2_",2);
    h = h+l; ColourPushButton(h,v,h+h2,v+v3,"NPTSPaymentToolKeyPad3","3_",2);
    v = v+vs;
    h = hm-2; ColourPushButton(h,v,h+h2,v+v3,"NPTSPaymentToolKeyPad4","4_",2);
    h = h+l; ColourPushButton(h,v,h+h2,v+v3,"NPTSPaymentToolKeyPad5","5_",2);
    h = h+l; ColourPushButton(h,v,h+h2,v+v3,"NPTSPaymentToolKeyPad6","6_",2);
    v = v+vs;
    h = hm-2; ColourPushButton(h,v,h+h2,v+v3,"NPTSPaymentToolKeyPad7","7_",2);
    h = h+l; ColourPushButton(h,v,h+h2,v+v3,"NPTSPaymentToolKeyPad8","8_",2);
    h = h+l; ColourPushButton(h,v,h+h2,v+v3,"NPTSPaymentToolKeyPad9","9_",2);
    v = v+vs;
    h = hm-2; ColourPushButton(h,v,h+h2,v+v3,"NPTSPaymentToolKeyDel","Del",2);
    h = h+l; ColourPushButton(h,v,h+h2,v+v3,"NPTSPaymentToolKeyPad0","0_",2);
    h = h+l; ColourPushButton(h,v,h+h2,v+v3,"IVDClassToolKeyPadPoint",".",2);
    v = v+vs;
    h = hm; ColourPushButton(h,v,h+3*h2,v+v3,"NPTSPaymentToolKeyEnter","Enter",2);
  end;
  EndWindow;
end;

window MyAccountTClass:1
  wtag("language","RUS"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer")
begin
  real h,h2,h3,h4,h5,h6,v,vs;
  WindowBegin("  ",MyAccountTClass,CGSbl,-);
  SetBlid(MyAccountBlock);
  SetWRect(20,80,660,360);
  h = 160; v = 16; vs = 20; h2 = 350; h3 = 10; h4 = 180; h5 = 400; h6 = 500;
  Tile(0,80,false,"",Active);
  CheckBox(h,v,0,"My Account Activated",Active);
  CheckBox(h,v+=16,0,"Template elements override built-in headings",OverrideHeadings);
  TileButton(1,"Registration");
  TileButton(2,"Orders");
  TileButton(3,"Invoices");
  TileButton(4,"Contact Details");
  TileButton(5,"Delivery Address");
  TileButton(6,"Change Password");
  Tile(1,50,true,"1",RegUniqueName);
  ButtonFrame(h3,v=20,150,4,"Unique Fields");
  CheckBox(h3,v,0,"Name",RegUniqueName);
  CheckBox(h3,v+=16,0,"E-mail",RegUniqueeMail);
  CheckBox(h3,v+=16,0,"Phone",RegUniquePhone); //Edit***************************Sasha2,12:13 07.11.2014
  CheckBox(h3,v+=16,0,"#Reg. No.# 1",RegUniqueRegNr1);
  CheckBox(h3,v+=16,0,"#VAT Reg. No.#",RegUniqueVATNr);
  ButtonFrame(h4,v=20,180,7,"Default Values");
  EditField(h4+120,v+=5,50,"Customer Category",Normal,RegDefCustCat,false,CCatSClass);
  CheckBox(h4+10,v+=25,0,"Allow Login",RegDefAllowLogin);
  ButtonFrame(h4+10,v+=40,100,2,"Type");
  RadioButton(h4+10,v,0,0,"",RegDefCustType);
  RadioButton(h4+10,v+=16,1,0,"Person",RegDefCustType);
  EditField(h6,v=6,120,"Template Page",Normal,RegPage,false,WebNGPageSClass);
  EditField(h6,v+=vs,120,"Template Element",Normal,RegElement,false,WebNGElementSClass);
  CheckBox(h5,v+=30,0,"Show Login after registration",RegShowLogin);
  Tile(2,30,true,"2",OrderPage);
  CheckBox(h3,v=6,0,"Include Orders",OrderActive);
  EditField(h6,v,120,"Template Page",Normal,OrderPage,false,WebNGPageSClass);
  EditField(h6,v+=vs,120,"Template Element",Normal,OrderElement,false,WebNGElementSClass);
  ButtonFrame(h,v+=40,300,5,"Show");
  CheckBox(h,v,0,"All Outstanding Orders",OrderAllOutst);
  EditField(h2,v+=30,60,"Order Class",Normal,OrderClass,false,OrderClassSClass);
  EditField(h2,v+=vs,60,"Number of Last Completed Orders",Normal,OrderCount,false,0);
  Tile(3,30,true,"3",InvoicePage);
  CheckBox(h3,v=6,0,"Include Invoices",InvoiceActive);
  EditField(h6,v,120,"Template Page",Normal,InvoicePage,false,WebNGPageSClass);
  EditField(h6,v+=vs,120,"Template Element",Normal,InvoiceElement,false,WebNGElementSClass);
  ButtonFrame(h,v+=40,300,5,"Show");
  CheckBox(h,v,0,"All Outstanding Invoices",InvoiceAllOutst);
  CheckBox(h,v+=16,0,"Allow Paying Invoices",InvoiceAllowPay);
  EditField(h2,v+=30,60,"Number of Last Paid Invoices",Normal,InvoiceCount,false,0);
  Tile(4,30,true,"4",DetailsPage);
  CheckBox(h3,v=6,0,"Include Contact Details",DetailsActive);
  EditField(h6,v,120,"Template Page",Normal,DetailsPage,false,WebNGPageSClass);
  EditField(h6,v+=vs,120,"Template Element",Normal,DetailsElement,false,WebNGElementSClass);
  Tile(5,30,true,"5",DelAddrPage);
  CheckBox(h3,v=6,0,"Include Delivery Address",DelAddrActive);
  EditField(h6,v,120,"Template Page",Normal,DelAddrPage,false,WebNGPageSClass);
  EditField(h6,v+=vs,120,"Template Element",Normal,DelAddrElement,false,WebNGElementSClass);
  Tile(6,30,true,"6",PasswordPage);
  CheckBox(h3,v=6,0,"Include Change Password",PasswordActive);
  EditField(h6,v,120,"Template Page",Normal,PasswordPage,false,WebNGPageSClass);
  EditField(h6,v+=vs,120,"Template Element",Normal,PasswordElement,false,WebNGElementSClass);
  EndWindow;
end;

window AmendLineNPTSSClass:1
  wtag("language","RUS"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer,iPad")
begin
  real h,h2,h3,h4,hm,l,v,v3,vm,vs,v4,v5,v6;
  Integer wn,mwn;
  Boolean testf;

  wn = CurWindow;
  if (wn>0) then begin
    mwn = MotherWindow(wn);
  end;
  WindowBegin(" ",AmendLineNPTSSClass,CGother,RcType);
//  Modality(kModalityGlobal);
  UseView(RcVc);
  SetWRect(80,200,700,520);
  switch (GuiType) begin
    case kGuiiPhone: PopoverWindow; vs = 40; v4 = -480 ; v5 = -310; v6 = -120;
    otherwise
      vs = 20; v4 = -580 ; v5 = -410; v6 = -60;
  end;

  if (UserCanAction("ChangingCostOnInvoiceRow",false)) then begin
 	EditFieldTL(h=100,v=6,70,"",M4UStr,ViewOnly,20,AccStr,false,0);
	EditFieldTL(h,v+=vs,-20,".",M4Str,Normal,255,f1,false,0);
	EditFieldTL(h,v+=vs,70,"-",M423Val,Normal,0,vals0,true,0);
	EditFieldTL(h,v+=vs,70,"",M4Val,Normal,0,vals1,true,0);
	EditFieldTL(h,v+=vs,70,"",M41Val,Normal,0,vals2,true,0);
	EditFieldTL(h,v+=vs,70,"",M4Val,Normal,0,vals3,true,0);
	EditFieldTL(h,v+=vs,70,"",M4Code,Normal,10,f2,false,VATCodeSClass);
  end else begin  //Edit***************************Sasha2,14:29 07.11.2014 {
  	EditFieldTL(h=100,v=6,70,"",M4UStr,ViewOnly,20,AccStr,false,0);
		EditFieldTL(h,v+=vs,-20,".",M4Str,ViewOnly,255,f1,false,0);
		EditFieldTL(h,v+=vs,70,"-",M423Val,Normal,0,vals0,true,0);
		EditFieldTL(h,v+=vs,70,"",M4Val,Normal,0,vals1,true,0);
		EditFieldTL(h,v+=vs,70,"",M41Val,Normal,0,vals2,true,0);
		EditFieldTL(h,v+=vs,70,"",M4Val,Normal,0,vals3,true,0);
	EditFieldTL(h,v+=vs,70,"",M4Code,ViewOnly,10,f2,false,VATCodeSClass);
  end; //Edit***************************Sasha2,14:29 07.11.2014 }


  testf = false;
  if (mwn>0) then begin
    switch (GetWindowClass(mwn)) begin
      case "IVDClass":
    EditFieldTL(h,v+=vs,70,"",M4Code,Normal,10,f3,false,LocationSClass);
      case "RestAccDClass":
        EditFieldTL(h,v+=vs,70,"",M4Str,Normal,255,f11,false,MealCourseSClass);
        EditFieldTL(h,v+=vs,70,"  ",M4Str,Normal,255,f12,false,0);
    end;
  end;

  v = -385; h2 = 55; v3 = 48; vs = 52;
  if (GuiType==kGuiiPhone) then begin
    ColourPushButton(v4,v6,v4+3*h2,v6+v3,"CancelAndOverrideLogout","",20);
    ColourPushButton(v5,v6,v5+3*h2,v6+v3,"ProceedAmendLineNPTSSClass","",20);
  end else begin
    ColourPushButton(v4,v6,v4+3*h2,v6+v3,"CancelAndOverrideLogout","<BR>F2",20);
    ColourPushButton(v5,v6,v5+3*h2,v6+v3,"ProceedAmendLineNPTSSClass","<BR>F1",20);
  end;

//  ColourPushButton(h=10,v=-50,h+100,v+40,"CancelAndOverrideLogout","Cancel<BR>F2",20);
//  ColourPushButton(h+=120,v,h+100,v+40,"ProceedAmendLineNPTSSClass","Proceed<BR>F1",20);
//  ColourPushButton(h+=120,v,h+100,v+40,"CashPayTouchScreenKeypad","Keypad<BR>F3",2);

  if (GuiType!=kGuiiPhone) then begin
    hm = 383;

    h2 = 80; v3 = 33; vs = 37; h3 = 210; h4 = 400;

    vm = -160; vs = 52; h2 = 55; v3 = 48; l = 57;
    v = v + 117+vs;
    h = hm-2; ColourPushButton(h,v,h+h2,v+v3,"NPTSPaymentToolKeyPad1","1_",2);
    h = h+l; ColourPushButton(h,v,h+h2,v+v3,"NPTSPaymentToolKeyPad2","2_",2);
    h = h+l; ColourPushButton(h,v,h+h2,v+v3,"NPTSPaymentToolKeyPad3","3_",2);
    h = h+l+10; ColourPushButton(h,v,h+h2,v+v3,"NPTSPaymentToolKeyDel","Del",2);
    v = v+vs;
    h = hm-2; ColourPushButton(h,v,h+h2,v+v3,"NPTSPaymentToolKeyPad4","4_",2);
    h = h+l; ColourPushButton(h,v,h+h2,v+v3,"NPTSPaymentToolKeyPad5","5_",2);
    h = h+l; ColourPushButton(h,v,h+h2,v+v3,"NPTSPaymentToolKeyPad6","6_",2);
    h = h+l+10; ColourPushButton(h,v,h+h2,v+3*v3+8,"NPTSPaymentToolKeyEnter","OK",2);
    v = v+vs;
    h = hm-2; ColourPushButton(h,v,h+h2,v+v3,"NPTSPaymentToolKeyPad7","7_",2);
    h = h+l; ColourPushButton(h,v,h+h2,v+v3,"NPTSPaymentToolKeyPad8","8_",2);
    h = h+l; ColourPushButton(h,v,h+h2,v+v3,"NPTSPaymentToolKeyPad9","9_",2);
    v = v+vs;
    h = hm-2; ColourPushButton(h,v,h+h2,v+v3,"NPTSPaymentToolKeyPM","+/-",2);
    h = h+l; ColourPushButton(h,v,h+h2,v+v3,"NPTSPaymentToolKeyPad0","0_",2);
    h = h+l; ColourPushButton(h,v,h+h2,v+v3,"IVDClassToolKeyPadPoint",".",2);
  end;

/*
  EditFieldTL(h,v+=300,70,"Price Factor",M4Val,ViewOnly,0,vals4,true,0);
  SoftEditField(h,v+=20,70,"Base Price",ViewOnly ,"BasePrice",false,0,M4Str,255);

  EditFieldTL(h,v+=20,70,"Currncy",M4UStr,ViewOnly,5,CurncyCode,true,0);
  EditFieldTL(h,v+=20,70,"Pay Mode",M4UStr,ViewOnly,10,FirstAcc,true,0);
*/
  EndWindow;
end;

window ORLClass:3
//   .
//     ORLClassGeneral
//Edit----------------------Dima  26.08.2015
  wtag("language","RUS"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer")
begin
  Integer pos,rn;
  real h,v;

  WindowBegin("  ( )",ORLClass,CGmlist,-);
  SpawnClass(ORDClass);
  SetWRect(20,80,1060,500); //Edit***************************Sasha2,14:12 08.01.2015
  Sizeable(-1,-1,0,0);
  UseView(ORVc);

  FormName(PrintORL);
  h = 50; v = 5;
  HalPushButton(h,v,h+100,v+12,"OpenAllOrdersORVc"," ");//Edit----------------------Dima  26.08.2015
	HalPushButton(h+=120,v,h+100,v+12,"OpenORStatusNew","");
	HalPushButton(h+=120,v,h+100,v+12,"OpenORStatusOpen","");
	HalPushButton(h+=120,v,h+100,v+12,"OpenORStatusConfirm","");
	HalPushButton(h+=120,v,h+100,v+12,"OpenORStatusNotCall"," ");
	HalPushButton(h+=120,v,h+100,v+12,"OpenORStatusChanged","");
	HalPushButton(h+=120,v,h+100,v+12,"OpenORStatusWaitItems"," -");
	HalPushButton(h+=120,v,h+100,v+12,"OpenORStatusNotEnoughItems",". -");
	v=v+28; h = 50;
	HalPushButton(h+=120,v,h+100,v+12,"OpenORStatusWaitPay"," ");
	HalPushButton(h+=120,v,h+100,v+12,"OpenORStatusAssembly"," ");
	HalPushButton(h+=120,v,h+100,v+12,"OpenORStatusAssembled","");
	HalPushButton(h+=120,v,h+100,v+12,"OpenORStatusSent","");
	HalPushButton(h+=120,v,h+100,v+12,"OpenORStatusDelivered","");
	HalPushButton(h+=120,v,h+100,v+12,"OpenORStatusFinished","");
	HalPushButton(h+=120,v,h+100,v+12,"OpenORStatusCanceled","");


  RecordList(4,80,-21,-39);//Edit----------------------Dima  26.08.2015
  RlColKey(4,4,".",SerNr,false,ActShipSerNr);//Edit----------------------Dima  26.08.2015
  RlColKey(79,79,"",OKFlag,false,ActShipOKFlag);
  pos = 111;
  if (HasModIN) then begin
    RlCol(pos,pos,"",ShipMark,false);
    pos = pos + 32;
  end;
  if (HasModSL) then begin
    RlColKey(pos,pos,"",InvMark,false,ActShipInvFlag);
    pos = pos + 32;
  end;
  RlCol(pos,pos,"",Closed,false);
  pos = pos + 32;
  RlColKey(pos,pos," ",OrdDate,false,ActShipOrdDate);
  pos = pos + 80;
  if (HasMultiLocations) then begin
    RlCol   (pos,pos,"",Location,false);
    pos = pos + 60;
  end;
  RlColKey(pos,pos,"  ",CustOrdNr,false,ActShipCustOrdNr);
  pos = pos + 80;
  RlColKey(pos,pos,"",CustCode,false,ActShipCustCode);
  pos = pos + 60;
  RlColKey(pos,pos,".",Addr0,false,ActShipName);
  pos = pos + 130; //Edit***************************Sasha2,13:45 08.01.2015
  //RlColKey(pos,pos,"..",OfficialSerNr,false,OfficialSerNr); //Edit***************************Sasha2,13:45 08.01.2015
  RlCol(pos,pos,"..",OfficialSerNr,false);// Edit ************************** Thursday, 14 May 2015 23:15:45
  pos = pos + 80;
  RlColKey(pos,pos,"",LastShipDate,false,ActLastShipDate);//Edit----------------------Dima  31.08.2015
  if (IsEnterprise) then begin
    RlColKey(-260,-260,"",OrderClass,false,ActShipOrderClass);
    RlColKey(-210,-210,"",Sum4,true,ActShipSum4);
    RlCol(-135,-135,"",DownPaySent,true);
  end else begin
    RlColKey(-115,-115,"",Sum4,true,ActShipSum4);
  end;
  RlColKey(-60,-60,"",CustomStatusFlagText,true,ActShipCustomStatusFlagText);
  //RlCol(-60,-60,"",CustomStatusFlagText,true);
  if (HasLimitedAccess) then begin
    BrowseSubsetButton(-40,-15);
  end;
  SearchField("");
  if (GuiType==kGuiMetro) then begin
    rn = 0;
    RowMenuBegin("");
    if (HasModIN) then begin
      RowMenuItem(rn," ",'L','L',4300,"SHFromORLsm"); rn = rn + 1;
    end;
    RowMenuItem(rn," -",'L','L',4300,"IVFromORLsm"); rn = rn + 1;
    if (IsEnterprise) then begin
      RowMenuItem(rn," -  ",'o','o',4300,"DownPayFromORLsm"); rn = rn + 1;
    end;
    RowMenuItem(rn," ",'r','r',4300,"ORStatusORLsm"); rn = rn + 1;
    if (HasModPO) then begin
      RowMenuItem(rn,"  ",' ',' ',4300,"POFromORLsm"); rn = rn + 1;
    end;
    if (HasModCRM) then begin
      RowMenuItem(rn," ",'c','c',4300,"ActFromORLsm"); rn = rn + 1;
    end;
    if (IsEnterprise) then begin
      RowMenuItem(rn,"   ",' ',' ',4300,"ORToInvORLsm"); rn = rn + 1;
    end;
    EndRowMenu;
  end else begin
    if (HasModIN) then begin
      SpecialMenu(" ",'L',0,"SHFromORLsm");
    end;
    SpecialMenu(" ",'F',1,"IVFromORLsm");
    if (IsEnterprise) then begin
      SpecialMenu(" -  ",'o',2,"DownPayFromORLsm");
    end;
    SpecialMenu(" ",'r',3,"ORStatusORLsm");
    if (HasModPO) then begin
      SpecialMenu("  ",' ',4,"POFromORLsm");
    end;
    if (HasModCRM) then begin
      SpecialMenu(" ",'c',5,"ActFromORLsm");
    end;
    if (IsEnterprise) then begin
      SpecialMenu("   ",' ',6,"ORToInvORLsm");
    end;
  end;
  EndWindow;
end;



window ORLClassGeneral:3	//Edit----------------------Dima  26.08.2015
// ORLClass.       

  wtag("language","RUS"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer")
begin
  Integer pos,rn;

  WindowBegin(" ",ORLClassGeneral,CGmlist,-);
  DynamicWindow;
  SpawnClass(ORDClass);
  SetWRect(20,80,1100,500); //Edit***************************Sasha2,14:12 08.01.2015
  Sizeable(-1,-1,0,0);
  UseView(ORVc);
  FormName(PrintORL);

  RecordList(4,4,-21,-39);//Edit----------------------Dima  26.08.2015
  RlColKey(4,4,".",SerNr,false,SerNrSubSets);//Edit----------------------Dima  26.08.2015
  RlColKey(79,79,"",OKFlag,false,OKFlag);
  pos = 111;
  if (HasModIN) then begin
    RlColKey(pos,pos,"",ShipMark,false,ShipFlag);
    pos = pos + 32;
  end;
  if (HasModSL) then begin
    RlColKey(pos,pos,"",InvMark,false,InvFlag);
    pos = pos + 32;
  end;
  RlCol(pos,pos,"",Closed,false);
  pos = pos + 32;
  RlColKey(pos,pos," ",OrdDate,false,OrdDate);
  pos = pos + 80;
  if (HasMultiLocations) then begin
    RlCol   (pos,pos,"",Location,false);
    pos = pos + 60;
  end;
  RlColKey(pos,pos,"  ",CustOrdNr,false,CustOrdNr);
  pos = pos + 80;
  RlColKey(pos,pos,"",CustCode,false,CustCode);
  pos = pos + 60;
  RlColKey(pos,pos,".",Addr0,false,Name);
  pos = pos + 130; //Edit***************************Sasha2,13:45 08.01.2015
  //RlColKey(pos,pos,"..",OfficialSerNr,false,OfficialSerNr); //Edit***************************Sasha2,13:45 08.01.2015
  RlCol(pos,pos,"..",OfficialSerNr,false);// Edit ************************** Thursday, 14 May 2015 23:15:45
  pos = pos + 80;
  RlColKey(pos,pos,"",LastShipDate,false,LastShipDate);//Edit----------------------Dima  31.08.2015
  if (IsEnterprise) then begin
    RlColKey(-260,-260,"",OrderClass,false,OrderClass);
    RlColKey(-210,-210,"",Sum4,true,Sum4);
    RlCol(-135,-135,"",DownPaySent,true);
  end else begin
    RlColKey(-115,-115,"",Sum4,true,Sum4);
  end;
  RlColKey(-60,-60,"",CustomStatusFlagText,true,CustomStatusFlagText);//   ????
  //RlCol(-60,-60,"",CustomStatusFlagText,true);
  if (HasLimitedAccess) then begin
    BrowseSubsetButton(-40,-15);
  end;
  SearchField("");
  if (GuiType==kGuiMetro) then begin
    rn = 0;
    RowMenuBegin("");
    if (HasModIN) then begin
      RowMenuItem(rn," ",'L','L',4300,"SHFromORLsm"); rn = rn + 1;
    end;
    RowMenuItem(rn," -",'L','L',4300,"IVFromORLsm"); rn = rn + 1;
    if (IsEnterprise) then begin
      RowMenuItem(rn," -  ",'o','o',4300,"DownPayFromORLsm"); rn = rn + 1;
    end;
    RowMenuItem(rn," ",'r','r',4300,"ORStatusORLsm"); rn = rn + 1;
    if (HasModPO) then begin
      RowMenuItem(rn,"  ",' ',' ',4300,"POFromORLsm"); rn = rn + 1;
    end;
    if (HasModCRM) then begin
      RowMenuItem(rn," ",'c','c',4300,"ActFromORLsm"); rn = rn + 1;
    end;
    if (IsEnterprise) then begin
      RowMenuItem(rn,"   ",' ',' ',4300,"ORToInvORLsm"); rn = rn + 1;
    end;
    EndRowMenu;
  end else begin
    if (HasModIN) then begin
      SpecialMenu(" ",'L',0,"SHFromORLsm");
    end;
    SpecialMenu(" ",'F',1,"IVFromORLsm");
    if (IsEnterprise) then begin
      SpecialMenu(" -  ",'o',2,"DownPayFromORLsm");
    end;
    SpecialMenu(" ",'r',3,"ORStatusORLsm");
    if (HasModPO) then begin
      SpecialMenu("  ",' ',4,"POFromORLsm");
    end;
    if (HasModCRM) then begin
      SpecialMenu(" ",'c',5,"ActFromORLsm");
    end;
    if (IsEnterprise) then begin
      SpecialMenu("   ",' ',6,"ORToInvORLsm");
    end;
  end;
  EndWindow;
end;


window ORDClass:2
  wtag("language","RUS"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer")
begin
  real h,h1,h2,h3,h4,t,v,vm,vs,h5,v1,v2,v3,flipnr,width;
  record LogisticsBlock Logisticsb;
  string 255 label;  
  integer editability;
  
  WindowBegin(" ",ORDClass,CGview,-);
  BlockLoad(Logisticsb);//Edit----------------------Dima  25.01.2016
  SetWRect(20,80,900,460);
  Sizeable(-1,-1,0,0);
  UseView(ORVc);
  ActiveFieldOnNew("CustCode");
  CommunicateButton;
  Tile(0,74,false,"",CustCode);
  EditField(75,vm=(v=6),95,"",Normal,SerNr,false,TSerSClass);
  EditField(75,v+=20,95,"-",Normal,CustCode,false,CUSClass);
  EnterSkip(PayDeal);
  EditField(h=255,v=vm,-40,".",Normal,Addr0,false,0);
	EditField(500,vm+20,50,".  .",Normal,OptUAHRate,false,0);
  if (StandardHansa==false) then begin
    EditField(h,vm=(v+=20),135,". ",Normal,OfficialSerNr,false,LegalInvNrSClass);
    CheckBox(h4=-60,v,0,"OK",OKFlag);
  end else begin
    CheckBox(h4=-60,vm=(v+=20),0,"OK",OKFlag);   // From dict
  end;
  CheckBox(h4=-60,vm + 15,0,"Closed",Closed); //Edit***************************Sasha2,15:05 14.07.2014
  CheckBox(h4=-150,vm,0,"Reserved",Reserved); //Edit***************************Sasha2,15:05 14.07.2014
// CheckBox(h+120,vm,0,"Closed",Closed);
// CheckBox(h+240,vm,0,"Reserved",Reserved);
  TileButton(1,"");
  TileButton(2,"");
  TileButton(3,"");
  TileButton(4,"");
  TileButton(5,"-");
  TileButton(6,". ");
  TileButton(7," .");
  TileButton(8," ");
  TileButton(9,".  ."); //Edit***************************Sasha2,10:29 17.08.2015
  Tile(1,110,false,"1",OrdDate);
  vs = 22; h1 = 110; h2 = 290; h3 = 530; h4 = -115;
  EditField(h1,vm=(v=6),82,"",Normal,OrdDate,false,PasteCurDate);
  EditField(h1,v+=vs,25," ",Normal,PayDeal,false,PDSClass);
  EditField(h1,v+=vs,82,". ",Normal,PlanShip,false,PasteCurDate);
  EditField(h1,v+=vs,82," ",Normal,DespatchDate,false,PasteCurDate);
  EditField(h1,v+=vs,82," ",Normal,DespatchTime,false,PasteCurTime);
  EditField(h1,v+=vs,82," -",Normal,ReservToDate,false,PasteCurDate); //Edit***************************Sasha2,14:50 14.08.2015
  EditField(h2,v=vm,135,"",Normal,OurContact,false,0);
  EditField(h2,v+=vs,135,"",Normal,CustContact,false,ContactSClass);
  EditField(h2,v+=vs,135,"",Normal,Objects,false,ObjSClass);
  EditField(h2,v+=vs,135,"",Normal,RefStr,false,0);
  EditField(h2,v+=vs,135,"  .",Normal,CustOrdNr,false,0);
  EditField(h2,v+=vs,135," ",Normal,LastShipDate,false,0);//Edit----------------------Dima  31.08.2015
  EditField(h3 - 30,v=vm,80,"",Normal,SalesMan,false,UserSClass); //Edit***************************Sasha2,11:37 14.07.2014
  if (StandardHansa==false) then begin
    EditField(h3 - 30,v+=vs,80,"",Normal,PRCode,false,PRSClass); //Edit***************************Sasha2,11:37 14.07.2014
  end;
  EditField(h3 - 30,v+=vs,80," ",Normal,OrderClass,false,OrderClassSClass); //Edit***************************Sasha2,11:37 14.07.2014
  if (StandardHansa==false) then begin
    EditField(h3 - 30,v+=vs,80," ",Normal,OrderType,false,SetSClass); //Edit***************************Sasha2,11:37 14.07.2014
    EditField(h3 - 30,v+=vs,80,"",Normal,ORCONr,false,ORCOSClass); //Edit***************************Sasha2,11:37 14.07.2014
  end;
	CheckBox(h3 - 30,v+=30,0,"",SelfDelivery);	//Edit----------------------Dima  16.09.2015
	
  
  ButtonFrame(h4-150,v=20,255,8,""); //Edit***************************Sasha2,14:34 14.07.2014 {
  RadioButton(h4-150,v=25,0,0,"",CustomStatusFlag);
  RadioButton(h4-150,v+=16,1,0,"",CustomStatusFlag);
  RadioButton(h4-150,v+=16,2,0,"",CustomStatusFlag);
  RadioButton(h4-150,v+=16,3,0," ",CustomStatusFlag);
  RadioButton(h4-150,v+=16,4,0," ",CustomStatusFlag);
  RadioButton(h4-150,v+=16,12,0,"  ",CustomStatusFlag);
  RadioButton(h4-150,v+=16,13,0,"  -",CustomStatusFlag);
  RadioButton(h4-5,v=25,11,0,"  .",CustomStatusFlag);
  RadioButton(h4-5,v+=16,5,0," ",CustomStatusFlag);
  RadioButton(h4-5,v+=16,6,0,"",CustomStatusFlag);
  RadioButton(h4-5,v+=16,7,0,"",CustomStatusFlag);
  RadioButton(h4-5,v+=16,8,0,"",CustomStatusFlag);
  RadioButton(h4-5,v+=16,9,0,"",CustomStatusFlag);		//Edit----------------------Dima  01.09.2015
  RadioButton(h4-5,v+=16,10,0,"",CustomStatusFlag); //Edit***************************Sasha2,14:34 14.07.2014 }  

  //CheckBox(h4,v=6,0,"",Closed); //Edit***************************Sasha2,11:28 14.07.2014
  //CheckBox(h4,v+=16,0,".",Reserved); //Edit***************************Sasha2,11:28 14.07.2014
  EnterSkip(Math);
  Tile(2,220,true,"2",Math);
//  CheckBox(20,-20,0,"OK",OKFlag);
	v1 = -20;	//Edit----------------------Dima 29.01.2015
	v2 = -40;
	v3 = -60;
  EditField(55,v3,50,"",Normal,CurncyCode,false,CurncyCodeSClass);
  if (UseTaxTemplatesforTaxCalc==false) then begin
    if (UserCanAction("ViewCostPrice",true)) then begin //Edit***************************Sasha2,10:38 10.11.2014
      EditField(160,v3,70,".%",Normal,GPProc,true,0);
      EditField(160,v2,70," ",ViewOnly,TotGP,true,0);
    end;
    EditField(290,v3,70,"",ViewOnly,TAX2Sum,true,0);
    EditField(290,v2,70,".",ViewOnly,TAX1Sum,true,0);
    EditField(410,v3,100,"",ViewOnly ,Sum3,true,0);
  end else begin
    if (UserCanAction("ViewCostPrice",true)) then begin //Edit***************************Sasha2,10:38 10.11.2014
      EditField(290,v3,70,".%",Normal,GPProc,true,0);
      EditField(290,v2,70," ",ViewOnly,TotGP,true,0);
    end;
    EditField(410,v3,100,"",ViewOnly ,Sum3,true,0);
  end;
  EditField(410,v2,100,"",ViewOnly,BaseSum4,true,0);
  EditField(-150,v3,100,"",ViewOnly ,Sum1,true,0);
  EditField(-150,v2,100,"",ViewOnly ,Sum4,true,0);
  EditField(-150,v1,100,"   ",ViewOnly ,BaseSum4,true,0);//Edit----------------------Dima 29.01.2015
  v = 24;
  MatrixBegin(3,v,-50,-69,-,999);	//Edit----------------------Dima 29.01.2015// Edit ************************** Thursday, 25 June 2015 17:20:43
  MatTypedRow(stp);
  flipnr = 0;
  Flip(flipnr); flipnr = flipnr + 1;
  MatText(t=9,32,"",true);
  MatCol(t,100,"",0,Spec,false,0);
  MatColTL(t,-80,"",0,-1,ViewOnly,0,Sum,true,0);
  MatText(t=17,32,"",true);
  MatCol(t,100,"",0,Spec,false,0);
  MatCol(t=1,32,"",0,ArtCode,false,ForSaleINSClass);
//  MatCol(t,94,"Var",0,VARList,true,VARSClass);
//  MatCol(t,144,"Qty",0,Quant,true,0);
  t = 1;
/*  //Edit----------------------Dima  23.09.2015
  if (HasVarieties) then begin
    MatCol(t,94,"-",0,Quant,true,MATVARINSClass);
  end else begin
    MatCol(t,94,"-",0,Quant,true,0);
  end;
*/
  EnterSkip(ArtCode);
  MatCol(t=kInvoiceRowTypeStructuredItemComponent,32,"",0,ArtCode,false,ForSaleINSClass);
//  MatCol(t,94,"Var",0,VARList,true,VARSClass);
//  MatCol(t,144,"Qty",0,Quant,true,0);
  if (HasVarieties) then begin
    MatCol(t,94,"-",0,Quant,true,MATVARINSClass);
  end else begin
    MatCol(t,94,"-",0,Quant,true,0);
  end;
  EnterSkip(ArtCode);
  MatText(t=10,32,"      ",false);
  MatText(t=kInvoiceRowTypePerceptionTax,32," ",true);
  MatCol(t,132,"",0,Region,false,0);
  MatCol(t,252,"",0,TAX2Prc,true,0);
  MatCol(t,292,"",0,Sum,true,0);
  MatCol(t,372,"",0,SalesAcc,false,0);
  MatCol(t,452,"",0,Spec,false,0);
  Flip(flipnr); flipnr = flipnr + 1;
//  MatCol(t=1,194,"Description",0,Spec,false,0);
  t = 1;
  MatCol(t,95,"",0,NecessaryQuant,true,0);
  MatCol(t,155,"-",0,Quant,true,0);
  MatCol(t,215,"",0,AvailableQuant,true,0);
  MatCol(t,275,"",0,Spec,false,0);
  MatCol(t,-205,"",0,Price,true,PLSClass);
  MatCol(t,-125,"%",0,vRebate,true,0);
  MatCol(t,-90,"",0,Sum,true,0);
  MatCol(t=kInvoiceRowTypeStructuredItemComponent,144,"",0,Spec,false,0);
  MatCol(t,-235,"",0,Price,true,PLSClass);
  MatCol(t,-135,"%",0,vRebate,true,0);
  MatCol(t,-100,"",0,Sum,true,0);
  Flip(flipnr); flipnr = flipnr + 1;
  t = 1;
  MatCol(t,94,"-",0,Quant,true,0);
  MatCol(t,144,"",0,Spec,false,0);
  if (UseTaxTemplatesforTaxCalc) then begin
    MatCol(t,-284,"  ",0,CustArtCode,false,CUINSClass);
    MatCol(t,-224,"",0,SalesAcc,false,AccSClass);
    MatCol(t,-164,"",0,Objects,false,ObjSClass);
    MatCol(t,-70,"-",0,TaxTemplateCode,false,TaxTemplateSClass);
  end else begin
    MatCol(t,-264,"  ",0,CustArtCode,false,CUINSClass);
    MatCol(t,-184,"",0,SalesAcc,false,AccSClass);
    MatCol(t,-124,"",0,Objects,false,ObjSClass);
    MatCol(t,-30,"",0,VATCode,false,VATCodeSClass);
  end;
  MatCol(t=kInvoiceRowTypeStructuredItemComponent,144,"",0,Spec,false,0);
  if (UseTaxTemplatesforTaxCalc) then begin
    MatCol(t,-284,"  ",0,CustArtCode,false,CUINSClass);
    MatCol(t,-224,"",0,SalesAcc,false,AccSClass);
    MatCol(t,-164,"",0,Objects,false,ObjSClass);
    MatCol(t,-70,"-",0,TaxTemplateCode,false,TaxTemplateSClass);
  end else begin
    MatCol(t,-264,"  ",0,CustArtCode,false,CUINSClass);
    MatCol(t,-184,"",0,SalesAcc,false,AccSClass);
    MatCol(t,-124,"",0,Objects,false,ObjSClass);
    MatCol(t,-30,"",0,VATCode,false,VATCodeSClass);
  end;
  Flip(flipnr); flipnr = flipnr + 1;
  t = 1;
  MatCol(t,94,"-",0,Quant,true,0);
  MatCol(t,144,"",0,Spec,false,0);
  MatCol(t,344," ",0,OrderType,false,SetSClass);
  if (UserCanAction("ViewCostPrice",true)) then begin //Edit***************************Sasha2,10:07 10.11.2014
    MatCol(t,-245,"",0,Price,true,PLSClass);
    MatCol(t,-175,"%",0,vRebate,true,0);
    MatCol(t,-140,"",0,BasePrice,true,0);
    MatCol(t,-70,"",0,rowGP,true,0);
  end else begin
    MatCol(t,-235,"  .",0,Price,true,PLSClass);
    MatCol(t,-135,"%",0,vRebate,true,0);
    MatCol(t,-100,"",0,Sum,true,0);
  end;
  MatCol(t=kInvoiceRowTypeStructuredItemComponent,144,"",0,Spec,false,0);
  if (UserCanAction("ViewCostPrice",true)) then begin //Edit***************************Sasha2,10:07 10.11.2014
    MatCol(t,-245,"",0,Price,true,PLSClass);
    MatCol(t,-175,"%",0,vRebate,true,0);
    MatCol(t,-140,"",0,BasePrice,true,0);
    MatCol(t,-70,"",0,rowGP,true,0);
  end else begin
    MatCol(t,-235,"",0,Price,true,PLSClass);
    MatCol(t,-135,"%",0,vRebate,true,0);
    MatCol(t,-100,"",0,Sum,true,0);
  end;
  Flip(flipnr); flipnr = flipnr + 1;
  t = 1;
  MatCol(t,94,"-",0,Quant,true,0);
  MatCol(t,144,"",0,Spec,false,0);
  MatCol(t,-300,"",0,Salesmen,false,UserSClass);
  MatCol(t,-236,".",0,Shipd1,true,0);
  MatCol(t,-184,". ",0,Shipd2,true,0);
  MatCol(t,-132,".",0,Invd,true,0);
  MatCol(t,-80,"",0,Recepy,false,RecSClass);
  MatCol(t=kInvoiceRowTypeStructuredItemComponent,144,"",0,Spec,false,0);
  MatCol(t,-290,".",0,Shipd1,true,0);
  MatCol(t,-220,"",0,Shipd2,true,0);
  MatCol(t,-150,"-",0,Invd,true,0);
  MatCol(t,-80,"",0,Recepy,false,RecSClass);
  Flip(flipnr); flipnr = flipnr + 1;
  t = 1;
  MatCol(t,94,"-",0,Quant,true,0);
  MatCol(t,144,"",0,Spec,false,0);
  MatCol(t,-290," ",0,SerialNr,false,SerialNrSClass);
  MatCol(t,-150," ",0,PlanShipRow,true,PasteCurDate);
  MatCol(t,-70," ",0,PriceFactor,true,0);
  MatCol(t=kInvoiceRowTypeStructuredItemComponent,144,"",0,Spec,false,0);
  MatCol(t,-290," ",0,SerialNr,false,SerialNrSClass);
  MatCol(t,-150," ",0,PlanShipRow,true,PasteCurDate);
  MatCol(t,-70," ",0,PriceFactor,true,0);
  Flip(flipnr); flipnr = flipnr + 1;
  t = 1;
  MatCol(t,94,"-",0,Quant,true,0);
  MatCol(t,144,"",0,Spec,false,0);
  MatCol(t,-315,"",0,ShipNote,false,0);
  MatCol(t,-210,"",0,Location,false,LocationSClass);
  if (StandardHansa==false) then begin
    MatCol(t,-145,"",0,Position,true,UsedPosSClass);
  end;
  MatCol(t,-90,"",0,Source,true,SourceSClass);
  //MatColTL(t,-90,"ID",0,M4UVal,ViewOnly,0,UID,true,0);// Edit ************************** Wednesday, 23 December 2015 10:41:28
  MatCol(t=kInvoiceRowTypeStructuredItemComponent,144,"",0,Spec,false,0);
  MatCol(t,-315,"",0,ShipNote,false,0);
  MatCol(t,-210,"",0,Location,false,LocationSClass);
  if (StandardHansa==false) then begin
    MatCol(t,-145,"",0,Position,true,UsedPosSClass);
  end;
  MatCol(t,-90,"",0,Source,true,SourceSClass);
 // MatColTL(t,-90,"ID",0,M4UVal,ViewOnly,0,UID,true,0);// Edit ************************** Wednesday, 23 December 2015 10:41:28
  if (StandardHansa==false) then begin
    Flip(flipnr); flipnr = flipnr + 1;
    MatCol(t=1,94,"-",0,Quant,true,0);
    MatCol(t=1,144," ",0,PickingDate,false,PasteCurDate);
    MatCol(t,-390," .",0,PickingTime,false,PasteCurTime);
    MatCol(t,-320," .",0,InloadingDate,true,PasteCurDate);
    MatCol(t,-230," .",0,InloadingTime,true,PasteCurTime);
    MatCol(t,-160," .",0,DespatchRowDate,true,PasteCurDate);
    MatCol(t,-70," .",0,DespatchRowTime,true,PasteCurTime);
    MatCol(t=kInvoiceRowTypeStructuredItemComponent,144," ",0,PickingDate,false,PasteCurDate);
    MatCol(t,-390," .",0,PickingTime,false,PasteCurTime);
    MatCol(t,-320," .",0,InloadingDate,true,PasteCurDate);
    MatCol(t,-230," .",0,InloadingTime,true,PasteCurTime);
    MatCol(t,-160," .",0,DespatchRowDate,true,PasteCurDate);
    MatCol(t,-70," .",0,DespatchRowTime,true,PasteCurTime);
  end;
  Flip(flipnr); flipnr = flipnr + 1;
  t = 1;
  MatCol(t,94,"-",0,Quant,true,0);
  MatCol(t,144,"",0,Spec,false,0);
  MatCol(t,-315,".",0,UnitCode,false,UnitSClass);
  MatCol(t,-260,"- .",0,UnitFactQuant,true,0);
  MatCol(t,-200,"",0,UnitXval,true,0);
  MatCol(t,-160,"",0,UnitYval,true,0);
  MatCol(t,-120,"",0,UnitZval,true,0);
  MatCol(t,-80," .",0,UnitFactPrice,true,0);
  MatCol(t=kInvoiceRowTypeStructuredItemComponent,144,"",0,Spec,false,0);
  MatCol(t,-315,".",0,UnitCode,false,UnitSClass);
  MatCol(t,-260,"- .",0,UnitFactQuant,true,0);
  MatCol(t,-200,"",0,UnitXval,true,0);
  MatCol(t,-160,"",0,UnitYval,true,0);
  MatCol(t,-120,"",0,UnitZval,true,0);
  MatCol(t,-80," .",0,UnitFactPrice,true,0);
  Flip(flipnr); flipnr = flipnr + 1; //Edit***************************Sasha2,12:11 28.01.2015  {
  MatCol(t=1,32,"",0,ArtCode,false,ForSaleINSClass);
  MatCol(t,94,"-",0,Quant,true,0);
  MatCol(t,144,"",0,Spec,false,0);
  MatCol(t,-325,"",0,Price,true,PLSClass);
  MatCol(t,-265,"",0,Sum,true,0);
  MatColTL(t,-200,"..2",0,M4Str,ViewOnly,5,AddUnittext2,true,0);
  MatColTL(t,-150,".",0,M4UVal,ViewOnly,0,AddUnitQty2,false,0);
  MatColTL(t,-100,"..3",0,M4Str,ViewOnly,0,AddUnittext3,true,0);
  MatColTL(t,-50,".",0,M4UVal,ViewOnly,0,AddUnitQty3,false,0); //Edit***************************Sasha2,12:11 28.01.2015 }
  Flip(flipnr); flipnr = flipnr + 1; //Edit***************************Dima 29.01.2015  {
  MatCol(t=1,32,"",0,ArtCode,false,ForSaleINSClass);
  MatCol(t,94,"-",0,Quant,true,0);
  MatCol(t,144,"",0,Spec,false,0);
  MatCol(t,-300,"",0,Price,true,PLSClass);
  MatCol(t,-225,"",0,Sum,true,0);
  MatColTL(t,-150," ",0,M45Val,ViewOnly,0,PriceBase,true,0);
  MatColTL(t,-75," ",0,M45Val,ViewOnly,0,SumBase,true,0); //Edit***************************Dima 29.01.2015 }
  Flip(flipnr); flipnr = flipnr + 1; 					//Edit----------------------Dima  14.08.2015
  MatCol(t=1,32,"",0,ArtCode,false,ForSaleINSClass);
  MatCol(t,94,"",0,Spec,false,0);
  MatCol(t,-370,"",0,NecessaryQuant,true,0);
  MatCol(t,-305,"-",0,Quant,true,0);
  if (Logisticsb.AllowChangeFields!=0) then begin			//Edit----------------------Dima  25.01.2016
  	editability = Normal;
  end else begin	
  	editability = ViewOnly;
  end;
  //MatCol(t,-245,"",0,AvailableQuant,true,0);
  //MatCol(t,-185," ",0,StockQuant,true,0);
  //MatCol(t,-120,"",0,OrderQuant,true,0);
  
  MatColTL(t,-245,"",0,M4UVal,editability,0,AvailableQuant,true,0);
  MatColTL(t,-185," ",0,M4UVal,editability,0,StockQuant,true,0);
  MatCol(t,-120,"",0,OrderQuant,true,0);  
  MatColTL(t,-60," ",0,M4UVal,editability,0,ProcessingQuant,true,0);	//Edit----------------------Dima  25.01.2016
 // MatColTL(t,-50,"UID",0,M4UVal,ViewOnly,0,UID,true,0);
  InsertRowTest;
  DeleteRowTest;
  EndMatrix;
  vs = 20;
  v = 18; VTab(-35,v,-16,v+vs,ToolFlip,1,"A");
  v=v+vs;  VTab(-35,v,-16,v+vs,ToolFlip,2,"B");
  v=v+vs;  VTab(-35,v,-16,v+vs,ToolFlip,3,"C");
  v=v+vs;  VTab(-35,v,-16,v+vs,ToolFlip,4,"D");
  v=v+vs;  VTab(-35,v,-16,v+vs,ToolFlip,5,"E");
  v=v+vs;  VTab(-35,v,-16,v+vs,ToolFlip,6,"F");
  v=v+vs;  VTab(-35,v,-16,v+vs,ToolFlip,7,"G");
  if (StandardHansa==false) then begin
    v=v+vs;  VTab(-35,v,-16,v+vs,ToolFlip,8,"H");
  end;
  v=v+vs;  VTab(-35,v,-16,v+vs,ToolFlip,9,"I"); //Edit***************************Sasha2,12:06 28.01.2015
	v=v+vs;  VTab(-35,v,-16,v+vs,ToolFlip,10,"J");	//Edit---------------------------Dima  29.01.2015
	v=v+vs;  VTab(-35,v,-16,v+vs,ToolFlip,11,"K");	//Edit---------------------------Dima  29.01.2015
  Tile(3,70,false,"3",FrRate);
  vs = 20;
  EditField(h=110,v=6,50,"",Normal,CurncyCode,false,CurncyCodeSClass);
  EditField(h,v+vs,50,"  1",Normal,BaseRate1,true,0);
  EditField(h,v+(vs*2),50,"  2",Normal,BaseRate2,true,0);
  EditField(h2=295,v,50,"",Normal,FrRate,true,0);
  RateField(h3=360,v,50,":",Normal,"ToRateB1",true,h3+60,v+14,"  1",false);
  RateField(h3,v+=vs,50,":",Normal,"ToRateB2",true,h3+60,v+14,"  2",false);
  Tile(4,110,false,"4",ShipDeal);
  vs = 20; h1 = 110; h2 = 290; h3 = 530; h4 = -100;
  EditField(h1,v=6,80," ",Normal,ShipDeal,false,ShipDealSClass);
  EditField(h1,v+=vs,80," ",Normal,ShipMode,false,DMSClass);
  if (StandardHansa==false) then begin
    EditField(h1,v+=vs,80,"",Normal,Sorting,false,DelRouteSClass);
  end;
  EditField(h1,v+=vs,80,"",Normal,Location,false,LocationSClass);
  if (StandardHansa==false) then begin
    EditField(h1,v+=vs,80,"",Normal,BranchID,false,AllCUSClass);
  end;
  EditField(h2,v=vm,80," -",ViewOnly,TotQty,true,0);
  EditField(h2,v+=vs,80," ",ViewOnly,TotWeight,true,0);
  EditField(h2,v+=vs,80," ",ViewOnly,TotVolume,true,0);
  EditField(h2,v+=vs,80,"",Normal,FrPrice,true,0);
  EditField(h2,v+=vs,80," ",Normal,IntrastatTransCode,true,IntrastatTransCodeSClass);
  if (StandardHansa==false) then begin
    EditField(h3,v,80,"  ",Normal,FrVATCode,true,VATCodeSClass);
  end;
  CheckBox(473,v=vm,0,"/  ",InvBeforeShip);
  Tile(5,130,false,"5",PriceList);
  h3 = 530;
  EditField(h1,v=vm,80,"-",Normal,PriceList,false,PLDefSClass);
  EditField(h1,v+=vs,80," ",ViewOnly,RebCode,false,0);
//  EditField(h2,v+=vs,80,"Disc %",ViewOnly,DiscPerc,false,0);
//  EditField(h2,v+=vs,80,"Disc Amnt",ViewOnly,DiscSum,false,0);
  EditField(h1,v+=vs,80,"",Normal,InvoiceToCode,false,CUSClass);
  if (StandardHansa==false) then begin
    EditField(h1,v+=vs,80," ",Normal,CreditCard,false,CreditCardSClass);
    EditField(h1,v+=vs,80,"",Normal,AuthorizationCode,false,0);
  end;
  EditField(h1,v+=vs,-20,"",Normal,Comment,false,0);
  v = vm;
  if (StandardHansa==false) then begin
    EditField(h2,v,80," ",Normal,SalesGroup,false,SalesGroupSClass);
    v = v + vs;
  end;
  EditField(h2,v,80,"",Normal,LangCode,false,LangSClass);
  if (StandardHansa==false) then begin
    EditField(h2,v+=vs,80,"",Normal,Commision,true,0);
    EditField(h2,v+=vs,80,"  .",ViewOnly,SumIncCom,true,0);
  end;
  if (HasTREO) then begin
    EditField(h3,v=vm,80,"TREO ",Normal,TREONr,false,0);
    EditField(h3,v+=vs,80,"TREO  .",Normal,TREOExpDate,false,PasteCurDate);
  end;
  Tile(6,250,false,"6",Addr1);
  label = UserDefined("CUVc","InvAddr0");
  if (blank(label)) then begin label = "Invoice"; end;
  EditField(h=110,v=6,-20,label,Normal,Addr1,false,0);
  label = UserDefined("CUVc","InvAddr1");
  if (blank(label)) then begin label = ""; end;
  EditField(h,v+=vs, -20,label,Normal,Addr2,false,0);
  label = UserDefined("CUVc","InvAddr2");
  EditField(h,v+=vs, -20,label,Normal,Addr3,false,0);
  label = UserDefined("CUVc","InvAddr3");
  EditField(h,v+=vs, -20,label,Normal,InvAddr3,false,0);
  label = UserDefined("CUVc","InvAddr4");
  EditField(h,v+=vs, -20,label,Normal,InvAddr4,false,0);
  EditField(h,vm=(v+=vs),80,"",Normal,InvCountry,false,CountrySClass);
  if (HasLocalization("BRA")) then begin
    EditField(h2-89,v,232,"",ViewOnly,InvCountryName,false,0);
    h5 = -170;
    width = 150;
  end else begin
    h5 = -270;
    width = 135;
  end;
  EditField(h5,v,width,"",Normal,BankCode,false,BankSClass);
  if (StandardHansa==false) then begin
    ButtonFrame(h3=h+4,v=(vm+=40),123,6," ");
    RadioButton(h3,v,kAcceptanceStateNotRequired,0," ",AcceptanceStatus);
    RadioButton(h3,v+=16,kAcceptanceStateNotStarted,0," ",AcceptanceStatus);
    RadioButton(h3,v+=16,kAcceptanceStateNotRequested,0," ",AcceptanceStatus);
    RadioButton(h3,v+=16,kAcceptanceStatePending,0," ",AcceptanceStatus);
    RadioButton(h3,v+=16,kAcceptanceStateApproved,0,"",AcceptanceStatus);
    RadioButton(h3,v+=16,kAcceptanceStateRejected,0,"",AcceptanceStatus);
    v = VATZoneButtonsLabelsRUS(h3=290,v=vm,140,16);
  end else begin
    v = VATZoneButtonsLabelsRUS(h3=290,v=vm+20,140,16);
  end;
  EditField(h2=-170,v=vm,150,"",Normal,Region,false,RegionSClass);
  EditField(h2,v+=vs,150,"",Normal,VATNr,false,0);
  EditField(h2,v+=vs,150,"GLN",ViewOnly,RecipientGLN,false,0);
  EditField(h2,v+=vs,150,"",Normal,Phone,false,0);
  EditField(h2,v+=vs,150,"",Normal,Fax,false,0);
  Tile(7,170,false,"7",ShipAddr0);
  if (StandardHansa==false) then begin
    EditField(h1,v=6,80," ",Normal,DelAddrCode,false,DelAddr3SClass);
    EditField(h1,v+=vs,-20,"",Normal,ShipAddr0,false,0);	//	***	Edit by Victor 26.01.15
  end else begin
    EditField(h1,v=6,-20,"",Normal,ShipAddr0,false,0);   // From dict	//	***	Edit by Victor 26.01.15
  end;
  EditField(h1,v+=vs,-20,"",Normal,ShipAddr1,false,0);
  EditField(h1,v+=vs,-20,"",Normal,ShipAddr2,false,0);
  EditField(h1,v+=vs,-20,"",Normal,ShipAddr3,false,0);
  EditField(h1,v+=vs,-20,"",Normal,DelAddr3,false,0);
  EditField(h1,v+=vs,-20,"",Normal,DelAddr4,false,0);
  EditField(h1,v+=vs,80,"",Normal,DelCountry,false,CountrySClass);
  if (HasLocalization("BRA")) then begin
    EditField(h1+91,v,232,"",ViewOnly,DelCountryName,false,0);
    h5 = -170;
    width = -20;
  end;
  EditField(h2,v,150,"GLN ",ViewOnly,DelRecipientGLN,false,0);

  Tile(8,250,false,"8",NPPhone);	//Edit----------------------Dima  14.04.2015
  h1 = 100; h2 = 300; h3 = 530;
  EditField(h1,v=6,150,"",Normal,NPPhone,false,0);
  StaticText(600,v+11,"( : +380XXXXXXXXX,380XXXXXXXXX,0XXXXXXXXX)",true);
  //EditField(h3,v,150,"E-mail",Normal,NPEmail,false,0);
  EditField(h1,v+=vs,150,"",Normal,NPLastName,false,0);
  EditField(h2,v,150,"",Normal,NPFirstName,false,0);
  EditField(h3,v,150,"",Normal,NPMiddleName,false,0);

/*
  StaticText(130,v+=50," :",false);
  EditField(h1,v+=vs,150,"",Normal,NPStreet,false,0);
  EditField(h2,v,70,"",Normal,NPBuilding,false,0);
  EditField(h3,v,70,"",Normal,NPFlat,false,0);
 */

  StaticText(100,v+=50," :",true);
  EditField(h1,v+=vs,150,"",Normal,NPCityRecipient,false,NPCitySClass);
  EditField(h1,v+=vs,70," ",Normal,NPWarehouse,false,NPWarehouseSClass);
  EditField(h2,v,250,"",ViewOnly,NPWarehouseDesc,false,0);

  ButtonFrame(h1,v+=70,140,2," ");
  RadioButton(h1,v,0,0,"",NPPaymentType);
  RadioButton(h1,v+=20,1,0," ",NPPaymentType);

	CheckBox(h2,v-20,0," ",PrepaymentReceived);
  EditField(h1,v+40,70,"",Normal,Advance,false,0);	
  CheckBox(h1,v+200,0,"  ",DeliveryNewPost);
  CheckBox(h3-100,v+200,0," ",AutoCreation);	//Edit----------------------Dima  16.09.2015 

  Tile(9,300,false,"9",FeedBackStatus);	//Edit***************************Sasha2,10:31 17.08.2015 {
  h1 = 50;
  ButtonFrame(h1,v=40,210,4,"    ");
  RadioButton(h1,v,0,0,"    ",FeedBackStatus);
  RadioButton(h1,v+=16,1,0,"  1- ",FeedBackStatus);
  RadioButton(h1,v+=16,2,0,"  2- ",FeedBackStatus);
  RadioButton(h1,v+=16,3,0,"  3- .  ",FeedBackStatus); //Edit***************************Sasha2,10:31 17.08.2015 }

//  EditField(h1+200,v,80,"#VAT Code#",Normal,CustVATCode,false,0);
  EnterSkip(OrdDate);
  if (GuiType==kGuiMetro) then begin // Temporarily disabled on Windows 8
    SpecialMenu(" ",'r',5,"ORInfoRnORDsm");
    SpecialMenu(" ",'I',2,"ItemStatusORDsm");
    SpecialMenu(" ",'L',0,"SHFromORDsm");
    SpecialMenu(" /",'F',1,"IVFromORDsm");
    SpecialMenu(" ",' ',14,"SubtotalORDsm");
/*
email not working yet
    SpecialMenu(" e-mail",'m',11,"CreateMailFromORDsm");
*/
  end else begin
  SpecialMenu("  ",' ',13,"ORAddHeaderLine");
  SpecialMenu("  ",' ',13,"ORAddHidLine");
  SpecialMenu(" ",' ',14,"SubtotalORDsm");
  SpecialMenu(" ",' ',11,"RecalcDiscountORDsm");
  if (StandardHansa==false) then begin
    SpecialMenu("   ",' ',10,"RecalculateWeightORDsm");
  end;
  SpecialMenu("      ",' ',7,"CheckItemsOnStockORDsm"); //Edit***************************Sasha2,15:20 12.08.2015
  SpecialMenu("   ",' ',7,"UpdatePricesORDsm");
  SpecialMenu(" ",'I',2,"ItemStatusORDsm");
  SpecialMenu(" ",'',1,"ItemSearchDsm");
  SpecialMenu("   ",'f',1,"TableSearchDsm"); // edit ----------Dima 25.11.2014
  SpecialMenu(" ",'r',5,"ORInfoRnORDsm");
  if (StandardHansa==false) then begin
    SpecialMenu("  ",' ',12,"ORLastSPrsm");
    SpecialMenu("  ",' ',4,"Or2FormORDsm");
  end;
  SpecialMenu("",' ',15,"OrderReservORDsm");
  if (StandardHansa==false) then begin
    SpecialMenu("  ",' ',6,"ORSendforAcceptanceORDsm");
    SpecialMenu("   ",' ',2,"CancelApprovalRequestDsm");
  end;
  SpecialMenu(" ",'c',9,"CreateActFromORDsm");
  SpecialMenu(" ",'L',0,"SHFromORDsm");
  SpecialMenu(" -  ",'o',3,"DownPayFromORDsm");
  if (HaseMail) then begin
  SpecialMenu(" e-mail",'m',11,"CreateMailFromORDsm");
  end;
  SpecialMenu(" ",'F',1,"IVFromORDsm");
  if (HasModTS) then begin
    SpecialMenu(" ",' ',9,"CreatePRFromORDsm");
    SpecialMenu("  ",' ',10,"CreateTBBUFromORDsm");
  end;
  if (HasModPO) then begin
    SpecialMenu("  ",' ',4,"POFromORDsm");
  end;
  if (GuiType==kGuiiPhone) then begin
    SpecialMenu("",' ',10,"SignORDsm");
  end;
  SpecialMenu("  ",'B',6,"RetFromORsm");
  SpecialMenu("   ",' ',8,"StockMovFromORDsm");
  if (HasTaxMatrix) then begin
    SpecialMenu("  ",' ',25,"OpenVatMatrixORDsm");
  end;
  SpecialMenu("  ",'e',0,"ORStatusCUDsm");	//Edit------------------Dima 27.01.2015
	SpecialMenu("    ",'',18,"ExportToExcelORDsm"); // edit ----------Dima 26.11.2014, 23.01.2015
	SpecialMenu(" ",'',20,"TableSortORDsm"); // edit ----------Dima 26.11.2014, 23.01.2015
	SpecialMenu("   ",'',20,"MakeSMSORDsm");	//Edit----------------------Dima  26.06.2015
	SpecialMenu("  ",'',20,"GetAvailableItemsDsm");		//Edit----------------------Dima  26.06.2015
	SpecialMenu("   ",'',20,"CancelStockMoveOrderDsm");	//Edit----------------------Dima  30.12.2015
  end;
  EndWindow;

end;

window SHLClass:1
  wtag("language","RUS"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer")
begin
	real h,v;
//      . 
//    SHGeneralLClass
  WindowBegin(")",SHLClass,CGmlist,SHView);
  SpawnClass(SHDClass);
  SetWRect(20,80,1100,500); //Edit***************************Sasha2,13:46 06.02.2015
  Sizeable(-1,-1,0,0);
  UseView(SHVc);
  FormName(PrintSHL);
  h = 50; v = 5;
  HalPushButton(h,v,h+100,v+12,"OpenAllOrdersSHVc"," ");
  
  RecordList(4,50,-21,-39);
  RlColKey(4,4,".",SerNr,false,ActFinishSerNr);
  RlColKey(79,79,"",OKFlag,false,ActFinishOKFlag);
  RlColKey(111,111,"",ShipDate,false,ActFinishShipDate);
  if (HasMultiLocations) then begin
    RlCol(191,191,"",Location,false);
    RlColKey(251,251," .",OrderNr,false,ActFinishOrderKey);
  end else begin
    RlColKey(191,191," .",OrderNr,false,ActFinishOrderKey);
  end;
  RlColKey(321,321,".No.",OfficialSerNr,false,ActFinishOfficialSerNr);
  RlColKey(411,411,"",CustCode,false,ActFinishCustCode);
  RlColKey(471,471," ",ShipOkDate,false,ActFinishShipOkDate); //Edit***************************Sasha2,13:48 06.02.2015
  RlColKey(541,541,".",Addr0,false,ActFinishCustName); //Edit***************************Sasha2,13:48 06.02.2015
  if (IsEnterprise) then begin
    RlCol(-270,-270,".",Comment,false); //Edit***************************Sasha2,12:43 28.01.2015
    //RlColKey(-180,-180,". .",TransportNumber,false,TransportNumber); //Edit***************************Sasha2,12:43 28.01.2015
    //RlColKey(-80,-80," ",ShipMode,false,ShipMode); //Edit***************************Sasha2,12:45 28.01.2015
    RlColKey(-170,-170,"",Sorting,false,ActFinishSorting); //Edit***************************Sasha2,12:45 28.01.2015
  end else begin
    RlCol(-270,-270,".",Comment,false);
  end;
  RlCol(-120,-120,"",Assembly,false);
  RlCol(-90,-90,"",NPPrinted,false);
  RlColKey(-60,-60,"",NPStatus,false,ActFinishNPStatus);
  SearchField("");
  if (GuiType==kGuiMetro) then begin
    RowMenuBegin("");
    RowMenuItem(0,"OK",'G','G',4312,"SHOKLsm");
    EndRowMenu;
  end else begin
    SpecialMenu("OK",'G',0,"SHOKLsm");
  end;
  EndWindow;
end;


window SHGeneralLClass:1
  wtag("language","RUS"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer")
begin
  WindowBegin("",SHGeneralLClass,CGmlist,SHView);
  SpawnClass(SHDClass);
  SetWRect(20,80,1100,500); //Edit***************************Sasha2,13:46 06.02.2015
  Sizeable(-1,-1,0,0);
  UseView(SHVc);
  FormName(PrintSHL);
  RecordList(4,17,-21,-39);
  RlColKey(4,4,".",SerNr,false,SerNr);
  RlColKey(79,79,"",OKFlag,false,OKFlag);
  RlColKey(111,111,"",ShipDate,false,ShipDate);
  if (HasMultiLocations) then begin
    RlCol(191,191,"",Location,false);
    RlColKey(251,251," .",OrderNr,false,OrderKey);
  end else begin
    RlColKey(191,191," .",OrderNr,false,OrderKey);
  end;
  RlColKey(321,321,".No.",OfficialSerNr,false,OfficialSerNr);
  RlColKey(411,411,"",CustCode,false,CustCode);
  RlColKey(471,471," ",ShipOkDate,false,ShipOkDate); //Edit***************************Sasha2,13:48 06.02.2015
  RlColKey(541,541,".",Addr0,false,CustName); //Edit***************************Sasha2,13:48 06.02.2015
  if (IsEnterprise) then begin
    RlCol(-270,-270,".",Comment,false); //Edit***************************Sasha2,12:43 28.01.2015
    //RlColKey(-180,-180,". .",TransportNumber,false,TransportNumber); //Edit***************************Sasha2,12:43 28.01.2015
    //RlColKey(-80,-80," ",ShipMode,false,ShipMode); //Edit***************************Sasha2,12:45 28.01.2015
    RlColKey(-170,-170,"",Sorting,false,Sorting); //Edit***************************Sasha2,12:45 28.01.2015
  end else begin
    RlCol(-270,-270,".",Comment,false);
  end;
  RlCol(-120,-120,"",Assembly,false);
  RlCol(-90,-90,"",NPPrinted,false);
  RlColKey(-60,-60,"",NPStatus,false,NPStatus);
  SearchField("");
  if (GuiType==kGuiMetro) then begin
    RowMenuBegin("");
    RowMenuItem(0,"OK",'G','G',4312,"SHOKLsm");
    EndRowMenu;
  end else begin
    SpecialMenu("OK",'G',0,"SHOKLsm");
  end;
  EndWindow;
end;


window SHDClass:1
  wtag("language","RUS"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer")
begin
  real h,h0,h1,h2,h3,h4,h5,h6,t,v,vm,vs;
  Integer tilenr,f,flipnr,i;
  integer sQuant;

  WindowBegin("",SHDClass,CGview,-);
  SetWRect(20,80,800,520);
  Sizeable(-1,-1,0,0);
  UseView(SHVc);
  vs = 20;
  sQuant = 2;	//.stp //Edit----------------------Dima  21.12.2015
  
  Tile(0,74,false,"",SerNr);
  EditField(75,vm=(v=6),95,".",Normal,SerNr,false,TSerSClass);
  EditField(75,v+=20,95,"-",ViewOnly,CustCode,false,0);
  EditField(h=255,v=vm,-40,".",Normal,Addr0,false,0);
  v = v + vs;
  if (HasOfficialSerNr) then begin
    EditField(h,vm=v,135,". ",Normal,OfficialSerNr,false,LegalInvNrSClass);
  end;
  if (HasTREO) then begin
    EditField(h+230,vm,95,"TREO .",Normal,TREONr,false,0);
  end;
  CheckBox(h4=-100,v,0,"OK",OKFlag);
  CheckBox(h4,v+15,0,"  ",Assembly);
  tilenr = 1;
  if (IsEnterprise) then begin
    TileButton(tilenr,""); tilenr = tilenr + 1;
    TileButton(tilenr,""); tilenr = tilenr + 1;
    TileButton(tilenr," ."); tilenr = tilenr + 1;
    TileButton(tilenr,""); tilenr = tilenr + 1;
    TileButton(tilenr," "); tilenr = tilenr + 1;
    TileButton(tilenr,""); tilenr = tilenr + 1;
    if (StandardHansa==false) then begin
      TileButton(tilenr,""); tilenr = tilenr + 1;
    end;
  end else begin
    TileButton(tilenr,"."); tilenr = tilenr + 1;
    TileButton(tilenr,""); tilenr = tilenr + 1;
    TileButton(tilenr,""); tilenr = tilenr + 1;
    if (HasLocalization("PRT")) then begin
      if (HasModIN and HasModSL) then begin
        TileButton(tilenr,"Packaging"); tilenr = tilenr + 1;
      end;
      TileButton(tilenr,""); tilenr = tilenr + 1;
    end;
  end;
  TileButton(tilenr," "); tilenr = tilenr + 1;	//Edit----------------------Dima  16.04.2015
  tilenr = 1;
  Tile(tilenr,70,false,tilenr,ShipDate); tilenr = tilenr + 1;
  vs = 20; h1 = 110; h2 = 290; h3 = 530; h4 = -100;
  EditField(h1,vm=(v=6),82,"",Normal,ShipDate,false,PasteCurDate);
  if (HasMultiLocations) then begin
    v = v + vs;
    EditField(h1,v,82,"",Normal,Location,false,LocationSClass);
  end;
  if (HasRoute) then begin
    v = v + vs;
    EditField(h1,v,82,"",Normal,Sorting,false,DelRouteSClass);
  end;
  v = v + vs; //Edit***************************Sasha2,13:49 06.02.2015
  EditField(h1,v,82," ",Normal,ShipOkDate,false,0); //Edit***************************Sasha2,13:43 06.02.2015
  if (HasObjects) then begin
    EditField(h2,v=vm,135,"",Normal,Objects,false,ObjSClass);
  end;
  if (HasBranch) then begin
    v = v + vs;
    EditField(h2,v,135,"",ViewOnly,BranchID,false,0);
  end;
  EditField(h2,v=v+vs,135," ",Normal,SalesGroup,false,SalesGroupSClass);
  if (HasMultiLocations) then begin
    v = v + vs;
  end;
  if (HasModTS) then begin
    EditField(h2,v,135,"",ViewOnly,PRCode,false,0);
  end;
  if (HasObjects) then begin
    EditField(h3,v=vm,80," ",ViewOnly,OrderNr,false,0);
  end else begin
    if (IsEnterprise==false) then begin
      EditField(h2,v=vm,135," ",ViewOnly,OrderNr,false,0);
    end;
  end;
  if (IsEnterprise) then begin
    EditField(h3,v+=vs,80," ",Normal,SHClass,false,OrderClassSClass);
    EditField(h3,v+=vs,80,"",ViewOnly,Manager,false,0); //Edit***************************Sasha2,15:30 27.01.2015
    EditField(h3,v+=vs,80,"",Normal,Collector,false,UserNPTSSClass); //Edit***************************Sasha2,15:30 27.01.2015
    CheckBox(h4,v=6,0,"",Check1);
  end;
  if (IsEnterprise==false) then begin
    if (HasMultiLocations) then begin
      EditField(h1,v+=2*vs,-40,".",Normal,Comment,false,0);
    end else begin
      EditField(h1,v+=vs,-40,".",Normal,Comment,false,0);
    end;
  end;
  Tile(tilenr,190,true,tilenr,Math); tilenr = tilenr + 1;
  v = 20;
  MatrixBegin(4,v,-50,-35,-,999);// Edit ************************** Thursday, 25 June 2015 17:29:44
  MatTypedRow(stp);
  
  // ,  -  .  Flip(0),     Flip(0).     //Edit----------------------Dima  21.12.2015
  /*
  Flip(0);
  MatCol(1,32,"",0,ArtCode,false,ForSaleINSClass);
//  MatCol(1,94,"Var",0,VARList,false,VARSClass);
//  MatCol(1,144,"Description",0,Spec,false,0);
  MatCol(1,94,"",0,Spec,false,0);
  MatCol(t=kInvoiceRowTypeStructuredItemComponent,32,"",0,ArtCode,false,ForSaleINSClass);
//  MatCol(t,94,"Var",0,VARList,false,VARSClass);
//  MatCol(t,144,"Description",0,Spec,false,0);
  MatCol(t,94,"",0,Spec,false,0);  
  */
  
  flipnr = 1;
  Flip(flipnr); flipnr = flipnr + 1;
  MatCol(1,32,"",0,ArtCode,false,ForSaleINSClass);
  MatCol(1,94,"",0,Spec,false,0);  
  if (HasCustItem) then begin
    MatCol(1,-230," .",0,CustArtCode,false,CUINSClass);
  end;
  MatCol(1,-150,".",0,InStock,true,0);
  MatCol(1,-98,".",0,Ordered,true,0);
  MatCol(1,-50,".",0,Ship,true,0);
  
  t = sQuant;
  MatCol(t=sQuant,32,"",0,ArtCode,false,ForSaleINSClass);	//Edit----------------------Dima  21.12.2015
  MatCol(t,94,"",0,Spec,false,0);  									//Edit----------------------Dima  21.12.2015
  if (HasCustItem) then begin
    MatCol(t,-230," .",0,CustArtCode,false,CUINSClass);
  end;
  MatCol(t,-150,".",0,InStock,true,0);
  MatCol(t,-98,".",0,Ordered,true,0);
  MatCol(t,-70,".",0,Ship,true,0);  
  
  Flip(flipnr); flipnr = flipnr + 1;
  if (IsEnterprise==false) then begin
    if (HasSerialNumbers) then begin
      MatCol(1,-350," ",0,SerialNr,false,SerialNrSClass);
    end;
    if (HasObjects) then begin
      MatCol(1,-250,"",0,Objects,false,ObjSClass);
    end;
    if (UserCanAction("ViewCostPrice",true)) then begin
    	MatCol(1,-98,". ",0,FIFORowVal,false,0); //Edit***************************Sasha2,10:18 10.11.2014
    end;
    if (HasLocalization("RUS")) then begin
      Flip(flipnr); flipnr = flipnr + 1;
  		MatCol(1,32,"",0,ArtCode,false,ForSaleINSClass);		//Edit----------------------Dima  21.12.2015
  		MatCol(1,94,"",0,Spec,false,0);       
      MatCol(1,-230,"-",0,UnitCode,false,UnitSClass);
      MatCol(1,-180,"",0,UnitComment,false,0);
    end;
  end else begin
  	MatCol(1,32,"",0,ArtCode,false,ForSaleINSClass);		//Edit----------------------Dima  21.12.2015
  	MatCol(1,94,"",0,Spec,false,0);  
    MatCol(1,-350," ",0,SerialNr,false,SerialNrSClass);
    MatCol(1,-250," ",0,BestBefore,false,0);
    MatCol(1,-150,"",0,Location,false,LocationSClass);
    if (StandardHansa==false) then begin
      MatCol(1,-50,"",0,PosCode,false,UsedPosSClass);
    end;

    Flip(flipnr); flipnr = flipnr + 1;
  	MatCol(1,32,"",0,ArtCode,false,ForSaleINSClass);		//Edit----------------------Dima  21.12.2015
  	MatCol(1,94,"",0,Spec,false,0); 				    
    if (UserCanAction("ViewCostPrice",true)) then begin //Edit***************************Sasha2,10:20 10.11.2014 {
    	MatCol(1,-400,"..",0,BBCostPrice,false,0);
    	MatCol(1,-320,"FIFO  ",0,FIFORowVal,false,0);
    end; //Edit***************************Sasha2,10:20 10.11.2014 }
    if (StandardHansa==false) then begin
      MatCol(1,-220,". .(.2)",0,WAB2,false,0);
    end;
    if (UserCanAction("ViewCostPrice",true)) then begin
    	MatCol(1,-120," .",0,BasePrice,false,0); //Edit***************************Sasha2,10:17 10.11.2014
    end;
    MatCol(1,-40,".",0,Coefficient,false,0);
    if (UserCanAction("ViewCostPrice",true)) then begin //Edit***************************Sasha2,10:21 10.11.2014 {
    	MatCol(t=kInvoiceRowTypeStructuredItemComponent,-400,"BuyBack Pr.",0,BBCostPrice,false,0);
    	MatCol(t,-320,"FIFO  ",0,FIFORowVal,false,0);
    end; //Edit***************************Sasha2,10:21 10.11.2014 }
    if (StandardHansa==false) then begin
      MatCol(t,-220,". .(.2)",0,WAB2,false,0);
    end;
    if (UserCanAction("ViewCostPrice",true)) then begin
    	MatCol(t,-120," ",0,BasePrice,false,0); //Edit***************************Sasha2,10:18 10.11.2014
    end;
    MatCol(t,-40,".",0,Coefficient,false,0);
    Flip(flipnr); flipnr = flipnr + 1;
  	MatCol(1,32,"",0,ArtCode,false,ForSaleINSClass);		//Edit----------------------Dima  21.12.2015
  	MatCol(1,94,"",0,Spec,false,0);     
    MatCol(1,-400,"",0,Recepy,false,0);
    MatCol(1,-320,"",0,Source,false,SourceSClass);
    MatCol(1,-240,"",0,Invd,false,0);
    if (StandardHansa==false) then begin
      MatCol(1,-160," ",0,DespatchRowDate,false,PasteCurDate);
      MatCol(1,-80," ",0,DespatchRowTime,false,PasteCurTime);
    end;
    MatCol(t=kInvoiceRowTypeStructuredItemComponent,-400,"",0,Recepy,false,0);
    MatCol(t,-300,"",0,Source,false,SourceSClass);
    MatCol(t,-240,"",0,Invd,false,0);
    if (StandardHansa==false) then begin
      MatCol(t,-160," ",0,DespatchRowDate,false,PasteCurDate);
      MatCol(t,-80," ",0,DespatchRowTime,false,PasteCurTime);
    end;
    Flip(flipnr); flipnr = flipnr + 1;
  	MatCol(1,32,"",0,ArtCode,false,ForSaleINSClass);		//Edit----------------------Dima  21.12.2015
  	MatCol(1,94,"",0,Spec,false,0);     
    MatCol(1,-400," .",0,SalesAcc,false,AccSClass);
    MatCol(1,-330," .",0,CostAcc,false,AccSClass);
    MatCol(1,-250,"",0,Objects,false,ObjSClass);
    MatCol(1,-135,".",0,UnitXval,true,0);
    MatCol(1,-90,".",0,UnitYval,true,0);
    MatCol(1,-45,".",0,UnitZval,true,0);
    MatCol(t=kInvoiceRowTypeStructuredItemComponent,-400," .",0,SalesAcc,false,AccSClass);
    MatCol(t,-330," .",0,CostAcc,false,AccSClass);
    MatCol(t,-250,"",0,Objects,false,ObjSClass);
    MatCol(t,-135,".",0,UnitXval,true,0);
    MatCol(t,-90,".",0,UnitYval,true,0);
    MatCol(t,-45,".",0,UnitZval,true,0);
    if (StandardHansa==false) then begin
      Flip(flipnr); flipnr = flipnr + 1;
	  	MatCol(1,32,"",0,ArtCode,false,ForSaleINSClass);		//Edit----------------------Dima  21.12.2015
	  	MatCol(1,94,"",0,Spec,false,0);       
      MatCol(1,-300,"",0,RowPackages,false,0);
      MatCol(1,-220,"",0,PackageType,false,PackTypeSClass);
      MatCol(1,-170,"",0,PackageDesc,false,0);
      MatCol(1,-70,"",0,ExciseNr,false,0);
      MatCol(t=kInvoiceRowTypeStructuredItemComponent,-300,"",0,RowPackages,false,0);
      MatCol(t,-220,"",0,PackageType,false,PackTypeSClass);
      MatCol(t,-170,"",0,PackageDesc,false,0);
      MatCol(t,-70,"",0,ExciseNr,false,0);
    end;
  end;
  
  InsertRowTest;
  DeleteRowTest;
  EndMatrix;
  vs = 22;
//  v = 21;
  v = v + 1;
  if (flipnr>2) then begin
    for (f=1;f<flipnr;f=f+1) begin
      VTab(-35,v,-16,v+vs,ToolFlip,f,chr(asc("A") + f - 1));
      v = v + vs;
    end;
  end;

//  CheckBox(20,-20,0,"OK",OKFlag);
  if (HasLocalization("PRT")) then begin
    EditField(120,-20,150,"Tax Auth. Approval",Normal,TaxAdminServSeal,false,0);
//    SoftEditField(120,-20,150,"Tax Auth. Approval",Normal,"TaxAdminServSeal",false,0,M4Str,200);
  end;
  EditField(-131,-20,80," -",ViewOnly,TotQty,true,0);
  
  if (CurrentUser=="SAUNOK") then begin
	  EditField(150,-20,100,"LocOKNr",Normal,LocOKNr,false,0);//Edit----------------------Dima  21.01.2016
  end;  
  
  if (IsEnterprise) then begin
    Tile(tilenr,90,false,tilenr,ShipMode); tilenr = tilenr + 1;
    vs = 20;
    EditField(h1,v=vm,82," .",Normal,ShipMode,false,DMSClass);
    EditField(h1,v+=vs,80," ",ViewOnly,TAX1Sum,true,0);
    if (StandardHansa==false) then begin
      EditField(h1,v+=vs,80,". ",Normal,DeclaredVal,true,0);
      EditField(h1,v+=vs,-20," ",ViewOnly,EShipStatus,false,0);
      if (HasLocalization("BRA,BOL,PRT")) then begin
      EditField(h1,v+=vs,80,". . ",Normal,TaxAdminServSeal,false,0);
      end;
    end;
    EditField(h2,v=vm,80," -",ViewOnly,TotQty,true,0);
    EditField(h2,v+=vs,80," ",Normal,TotWeight,true,0);
    EditField(h2,v+=vs,80," ",Normal,TotVolume,true,0);
    CheckBox(473,v=vm,0,"   . ",Check2);
    if (StandardHansa==false) then begin
      CheckBox(473,v+=16,0,"  ",EShipmentCreated);
      CheckBox(473,v+=16,0,"  ",EShipCollected);
    end;
    Tile(tilenr,110,false,tilenr,Packages); tilenr = tilenr + 1;
    h2 = 310;
    EditField(h1,v=6,160,". ",Normal,TransportNumber,false,0); //Edit***************************Sasha2,12:54 28.01.2015
    EditField(h1,v+=vs,82,"",Normal,Packages,true,0);
    if (HasLanguages) then begin
    EditField(h1,v+=vs,82,"",Normal,LangCode,false,LangSClass);
    end;
    EditField(h1,v+=vs,82,"",Normal,CurncyCode,false,CurncyCodeSClass);
    if (StandardHansa==false) then begin
      EditField(h1,v+=vs,-20,". .",Normal,TransportDirect,false,0);
      EditField(h1,v+=vs,80,".  .",Normal,PlanSendDate,false,PasteCurDate);
      EditField(h1,v+=vs,80,".  .",Normal,PlanSendTime,false,PasteCurTime);
    end;

    EditField(h2+100,v=6,135," ",Normal,FromCity,false,0); //Edit***************************Sasha2,12:54 28.01.2015
    EditField(h2+100,v+=vs,135," ",Normal,ToCity,false,0); //Edit***************************Sasha2,12:54 28.01.2015
    EditField(h2+100,v+=vs,135," ",Normal,FromDock,false,0); //Edit***************************Sasha2,12:54 28.01.2015
    EditField(h2+100,v+=vs,135," ",Normal,ToDock,false,0); //Edit***************************Sasha2,12:54 28.01.2015
    if (StandardHansa==false) then begin
      EditField(h2,v+=2*vs,80,".  .",Normal,PlanArrDate,false,PasteCurDate);
      EditField(h2,v+=vs,80,".   .",Normal,PlanArrTime,false,PasteCurTime);
    end;
  end;
  Tile(tilenr,150,false,tilenr,Addr1); tilenr = tilenr + 1;
  vs = 20;
  if (IsEnterprise) then begin
    if (StandardHansa==false) then begin
      EditField(h1,v=6,80," ",Normal,DelAddrCode,false,DelAddr3SClass);
      EditField(h1,v+=vs,-20,"",Normal,Addr1,false,0);	//Edit by Victor 26.01.15
    end else begin
      EditField(h1,v=6,-20,"",Normal,Addr1,false,0);
    end;
    EditField(h1,v+=vs,-20,"",Normal,Addr2,false,0);
  end else begin
    EditField(h1,v=6,-20,"",Normal,Addr1,false,0);   // From dict	//Edit by Victor 26.01.15
    EditField(h1,v+=vs,-20,"",Normal,Addr2,false,0);
  end;
  EditField(h1,v+=vs,-20,"",Normal,Addr3,false,0);
  EditField(h1,v+=vs,-20,"",Normal,DelAddr3,false,0);
  EditField(h1,v+=vs,-20,"",Normal,DelAddr4,false,0);
  if (HasCountryPerCustomer) then begin
    EditField(h1,v+=vs,80,"",Normal,DelCountry,false,CountrySClass);
    if (HasLocalization("BRA")) then begin
      EditField(h2-109,v,232,"",ViewOnly,DelCountryName,false,0);
    end;
  end;
  if (IsEnterprise) then begin
    EditField(h3,v,-20,"",Normal,Region,false,RegionSClass);
    Tile(tilenr,30,false,tilenr,Comment); tilenr = tilenr + 1;
    EditField(h1+10,v=6,-20,"",Normal,Comment,false,0);
    EditField(h1+10,v+=20,-20,"",Normal,ORCOType,false,0); // NEWTRANSLATE
    if (HasNumberSeries and HasLocalization("PRT")) then begin
      if (HasOfficialSerNr) then begin
        EditField(h1+10,v+=vs,100,"Official Ser No. 2",Normal,OfficialSerNr2,false,0);
        EditField(h2,v,135,"Status",Normal,Status,false,SetSClass);
      end;
    end;
  end else begin
    if (HasLocalization("RUS")) then begin
      EditField(h1,v+=vs,80," ",Normal,TotWeight,true,0);
    end;
  end;
  if (IsStandardProduct and HasLocalization("PRT") and HasModIN and HasModSL) then begin
    Tile(tilenr,110,false,tilenr,PlanSendDate); tilenr = tilenr + 1;
    h2 = 310;
    EditField(h1,v=6,80,"Plan. Sent Date",Normal,PlanSendDate,false,PasteCurDate);
    EditField(h1,v+=vs,80,"Plan. Sent Time",Normal,PlanSendTime,false,PasteCurTime);
    EditField(h2,v=6,80,"Plan. Arrival Date",Normal,PlanArrDate,false,PasteCurDate);
    EditField(h2,v+=vs,80,"Plan. Arrival Time",Normal,PlanArrTime,false,PasteCurTime);
  end;
  if (IsEnterprise or HasLocalization("PRT")) and (StandardHansa==false) then begin
    Tile(tilenr,130,false,tilenr,FreightCode); tilenr = tilenr + 1;
    if (IsEnterprise) then begin
      HalPushButton(473,2,600,22,"UpdateSHPackages"," ");
    end;
    EditField(h1,v=6,80,". ",Normal,FreightCode,false,FreightCompanySClass);
    EditField(h1,v+=vs,-20,"",Normal,FreightCompany,false,0);
    EditField(h1,v+=vs,-20,"",Normal,FreightCompanyRegNr,false,0);
    EditField(h1,v+=vs,-20,"-  ",Normal,TruckInfo,false,0);
    EditField(h1,v+=vs,-20,"",Normal,Driver,false,0);
    EditField(h1,v+=vs,-20,"CMR",Normal,CMRText,false,0); // International transporting number
  end;

  h1 = 100; h2 = 345; h3 = 550;
  Tile(tilenr,250,false,tilenr,NPSender); tilenr = tilenr + 1;		//Edit----------------------Dima  16.04.2015
   StaticText(90,v=15,":",true);
    EditField(h1,v+=5,190,"",Normal,NPSender,false,NPCounterpartySenderSClass);
    EditField(h2,v,100,"",Normal,NPCitySender,false,0);
    EditField(h3,v,120," ",Normal,NPSenderWarehouse,false,NPWarehouseSClass);
    EditField(h1,v+=vs,190," ",Normal,NPContactSender,false,0);
    EditField(h2,v,100,"",Normal,NPSendersPhone,false,0);
    EditField(h3,v,120,"",ViewOnly,NPSenderWarehouseDesc,false,0);
    //EditField(h2,v,150,"",Normal,NPSenderAddress,false,0);
    StaticText(90,v+=40,":",true);
    if (CurrentUser=="SA") then begin
    	EditField(h1,v+=5,100,"",Normal,NPRecipientLastName,false,0);
    	EditField(h2-90,v,100,"",Normal,NPRecipientFirstName,false,0);
    	EditField(h3-90,v,100,"",Normal,NPRecipientMiddleName,false,0);
    	EditField(h1,v+=vs,100,"",Normal,NPCityRecipient,false,0);
    	EditField(h2,v,100," ",Normal,NPRecipientWarehouse,false,NPWarehouseSClass);
    	EditField(h3-90,v,200,"",Normal,NPRecipientWarehouseDesc,false,0);
    end else begin
    	EditField(h1,v+=5,100,"",ViewOnly,NPRecipientLastName,false,0);
    	EditField(h2-90,v,100,"",ViewOnly,NPRecipientFirstName,false,0);
    	EditField(h3-90,v,100,"",ViewOnly,NPRecipientMiddleName,false,0);
    	EditField(h1,v+=vs,100,"",ViewOnly,NPCityRecipient,false,0);
    	EditField(h2,v,100," ",ViewOnly,NPRecipientWarehouse,false,NPWarehouseSClass);
    	EditField(h3-90,v,200,"",ViewOnly,NPRecipientWarehouseDesc,false,0);
		end;
  // EditField(h3,v,150,"",Normal,NPRecipientAddress,false,0);
		h3 = 570;
  	EditField(h1,v+=30,120," ",Normal,NPCargoType,false,NPCargoTypeSClass);
  	EditField(h2,v,150," ",Normal,NPCargoDescription,false,NPDescripSClass);
  	EditField(h1,v+=vs,120,"",Normal,NPPayer,false,NPTypesOfPayersSClass);
  	EditField(h2,v,90," ",Normal,NPPaymentMethod,false,NPPaymentFormsSClass);
  	EditField(h3,v,100," ",Normal,NPServiceType,false,NPServiceTypesSClass);
		EditField(h2,v+=vs,90,".",ViewOnly,NPCost,false,0);
		EditField(h3,v,100,". . ",Normal,NPCostEdit,false,0);
  	//EditField(h3+20,v,100,".",Normal,NPCost,false,0);
    StaticText(110,v+=35," :",true);
   	EditField(h1,v+=5,120," ",Normal,NPBackDeliveryType,false,NPBackDelivCargoTypeSClass);
  	EditField(h2,v,100,"",Normal,NPBackDeliveryPayer,false,NPTypesOfPayersRedeliverySClass);
  	h3=600;
		EditField(h3,v,70," ",ViewOnly,NPCostCOD,false,0);
		EditField(h3,v+=vs,70,". . ",Normal,NPCostCODEdit,false,0);
		EditField(h1,v+=25,350,"",Normal,NPComment,false,0);


		Black_Divider(0,1);
  	h0=10; h1=70; h2 = 180; h3 = 260; h4=340; h5 = 450; h6 = 580;
  	StaticText(h1,v+=60,"",false);
  	StaticText(h2,v,"()",false);
  	StaticText(h3,v,"()",false);
  	StaticText(h4,v,"()",false);
  	StaticText(h5+15,v,"",false);
  	StaticText(h6+15,v,"()",false);

  	i=1;
  	EditField(h1,v+=vs-10,90,"",Normal,NPPackType1,false,StandBoxesSClass);
  	StaticText(h0,v+12,i,false);i=i+1;
  	EditField(h2,v,50,"",Normal,NPLength1,false,0);
  	EditField(h3,v,50,"",Normal,NPWidth1,false,0);
  	EditField(h4,v,50,"",Normal,NPHeight1,false,0);
  	EditField(h5,v,90,"",Normal,NPRowVolume1,false,0);
  	EditField(h6,v,90,"",Normal,NPRowWeight1,false,0);

  	EditField(h1,v+=vs,90,"",Normal,NPPackType2,false,StandBoxesSClass);
  	StaticText(h0,v+12,i,false);i=i+1;
  	EditField(h2,v,50,"",Normal,NPLength2,false,0);
  	EditField(h3,v,50,"",Normal,NPWidth2,false,0);
  	EditField(h4,v,50,"",Normal,NPHeight2,false,0);
  	EditField(h5,v,90,"",Normal,NPRowVolume2,false,0);
  	EditField(h6,v,90,"",Normal,NPRowWeight2,false,0);

  	EditField(h1,v+=vs,90,"",Normal,NPPackType3,false,StandBoxesSClass);
  	StaticText(h0,v+12,i,false);i=i+1;
  	EditField(h2,v,50,"",Normal,NPLength3,false,0);
  	EditField(h3,v,50,"",Normal,NPWidth3,false,0);
  	EditField(h4,v,50,"",Normal,NPHeight3,false,0);
  	EditField(h5,v,90,"",Normal,NPRowVolume3,false,0);
  	EditField(h6,v,90,"",Normal,NPRowWeight3,false,0);

  	EditField(h1,v+=vs,90,"",Normal,NPPackType4,false,StandBoxesSClass);
  	StaticText(h0,v+12,i,false);i=i+1;
  	EditField(h2,v,50,"",Normal,NPLength4,false,0);
  	EditField(h3,v,50,"",Normal,NPWidth4,false,0);
  	EditField(h4,v,50,"",Normal,NPHeight4,false,0);
  	EditField(h5,v,90,"",Normal,NPRowVolume4,false,0);
  	EditField(h6,v,90,"",Normal,NPRowWeight4,false,0);

  	EditField(h1,v+=vs,90,"",Normal,NPPackType5,false,StandBoxesSClass);
  	StaticText(h0,v+12,i,false);i=i+1;
  	EditField(h2,v,50,"",Normal,NPLength5,false,0);
  	EditField(h3,v,50,"",Normal,NPWidth5,false,0);
  	EditField(h4,v,50,"",Normal,NPHeight5,false,0);
  	EditField(h5,v,90,"",Normal,NPRowVolume5,false,0);
  	EditField(h6,v,90,"",Normal,NPRowWeight5,false,0);

  	EditField(h5,v+=vs,90,"",Normal,NPVolumeGeneral,false,0);
  	EditField(h6,v,90,"",Normal,NPWeight,false,0);

  	EditField(h1,v+=30,100," ",Normal,NPIntDocNumber,false,0);
  	EditField(h4,v,80," ",Normal,NPCostOnSite,false,0);
 		CheckBox(h6,v,0," ",NPPrinted);
		EditField(h1,v+=vs,200,"",Normal,NPStatus,false,0);


  if (GuiType==kGuiMetro) then begin // Temporarily disabled on Windows 8
    SpecialMenu(" ",'I',2,"ItemStatusSHDsm");
    if (HasModNL) then begin
      SpecialMenu("  ",'t',3,"OpenTRFromSH");
    end;
    SpecialMenu("  ",'l',0,"PrintSHLabSHDsm");
    if (IsEnterprise or HasLocalization("PRT") or IsSberbankProduct) then begin
      SpecialMenu("  ",'B',5,"RetFromSHSpec");
    end;
  end else begin
  SpecialMenu("  ",'l',0,"PrintSHLabSHDsm");
  if (IsEnterprise) then begin
    SpecialMenu(" ",'w',1,"SHCalcWeightDsm");
  end;
  SpecialMenu(" ",'I',2,"ItemStatusSHDsm");
  if (HasModNL) then begin
    SpecialMenu("  ",'t',3,"OpenTRFromSH");
  end;
  if (HasLocalization("SWE")) then begin
    SpecialMenu(" ASG",' ',4,"ASGEnSHDsm"); /* Specific for Sweden */
  end;
  if (HasLocalization("NOR")) then begin
    SpecialMenu("Winedi Export",' ',4,"WinEDIEnSHDsm"); /* Specific for Norway */
  end;
  if (IsEnterprise or HasLocalization("PRT")) then begin
    SpecialMenu("  ",'B',5,"RetFromSHSpec");
  end;
  if (HasLocalization("PRT")) then begin
    if (HasETaxDocuments) then begin
    SpecialMenu("Send to Tax Authorities",'',10,"EShipPRTDsm");  //tax authorities server is down
    end;
  end;
  if (IsEnterprise) then begin
    SpecialMenu("   ",' ',6,"INBatchSHSpec");
    if (StandardHansa==false) then begin
      SpecialMenu(" ",' ',7,"SplitRowSHDsm");
    end;
  end;
  if (HasModWHM) then begin
    SpecialMenu("  ",' ',8,"OKStockMovSHrDsm");
    SpecialMenu("   ",' ',9,"PickingListDsm");
  end;
//  SpecialMenu("Calculate Manually",' ',10,"CalcSHMan"); /* Specific for one customer in Portugal, you may comment it out */
  if (IsEnterprise) then begin
    if (StandardHansa==false) then begin
      SpecialMenu("  ",' ',9,"EShipRegisterDsm");
    end;
    if (GuiType==kGuiiPhone) then begin
      SpecialMenu("",' ',10,"SignSHDsm");
    end;
  end;
  SpecialMenu("   ",'f',1,"TableSearchAdditionDsm"); // edit ----------Dima 12.01.2015
  SpecialMenu("   .  . ",'',1,"OrderedToShipSHDsm"); //Edit***************************Sasha2,15:22 27.01.2015
  SpecialMenu(" -",'',1,"ShowPackListSHDsm");
  SpecialMenu("/   ",'',1,"NPCreateENDsm");
  SpecialMenu("   ",'',1,"NPPrintENDsm");
  SpecialMenu("    ",'',1,"NPPrintMarkENDsm");
  SpecialMenu("    ",'',1,"NPDeleteENDsm");
  SpecialMenu(" :   ",'',1,"NPGetDocStatusDsm");
  SpecialMenu("  ",'',1,"NPSendSMSDsm");	//Edit----------------------Dima  30.06.2015
  end;
  EndWindow;
end;

window SDDClass:1
  wtag("language","RUS"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer")
begin
  real h,h2,h3,h4,v,vm,vs;
  Integer f,flipnr;

  WindowBegin("  ",SDDClass,CGview,-);
  SetWRect(20,80,560,350);
  Sizeable(-1,-1,0,0);
  FormName(SDForm);
  UseView(SDVc);
  ActiveFieldOnNew("TransDate");
  if (IsEnterprise) then begin
    Tile(0,110,false,"",TransDate);
  end;
  vs = 20; h2 = 260; h3 = 430; h4 = 580;
  EditField(h=80,v=6, 82,"",Normal,SerNr,false,TSerSClass);
  EditField(h2,v,82," ",Normal,TransDate,false,PasteCurDate);
  if (IsEnterprise) then begin
    EditField(h3,v,100,"",Normal,Reason,false,StandProblemsSClass);
    CheckBox(h4,v,0,"OK",OKFlag);
  end;
  if (IsEnterprise) then begin
    EditField(h,v+=vs,82," .",Normal,CostAcc,false,AccSClass);
    EditField(h2,v,82,"",Normal,SDClass,false,OrderClassSClass);
    EditField(h3,v,100,"",Normal,RefStr,false,0);
    v = v + vs;
  end else begin
    if (HasModNL) then begin
      EditField(h3,v,82," ",Normal,CostAcc,false,AccSClass);
    end;
    CheckBox(h4,v,0,"OK",OKFlag);
    v = v + vs;
  end;
  if (HasMultiLocations) then begin
    EditField(h,v,82,"",Normal,Location,false,LocationSClass);
  end;

  if (HasAdvancedAccounting) then begin
    EditField(h2,v,82,". ",Normal,ACShort,false,ACShortSClass);
  end;
  if (HasModTS) then begin
    EditField(h3,v,100,"",Normal,PRCode,false,PRSClass);
  end;
  if (CurrentUser=="SAUNOK") then begin
  	EditField(h4,v,100,"LocOKNr",Normal,LocOKNr,false,0);//Edit----------------------Dima  21.01.2016
  end;
  if (HasObjects) then begin
    EditField(h,v+=vs,260,"",Normal,Objects,false,ObjSClass);
  end;
  EditField(h3,v,82," ",Normal,SalesGroup,false,SalesGroupSClass);
  EnterSkip(Math);
//  CheckBox(450,6,0,"OK",OKFlag);
  if (IsEnterprise) then begin
    TileButton(1,"");
    if (StandardHansa==false) then begin
      TileButton(2,"");
    end;
    Tile(1,200,true,"1",Math);
  end;
  if (IsEnterprise) then begin
    v = 24;
    vm = v + 1;
    MatrixBegin(4,v,-50,-35,-,200);
  end else begin
    MatrixBegin(4,v+=40,-40,-25,-,99);
  end;
  Flip(0);
  if (HasJewelleryInterface) then begin
    MatCol(1,24," ",0,SerialNr,false,SerialNrSClass);
    EnterSkip(Quant);
    MatCol(1,130,"",0,ArtCode,false,INSClass);
    if (HasVarieties) then begin
      MatCol(1,192,"-",0,Qty,true,MATVARINSClass);
    end else begin
      MatCol(1,192,"-",0,Qty,true,0);
    end;
    MatCol(1,254,"",0,Spec,false,0);
  end else begin
    MatCol(1,32,"",0,ArtCode,false,INSClass);
//  MatCol(1,94,"Var",0,VARList,false,VARSClass);
//  MatCol(1,144,"Qty",0,Qty,true,0);
    if (HasVarieties) then begin
      MatCol(1,94,"-",0,Qty,true,MATVARINSClass);
    end else begin
      MatCol(1,94,"-",0,Qty,true,0);
    end;
    MatCol(1,154,"",0,Spec,false,0);
  end;
  flipnr = 1;
  Flip(flipnr); flipnr = flipnr + 1;
  if (HasJewelleryInterface==false) and (HasSerialNumbers) then begin
    MatCol(1,-280," ",0,SerialNr,false,SerialNrSClass);
  end;
  if (HasMultiLocations) then begin
    MatCol(1,-160,".",0,Location,false,LocationSClass);
  end;
  if (HasPositions) then begin
    MatCol(1,-100,"",0,PosCode,false,UsedPosSClass);
  end;
  if (IsEnterprise) then begin
    MatCol(1,-40,".",0,Coefficient,false,0);
    Flip(flipnr); flipnr = flipnr + 1;
    MatCol(1,-270,". ",0,ACShort,false,ACShortSClass);
    MatCol(1,-200," .",0,CostAcc,false,AccSClass);
    MatCol(1,-100,"",0,Objects,false,ObjSClass);
    Flip(flipnr); flipnr = flipnr + 1;
    if (UserCanAction("ViewCostPrice",true)) then begin //Edit***************************Sasha2,10:28 10.11.2014 {
    	MatCol(1,-210,"FIFO",0,FIFO,true,0);
    	MatCol(1,-125,"FIFO  .",0,FIFORowVal,true,0);
    end; //Edit***************************Sasha2,10:28 10.11.2014 }
    MatCol(1,-40,".",0,Coefficient,true,0);
    Flip(flipnr); flipnr = flipnr + 1;
    MatCol(1,-240,"",0,Recepy,false,RecSClass);
    if (StandardHansa==false) then begin
      MatCol(1,-180,"",0,PRCodeRow,false,PRSClass);
    end;

    MatCol(1,-120,". ",0,BasePrice,true,0);

    MatCol(1,-40,".",0,Coefficient,false,0);
    Flip(flipnr); flipnr = flipnr + 1;
    MatCol(1,-140,"",0,UnitXval,true,0);
    MatCol(1,-95,"",0,UnitYval,true,0);
    MatCol(1,-50,"",0,UnitZval,true,0);
  end else begin
    if (HasModNL) then begin
      MatCol(1,-200," -",0,CostAcc,false,AccSClass);
    end;
    if (UserCanAction("ViewCostPrice",true)) then begin
    	MatCol(1,-100,"- .",0,FIFO,true,0); //Edit***************************Sasha2,10:29 10.11.2014
    end;
  end;
  InsertRowTest;
  DeleteRowTest;
  EndMatrix;
  vs = 22;
  v = vm;/* 28 */
  if (flipnr>2) then begin
    for (f=1;f<flipnr;f=f+1) begin
      VTab(-35,v,-16,v+vs,ToolFlip,f,chr(asc("A") + f - 1));
      v = v + vs;
    end;
  end;
//  CheckBox(20,-20,0,"OK",OKFlag);
  EditField(h=150,-20,70,". -",ViewOnly,TotQty,false,0);
  EditField(h=290,-20,-40,".",Normal,Comment,false,0);
  if (HasApprovals) then begin
    Tile(2,200,true,"1",AcceptanceStatus);
    ButtonFrame(h3=-163,v=16,123,6," ");
    RadioButton(h3,v,kAcceptanceStateNotRequired,0," ",AcceptanceStatus);
    RadioButton(h3,v+=16,kAcceptanceStateNotStarted,0," ",AcceptanceStatus);
    RadioButton(h3,v+=16,kAcceptanceStateNotRequested,0," ",AcceptanceStatus);
    RadioButton(h3,v+=16,kAcceptanceStatePending,0," ",AcceptanceStatus);
    RadioButton(h3,v+=16,kAcceptanceStateApproved,0,"",AcceptanceStatus);
    RadioButton(h3,v+=16,kAcceptanceStateRejected,0,"",AcceptanceStatus);
  end;
  SpecialMenu(" ",'I',0,"ItemStatusSDDsm");
  if (HasAdvancedStock) then begin
    SpecialMenu("   ",'r',4,"SDStatusDsm");
  end;
  if (HasApprovals) then begin
    SpecialMenu("  ",' ',1,"SDSendforAcceptanceSDDsm");
    SpecialMenu("   ",' ',2,"CancelApprovalRequestDsm");
  end;
  if (HasModNL) then begin
    SpecialMenu("  ",'t',1,"OpenTRFromSD");
  end;
  if (HasQualityControl) then begin
    if (StandardHansa==false) then begin
      SpecialMenu(" ",'u',2,"QualConFromSDDsm");
    end;
  end;
  SpecialMenu(" ",'f',1,"ItemSearchDsm");
  EndWindow;
end;

window StockMovDClass:1
  wtag("language","RUS"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer")
begin
  real h,h1,h2,h3,h4,v,vm,vs;
  Integer tilenr,f,flipnr,t;
  integer sQuant,sSentQuant;
  integer editability;
  record LogisticsBlock Logisticsb;	//Edit----------------------Dima  25.01.2016
  
  BlockLoad(Logisticsb);
  
  if (Logisticsb.AllowChangeFields!=0) then begin
		editability = Normal;
	end else begin
		editability = ViewOnly;
	end;

  sSentQuant = 3;	//Edit----------------------Dima  23.02.2015
  sQuant = 2;//    

  WindowBegin("  ",StockMovDClass,CGview,-);
  DynamicWindow;
  if (HasJewelleryInterface) then begin
    SetWRect(20,80,850,400);
  end else begin
    SetWRect(20,80,700,400);
  end;
  Sizeable(-1,-1,0,0);
  UseView(StockMovVc);
  ActiveFieldOnNew("SentTransDate");
  Tile(0,100,false,"",TransDate);
  v = 6; vs = 20; h = 110; h2 = 300; h3 = 500; h4 = 620;
  EditField(h,v,80, "",Normal,SerNr,false,TSerSClass);
  CheckBox(h2,v,0,"",Reserved);
  EditField(h3,v,80,"",Normal,Reason,false,StandProblemsSClass);
  EditField(h,v+=vs,80," ",Normal,OrdTransDate,false,PasteCurDate);
  if (HasMultiLocations) then begin
    if (IsEnterprise) then begin
  EditField(h2,v,80," ",Normal,SentTransDate,false,PasteCurDate);
    end;
  end;
  EditField(h3,v,80," ",Normal,TransDate,false,PasteCurDate);
  if (HasMultiLocations) then begin
    EditField(h,v+=vs,80, " ",Normal,FrLocation,false,LocationSClass);
    if (IsEnterprise) then begin
    EditField(h2,v,80," ",Normal,ThrouLocation,false,LocationSClass);
    end;
    EditField(h3,v,80," ",Normal,ToLocation,false,LocationSClass);
  end;
  CheckBox(h3-100,v=v+vs,0,"  ",MoveIncludingReserve);//Edit----------------------Dima  18.06.2015
  tilenr = 1;
  if (HasPositions or HasModWHM or HasLocalization("PRT")) then begin
    TileButton(tilenr,""); tilenr = tilenr + 1;
  end;
  if (HasObjects) then begin
    TileButton(tilenr,""); tilenr = tilenr + 1;
  end else begin
    TileButton(tilenr,"."); tilenr = tilenr + 1;
  end;
  TileButton(tilenr,""); tilenr = tilenr + 1;
  if (HasMultiCurrency or HasBase2) then begin
    TileButton(tilenr,""); tilenr = tilenr + 1;
  end;
  TileButton(tilenr,"-"); tilenr = tilenr + 1;
  TileButton(tilenr,""); tilenr = tilenr + 1;
  TileButton(tilenr,""); tilenr = tilenr + 1;
  tilenr = 1;
  if (HasPositions or HasModWHM or HasLocalization("PRT")) then begin
    Tile(tilenr,60,false,tilenr,FrPos); tilenr = tilenr + 1;
    v = 6;
    if (HasPositions) then begin
    	//EditField(h,v,80, " ",Normal,FrPos,false,UsedPosSClass);
      EditField(h,v,80, " ",Normal,FrPos,false,PosSClass);
      //EditField(h2,v,80," ",Normal,ToPos,false,FreePosSClass);// Edit ************************** Tuesday, 17 March 2015 17:17:35
      EditField(h2,v,80," ",Normal,ToPos,false,PosSClass);// Edit ************************** Tuesday, 17 March 2015 17:17:36
    end;
    if (HasModProd) then begin
      EditField(h3,v,80," ",Normal,ProdSerNr,false,ProdSClass); v = v + vs;
      EditField(h3,v,150,"",Normal,Sorting,false,DelRouteSClass); v = v + vs;
    end;
    if ((HasLocalization("PRT") and HasModIN and HasMultiLocations) or IsStandardProduct==false) then begin
      EditField(h3,v,150,"",Normal,StockMovType,false,SetSClass); v = v + vs;
    end;
    if (HasModWHM) then begin
      v = 6 + vs;
      CheckBox(h+120,v,0,"",ManualPick);
      CheckBox(h+120,v+=16,0,"   ",ToForkLiftQue);
    end;
  end;
  EditField(h,v,80," ",Normal,SalesGroup,false,SalesGroupSClass);
  Tile(tilenr,70,false,tilenr,Comment); tilenr = tilenr + 1;
  v = 6;
  if (HasObjects) then begin
    EditField(h,v,-20,"",Normal,Objects,false,ObjSClass);
    v = v + vs;
  end;
  EditField(h,v,-20,".",Normal,Comment,false,0);
  EditField(h,v+=vs,135,". . ",Normal,OfficialSerNr,false,LegalInvNrSClass);
  EnterSkip(Math);
  Tile(tilenr,79,true,tilenr,Math); tilenr = tilenr + 1;
  v = 24;
  MatrixBegin(4,v,-50,-50,-,2000);
	MatTypedRow(stp);
  Flip(0);
  flipnr = 1;
	t=0;

/*  if (HasJewelleryInterface) then begin			//Edit----------------------Dima  23.02.2015
    MatCol(1,32," ",0,SerialNr,false,SerialNrSClass);
    EnterSkip(Quant);
    MatCol(1,130,"",0,ArtCode,false,INSClass);
    Flip(flipnr); flipnr = flipnr + 1;
    if (HasVarieties) then begin
      MatCol(1,200,". -",0,OrdQuant,true,MATVARINSClass);
    end else begin
      MatCol(1,200,". -",0,OrdQuant,true,0);
    end;
    MatCol(1,300,". -",0,SentQuant,true,0);
    MatCol(1,350,". -",0,Quant,true,0);
    MatCol(1,400,"",0,Spec,false,0);
  end else begin
*/

  //MatCol(t=0,32,"",0,ArtCode,false,INSClass);	//Edit----------------------Dima  23.02.2015
  // ,  -  .  Flip(0),   t=0,1.     //Edit----------------------Dima  23.02.2015
	//--.-.-.-.-.--.-.-.-.-.---------------------------------------------------------------------------------------------------
    Flip(flipnr);  flipnr = flipnr + 1;
t=0;
		MatCol(t,32,"",0,ArtCode,false,INSClass);
    if (HasVarieties) then begin
      MatCol(t,86,"..",0,OrdQuant,true,MATVARINSClass);
      MatCol(t,140," ",0,FromQuant,true,0);	// Edit by Victor 13.01.15
    end else begin
      MatCol(t,86,"..",0,OrdQuant,true,0);
      MatCol(t,140," ",0,FromQuant,true,0);// Edit by Victor 13.01.15
    end;
    MatCol(t,200,"..",0,SentQuant,true,0);
    MatCol(t,260,"..",0,Quant,true,0);
    MatCol(t,320," ",0,ToQuant,true,0);// Edit by Victor 13.01.15
    MatCol(t,375,"",0,Spec,false,0);
t=1;
		MatCol(t,32,"",0,ArtCode,false,INSClass);
    if (HasVarieties) then begin
      MatCol(t,86,"..",0,OrdQuant,true,MATVARINSClass);
      MatCol(t,140," ",0,FromQuant,true,0);	// Edit by Victor 13.01.15
    end else begin
      MatCol(t,86,"..",0,OrdQuant,true,0);
      MatCol(t,140," ",0,FromQuant,true,0);// Edit by Victor 13.01.15
    end;
    MatCol(t,200,"..",0,SentQuant,true,0);
    MatCol(t,260,"..",0,Quant,true,0);
    MatCol(t,320," ",0,ToQuant,true,0);// Edit by Victor 13.01.15
    MatCol(t,375,"",0,Spec,false,0);
t=sQuant;//Edit----------------------Dima  23.02.2015
		MatCol(t,32,"",0,ArtCode,false,INSClass);

    if (HasVarieties) then begin
      MatCol(t,86,"..",0,OrdQuant,true,MATVARINSClass);
      MatCol(t,140," ",0,FromQuant,true,0);	// Edit by Victor 13.01.15
    end else begin
      MatCol(t,86,"..",0,OrdQuant,true,0);
      MatCol(t,140," ",0,FromQuant,true,0);// Edit by Victor 13.01.15
    end;
    MatCol(t,200,"..",0,SentQuant,true,0);
    MatCol(t,245,"..",0,Quant,true,0);
    MatCol(t,320," ",0,ToQuant,true,0);// Edit by Victor 13.01.15
    MatCol(t,375,"",0,Spec,false,0);
t=sSentQuant;//Edit----------------------Dima  23.02.2015
		MatCol(t,32,"",0,ArtCode,false,INSClass);

    if (HasVarieties) then begin
      MatCol(t,86,"..",0,OrdQuant,true,MATVARINSClass);
      MatCol(t,140," ",0,FromQuant,true,0);	// Edit by Victor 13.01.15
    end else begin
      MatCol(t,86,"..",0,OrdQuant,true,0);
      MatCol(t,140," ",0,FromQuant,true,0);// Edit by Victor 13.01.15
    end;
    MatCol(t,185,"..",0,SentQuant,true,0);
    MatCol(t,260,"..",0,Quant,true,0);
    MatCol(t,320," ",0,ToQuant,true,0);// Edit by Victor 13.01.15
    MatCol(t,375,"",0,Spec,false,0);

  /*if (UserCanAction("ViewCostPrice",true)) then begin //Edit***************************Sasha2,10:34 10.11.2014 {
  	MatCol(1,-260," ",0,OldPrice,true,0);
  	MatCol(1,-160,". .",0,ExtraSCost,true,0);
  	MatCol(1,-80," ",0,NewPrice,true,0);
  end;*/ //Edit***************************Sasha2,10:34 10.11.2014 }

  Flip(flipnr); flipnr = flipnr + 1;
t=0;
	MatCol(t,32,"",0,ArtCode,false,INSClass);
  if (HasVarieties) then begin
    MatCol(t,86,"..",0,OrdQuant,true,MATVARINSClass);
  end else begin
    MatCol(t,86,"..",0,OrdQuant,true,0);
  end;
  MatCol(t,148,"..",0,SentQuant,true,0);
  MatCol(t,210,"..",0,Quant,true,0);
  MatCol(t,272,"",0,Spec,false,0);
  if (UserCanAction("ViewCostPrice",true)) then begin //Edit***************************Sasha2,10:34 10.11.2014
  	MatCol(t,-260," ",0,SentOldPrice,true,0);
  	MatCol(t,-160,". .",0,SentExtraSCost,true,0);
  	MatCol(t,-80," ",0,SentNewPrice,true,0);
  end; //Edit***************************Sasha2,10:35 10.11.2014
t=1;
	MatCol(t,32,"",0,ArtCode,false,INSClass);
  if (HasVarieties) then begin
    MatCol(t,86,"..",0,OrdQuant,true,MATVARINSClass);
  end else begin
    MatCol(t,86,"..",0,OrdQuant,true,0);
  end;
  MatCol(t,148,"..",0,SentQuant,true,0);
  MatCol(t,210,"..",0,Quant,true,0);
  MatCol(t,272,"",0,Spec,false,0);
  if (UserCanAction("ViewCostPrice",true)) then begin //Edit***************************Sasha2,10:34 10.11.2014
  	MatCol(t,-250," ",0,SentOldPrice,true,0);
  	MatCol(t,-200,"OldPrice",0,OldPrice,true,0);
  	//MatCol(t,-160,". .",0,SentExtraSCost,true,0);
  	MatCol(t,-150,"NewPrice",0,NewPrice,true,0);
  	MatCol(t,-100," ",0,SentNewPrice,true,0);
  	MatCol(t,-50,"FIFORow",0,FIFORowVal,true,0);
  end; //Edit***************************Sasha2,10:35 10.11.2014

t=0;
  Flip(flipnr); flipnr = flipnr + 1;
  MatCol(t,32,"",0,ArtCode,false,INSClass);
  MatCol(t,86,"",0,Spec,false,0);
  if (HasObjects) then begin
    MatCol(t,-380,"",0,Objects,false,ObjSClass);
  end;
  if (HasSerialNumbers) then begin
    MatCol(t,-280," ",0,SerialNr,false,SerialNrSClass);
  end;
  MatCol(t,-140,". ",0,BasePrice,true,0);
  MatCol(t,-40,".",0,Coefficient,false,0);
t=1;
	MatCol(t,32,"",0,ArtCode,false,INSClass);
  MatCol(t,86,"",0,Spec,false,0);
  if (HasObjects) then begin
    MatCol(t,-380,"",0,Objects,false,ObjSClass);
  end;
  if (HasSerialNumbers) then begin
    MatCol(t,-280," ",0,SerialNr,false,SerialNrSClass);
  end;
  MatCol(t,-140,". ",0,BasePrice,true,0);
  MatCol(t,-40,".",0,Coefficient,false,0);

t=0;
  Flip(flipnr); flipnr = flipnr + 1;
  MatCol(t,32,"",0,ArtCode,false,INSClass);
  MatCol(t,86,"",0,Spec,false,0);
  /*if (HasSerialNumbers) then begin //Edit***************************Sasha2,11:25 11.02.2015
    MatCol(t,-320," ",0,SerialNr,false,SerialNrSClass);
  end;*/
  MatCol(t,-385,".",0,PrintQuant,false,0); //Edit***************************Sasha2,11:26 11.02.2015
  MatColTL(t,-320,"",0,-1,ViewOnly,0,BarCode,false,0); //Edit***************************Sasha2,11:24 11.02.2015
  MatCol(t,-200,"..",0,OrdQuant,true,0); //Edit***************************Sasha2,14:24 09.02.2015
  MatCol(t,-140,"",0,Volume,true,0); //Edit***************************Sasha2,13:48 09.02.2015
  MatCol(t,-70,"",0,Weight,true,0); //Edit***************************Sasha2,13:48 09.02.2015
  /*MatCol(t,-135,"",0,UnitXval,true,0);
  MatCol(t,-90,"",0,UnitYval,true,0);
  MatCol(t,-45,"",0,UnitZval,true,0);*/ //Edit***************************Sasha2,13:48 09.02.2015
t=1;
  MatCol(t,32,"",0,ArtCode,false,INSClass);
  MatCol(t,86,"",0,Spec,false,0);
  MatCol(t,-385,".",0,PrintQuant,false,0); //Edit***************************Sasha2,11:26 11.02.2015
  MatColTL(t,-320,"",0,-1,ViewOnly,0,BarCode,false,0); //Edit***************************Sasha2,11:24 11.02.2015
  MatCol(t,-200,"..",0,OrdQuant,true,0); //Edit***************************Sasha2,14:24 09.02.2015
  MatCol(t,-140,"",0,Volume,true,0); //Edit***************************Sasha2,13:48 09.02.2015
  MatCol(t,-70,"",0,Weight,true,0); //Edit***************************Sasha2,13:48 09.02.2015


  if (HasPositions) then begin
    Flip(flipnr); flipnr = flipnr + 1;
t=0;
    MatCol(t,32,"",0,ArtCode,false,INSClass);
    MatCol(t,86,"",0,Spec,false,0);
    MatCol(t,-180," ",0,FrPosCode,false,UsedPosSClass);
    MatCol(t,-90," ",0,ToPosCode,false,FreePosSClass);
t=1;    //Edit----------------------Dima  25.02.2015
    MatCol(t,32,"",0,ArtCode,false,INSClass);
    MatCol(t,86,"",0,Spec,false,0);
    MatCol(t,-180," ",0,FrPosCode,false,UsedPosSClass);
    MatCol(t,-90," ",0,ToPosCode,false,FreePosSClass);
  end;


  	Flip(flipnr); flipnr = flipnr + 1;//Edit----------------------Dima 18.08.2015
t=0;
    MatCol(t,32,"",0,ArtCode,false,INSClass);
    MatCol(t,86,"",0,Spec,false,0);
    MatColTL(t,-230," ",0,M4UVal,editability,0,OrderProcessing,false,0);
    MatColTL(t,-130," ",0,M4Long,editability,0,ORSerial,false,0);
    //MatColTL(t,-40,"UID",0,M4UVal,editability,0,ORRowUID,false,0);
t=1;
    MatCol(t,32,"",0,ArtCode,false,INSClass);
    MatCol(t,86,"",0,Spec,false,0);
    MatColTL(t,-230," ",0,M4UVal,editability,0,OrderProcessing,false,0);
    MatColTL(t,-130," ",0,M4Long,editability,0,ORSerial,false,0);
    //MatColTL(t,-40,"UID",0,M4UVal,editability,0,ORRowUID,false,0);

  DeleteRowTest;
  EndMatrix;

  vs = 20;
  v = 18;
  if (flipnr>2) then begin
    for (f=1;f<flipnr;f=f+1) begin
      VTab(-35,v,-16,v+vs,ToolFlip,f,chr(asc("A") + f - 1));
      v = v + vs;
    end;
  end;
  CheckBox(20,-52,0,"",OrdFlag);
  CheckBox(20,-36,0,"",SentOKFlag);
  CheckBox(20,-20,0,"",OKFlag);
  EditField(170,-20,62,". -",Normal,TotSentQty,true,0);
  EditField(310,-20,62,". -",Normal,TotQty,true,0);
  if (HasLocalization("PRT")) then begin
    EditField(550,-40,150,"Tax Auth. Approval",Normal,TaxAdminServSeal,false,0);
//    SoftEditField(550,-40,150,"Tax Auth. Approval",Normal,"TaxAdminServSeal",false,0,M4Str,200);
  end;
  EditField(550,-60,100,"",ViewOnly,TotVolume,true,0); //Edit***************************Sasha2,13:50 09.02.2015
  EditField(550,-40,100,"",ViewOnly,TotWeight,true,0); //Edit***************************Sasha2,13:50 09.02.2015
  
  if (CurrentUser=="SAUNOK") then begin						//Edit----------------------Dima  21.01.2016
		EditField(200,-60,100,"FrLocOKNr",Normal,FrLocOKNr,true,0);
		EditField(400,-60,100,"ToLocOKNr",Normal,ToLocOKNr,true,0);
		EditField(200,-40,100,"FrThrouLocOKNr",Normal,FrThrouLocOKNr,true,0);
		EditField(400,-40,100,"ToThrouLocOKNr",Normal,ToThrouLocOKNr,true,0);		
	end;  
  
  EditField(550,-20,100,".  ",Normal,OtherExtraCosts,false,0);
  if (HasMultiCurrency or HasBase2) then begin
    Tile(tilenr,70,false,tilenr,FrRate); tilenr = tilenr + 1;
    h1 = 110; vs = 20;
    if (HasBase2) then begin
      h1 = h1 + 20;
    end;
    EditField(h1,v=6,50,"",Normal,CurncyCode,false,CurncyCodeSClass);
    if (HasMultiCurrency) then begin
      if (HasBase2) then begin
        EditField(h1,v+vs,50,".  1",Normal,BaseRate1,true,0);
      end else begin
        EditField(h1,v+vs,50,". ",Normal,BaseRate1,true,0);
      end;
      if (HasBase2) then begin
        EditField(h1,v+(vs*2),50,".  2",Normal,BaseRate2,true,0);
      end;
      EditField(h2=295,v,50,"",Normal,FrRate,true,0);
      if (HasBase2) then begin
        RateField(h3=360,v,50,":",Normal,"ToRateB1",true,h3+60,v+14,".  1",false);
        RateField(h3,v+=vs,50,":",Normal,"ToRateB2",true,h3+60,v+14,".  2",false);
      end else begin
        RateField(h3=360,v,50,":",Normal,"ToRateB1",true,h3+60,v+14,". ",false);
      end;
    end else begin
      EditField(h1,v+=vs,50,".  1",Normal,BaseRate1,true,0);
      EditField(h1,v+=vs,50,".  2",Normal,BaseRate2,true,0);
    end;
  end;
  Tile(tilenr,110,false,tilenr,PlanSendDate); tilenr = tilenr + 1;
  vs = 20; h1 = 130; h2 = 330; h3 = 560;
  EditField(h,v=6,80,".  .",Normal,PlanSendDate,false,PasteCurDate);
  EnterSkip(PlanSendTime);
  if (HasLocalization("PRT")==false or IsStandardProduct==false) then begin
  	EditField(h2,v,40,". ., ",ViewOnly,PlanDurationDays,false,0);
  end;
  EditField(h,v+=vs,80,".  .",Normal,PlanSendTime,false,PasteCurTime);
  EnterSkip(PlanArrDate);
  if (HasLocalization("PRT")==false or IsStandardProduct==false) then begin
  	EditField(h2,v,80,". ., ",ViewOnly,PlanDurationTime,false,0);
  end;
  EditField(h3,v=6,80,".  ",Normal,PlanArrDate,false,PasteCurDate);
  EditField(h3,v+=vs,80,".  ",Normal,PlanArrTime,false,PasteCurTime);
  if (HasLocalization("PRT")==false or IsStandardProduct==false) then begin
  	EditField(h,vm=(v+=32),80,".  .",Normal,ActSendDate,false,PasteCurDate);
  	EnterSkip(ActSendTime);
  	EditField(h2,v,40,". ., ",ViewOnly,ActDurationDays,false,0);
  	EditField(h,v+=vs,80,"  .",Normal,ActSendTime,false,PasteCurTime);
  	EnterSkip(ActArrDate);
  	EditField(h2,v,80,". ., ",ViewOnly,ActDurationTime,false,0);
  	EditField(h3,v=vm,80,".  ",Normal,ActArrDate,false,PasteCurDate);
  	EditField(h3,v+=vs,80,".  ",Normal,ActArrTime,false,PasteCurTime);
  end;
  Tile(tilenr,110,false,tilenr,FreightCode); tilenr = tilenr + 1;
  vs = 20; h2 = 255;
  EditField(h=130,v=6,60,". ",Normal,FreightCode,false,FreightCompanySClass);
  EditField(h2,v,-40,"",Normal,FreightCompanyRegNr,false,0);
  EditField(h,v+=vs,-40,"",Normal,FreightCompany,false,0);
  EditField(h,v+=vs,-40,"-  ",Normal,TruckInfo,false,0);
  EditField(h,v+=vs,-40,"",Normal,Driver,false,0);
  EditField(h,v+=vs,-40,"",Normal,CMRText,false,0);
  if (HasNumberSeries and HasLocalization("PRT")) then begin
    if (HasOfficialSerNr) then begin
      EditField(h,v+=vs,100,"Official Ser No. 2",Normal,OfficialSerNr2,false,0);
      EditField(h2+100,v,135,"Status",Normal,Status,false,SetSClass);
    end;
  end;
  Tile(tilenr,200,false,tilenr,FrAddr0); tilenr = tilenr + 1;
  vs = 20; h2 = 255;
  EditField(h=130,v=6,-40,"C ",Normal,FrAddr0,false,0);
  EditField(h,v+=vs,-40,"",Normal,FrAddr1,false,0);
  EditField(h,v+=vs,-40,"",Normal,FrAddr2,false,0);
  EditField(h,v+=vs,-40,"",Normal,FrAddr3,false,0);
  EditField(h,v+=vs,-40,"",Normal,FrAddr4,false,0);
  EditField(h,v+=vs,-40," ",Normal,ThrouAddr0,false,0);
  EditField(h,v+=vs,-40,"",Normal,ThrouAddr1,false,0);
  EditField(h,v+=vs,-40,"",Normal,ThrouAddr2,false,0);
  EditField(h,v+=vs,-40,"",Normal,ThrouAddr3,false,0);
  EditField(h,v+=vs,-40,"",Normal,ThrouAddr4,false,0);
  EditField(h,v+=vs,-40," ",Normal,ToAddr0,false,0);
  EditField(h,v+=vs,-40,"",Normal,ToAddr1,false,0);
  EditField(h,v+=vs,-40,"",Normal,ToAddr2,false,0);
  EditField(h,v+=vs,-40,"",Normal,ToAddr3,false,0);
  EditField(h,v+=vs,-40,"",Normal,ToAddr4,false,0);
  SpecialMenu("     ",'=',0,"StockMovFillFIFODsm");
  SpecialMenu(" ",'I',1,"ItemStatusStockMovDsm");
  SpecialMenu("   ",'f',1,"TableSearchAddition2Dsm");	//Edit-------Dima  13.01.2015
  if (HasModNL) then begin
    SpecialMenu("   ",' ',2,"OpenTRFromStockMovSent");
    SpecialMenu("   ",'t',3,"OpenTRFromStockMov");
  end;
  if (HasQualityControl) then begin
    SpecialMenu(" ",'u',2,"QualConFromStockMovDsm");
  end;
  if (HasLocalization("PRT")) then begin
    if (HasETaxDocuments) then begin
      SpecialMenu("Send to Tax Authorities",'',10,"EShipPRTDsm");
    end;
  end;
   SpecialMenu("    ",'',1,"ExportToExcelStockMovDsm"); // edit ----------Dima 26.11.2014
  //SpecialMenu(" EAN13  5*13",'',1,"PrintEAN13StockMovDsm"); //Edit***************************Sasha2,12:04 11.02.2015
  SpecialMenu(" EAN13  5*13",'',1,"PrintLabelEANDsm");
	SpecialMenu("   ",'',20,"TableSortStockMov_ByCodeDsm"); 	//Edit----------------------Dima  11.02.2015
	SpecialMenu("   ",'',20,"TableSortStockMov_ByNameDsm"); 	//Edit----------------------Dima  11.02.2015
	if (CurrentUser=="SA" or CurrentUser=="SA1") then begin
	  SpecialMenu("     ",'',20,"StockMovMismatchDsm"); //Edit***************************Sasha2,10:28 29.04.2016
	end;
  EndWindow;
end;

window RetDClass:1
  wtag("language","RUS"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer")
begin
  real h,h1,h2,h3,h4,v,vm,vs;
  WindowBegin("   ",RetDClass,CGview,-);
  SetWRect(20,80,750,460);
  Sizeable(-1,-1,0,0);
  UseView(RetVc);
  ActiveFieldOnNew("CustCode");
  Tile(0,74,false,"",TransDate);
  v = 6; vs = 20;
  EditField(75,vm=(v=6),95,".",Normal,SerNr,false,TSerSClass);
  EditField(75,v+=20,95,"",Normal,CustCode,false,CUSClass);
  EditField(h=275,v=vm,-40,".",Normal,CustName,false,0);
  if (HasOfficialSerNr) then begin
    EditField(h,vm=(v+=20),135,". ",Normal,OfficialSerNr,false,LegalInvNrSClass);
  end;
//  EditField(h+210,v,82, "Employee",Normal,EMCode,false,UserSClass);
  CheckBox(h4=-100,v,0,"",OKFlag);
  TileButton(1,"");
  TileButton(2,"");
  TileButton(3,"");
  TileButton(4,"");
  Tile(1,90,false,"1",Location);
  vs = 20; h1 = 110; h2 = 290; h3 = 530; h4 = -110;
  EditField(h1,vm=(v=6),82,"",Normal,TransDate,false,PasteCurDate);
  if (HasMultiLocations) then begin
    EditField(h1,v+=vs,82,"",Normal,Location,false,LocationSClass);
  end;
  EditField(h1,v+=vs,82,"",Normal,Reason,false,StandProblemsSClass);
  if (HasObjects) then begin
    EditField(h1,v+=vs,82,"",Normal,Objects,false,ObjSClass);
  end;
  EditField(h2,v=vm,135," ",ViewOnly,OrdNr,false,0);
  EditField(h2,v+=vs,135," .",ViewOnly,SHNr,false,0);
  if (StandardHansa==false and HasModSVO) then begin
    EditField(h2,v+=vs,135," .  .",ViewOnly,SVONr,false,0);
    EditField(h2,v+=vs,135," . ",ViewOnly,WSNr,false,0);
  end;
  EditField(h3,v,80," ",Normal,SalesGroup,false,SalesGroupSClass);
  EnterSkip(Math);
  ButtonFrame(h3=h3-70,v=vm+10,140,2," ");
  RadioButton(h3,v,0,0," ",Type);
  RadioButton(h3,v+=16,1,0,"  .",Type);
  CheckBox(h4,v=vm+10,0," ",UpdStockFlag);
  CheckBox(h4,v+=16,0," . ",InclVAT);
  CheckBox(h4,v+=16,0," . /",Closed);
  Tile(2,79,true,"2",Math);
  v = 24;
  MatrixBegin(4,v,-50,-22,-,999);// Edit ************************** Thursday, 25 June 2015 17:23:18 199
  Flip(0);
  MatCol(1,32,"",0,ArtCode,false,ForSaleINSClass);
//  MatCol(1,84,"Var",0,VARList,true,VARSClass);
//  MatCol(1,144,"Qty",0,Quant,true,0);
  MatCol(1,94,"-",0,Quant,true,0);
  Flip(1);
//  MatCol(1,194,"Description",0,Spec,false,0);
  MatCol(1,144,".",0,Spec,false,0);
	if (UserCanAction("ViewCostPrice",true)) then begin
  	MatCol(1,-228,"",0,UPrice,true,0);	//Edit----------------------Dima  03.02.2015
	end;
  MatCol(1,-160," ",0,Extra,true,0);
  if (UserCanAction("ViewCostPrice",true)) then begin
  	MatCol(1,-80,"",0,CostPrice,true,0);//Edit***************************Sasha2,10:36 10.11.2014
  end;
  Flip(2);
  if (HasObjects) then begin
  MatCol(1,134,"",0,Objects,false,ObjSClass);
  end;
  if (HasMultiLocations) then begin
    MatCol(1,264,"/",0,Invd,false,0);
    MatColTL(1,-300,"",0,M4UStr,ViewOnly,0,Location,false,0);
  end else begin
    MatCol(1,-300,"/",0,Invd,false,0);
  end;
  if (HasModNL) then begin
  MatColTL(1,-240," ",0,M4UStr,ViewOnly,0,CostAcc,false,AccSClass);
  end;
  if (HasSerialNumbers) then begin
  MatCol(1,-180," ",0,SerialNr,false,SerialNrSClass);
  MatCol(1,-80," ",0,BestBefore,false,0);
  end;
  Flip(3);
  if (HasObjects) then begin
    MatCol(1,144,"",0,Objects,false,ObjSClass);
  end;
  if (StandardHansa==false and Left(BuildProductCode,8)!="Standard") then begin
  	if (UserCanAction("ViewCostPrice",true)) then begin
    	MatCol(1,-380,".  ",0,BBCostPrice,false,0); //Edit***************************Sasha2,10:37 10.11.2014
    end;
    MatCol(1,-300,"",0,PosCode,false,FreePosSClass);
  end;
  MatColTL(1,-240,"",0,M4Ustr,ViewOnly,0,Recepy,false,0);
  MatCol(1,-180,"",0,UnitXval,true,0);
  MatCol(1,-120,"",0,UnitYval,true,0);
  MatCol(1,-60,"",0,UnitZval,true,0);
  if (StandardHansa==false and HasModSVO) then begin
    Flip(4);
    MatCol(1,144,"",0,Spec,false,0);
    MatCol(1,-225," ",0,WSIVType,false,SetSClass);
    if (HasSerialNumbers) then begin
      MatCol(1,-150,". . ",0,MotherNr,false,SerialNrSClass);
    end;
  end;
  InsertRowTest;
  DeleteRowTest;
  EndMatrix;
  vs = 20;
  v = 18; VTab(-35,v,-16,v+vs,ToolFlip,1,"A");
  v=v+ vs; VTab(-35,v,-16,v+vs,ToolFlip,2,"B");
  v=v+ vs; VTab(-35,v,-16,v+vs,ToolFlip,3,"C");
  if (StandardHansa==false and HasModSVO) then begin
    v=v+ vs; VTab(-35,v,-16,v+vs,ToolFlip,4,"D");
  end;
//  CheckBox(20,-20,0,"OK",OKFlag);
  EditField(110,-20,50,"Total Qty",ViewOnly,SumQuant,true,0);

	if (CurrentUser=="SAUNOK") then begin
		EditField(300,-20,100,"LocOKNr",Normal,LocOKNr,false,0);		//Edit----------------------Dima  21.01.2016
	end;  
  
  Tile(3,70,false,"3",FrRate);
  vs = 20;
  EditField(h1,v=6,50,"",Normal,CurncyCode,false,CurncyCodeSClass);
  if (HasMultiCurrency) then begin
    if (HasBase2) then begin
      EditField(h1,v+vs,50,"  1",Normal,BaseRate1,true,0);
    end else begin
      EditField(h1,v+vs,50," ",Normal,BaseRate1,true,0);
    end;
    if (HasBase2) then begin
      EditField(h1,v+(vs*2),50,"  2",Normal,BaseRate2,true,0);
    end;
    EditField(h2=295,v,50,"",Normal,FrRate,true,0);
    if (HasBase2) then begin
      RateField(h3=360,v,50,":",Normal,"ToRateB1",true,h3+60,v+14,"  1",false);
      RateField(h3,v+=vs,50,":",Normal,"ToRateB2",true,h3+60,v+14,"  2",false);
    end else begin
      RateField(h3=360,v,50,":",Normal,"ToRateB1",true,h3+60,v+14," ",false);
    end;
  end else begin
    EditField(h1,v+=vs,50,"  1",Normal,BaseRate1,true,0);
    EditField(h1,v+=vs,50,"  2",Normal,BaseRate2,true,0);
  end;
  Tile(4,30,false,"4",Comment);
  EditField(h1,v=6,-20,"",Normal,Comment,false,0);
  if (HasNumberSeries and HasLocalization("PRT")) then begin
    if (HasOfficialSerNr) then begin
      EditField(h1,v+=vs,100,"Official Ser No. 2",Normal,OfficialSerNr2,false,0);
      EditField(h2,v,135,"Status",Normal,Status,false,SetSClass);
    end;
  end;
  SpecialMenu(" ",'f',1,"ItemSearchDsm");
  if (HasModNL) then begin
    SpecialMenu("  ",'t',0,"OpenTRFromRet");
  end;
  SpecialMenu("  ",'F',1,"CreditIVFromRetsm");
  if (HasQualityControl) then begin
    SpecialMenu(" ",'u',10,"QualConFromRetDsm");
  end;
  EndWindow;
end;

window LoyaltyCardDClass:1
  wtag("language","RUS"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer")
begin
  real h,h2,h3,v,vm,vs;
  WindowBegin(" ",LoyaltyCardDClass,CGview,-);
  SetWRect(64,80,640,230);
  UseView(LoyaltyCardVc);
  ActiveFieldOnNew("CustCode");
  v = 16; vs = 20; h = 120; h2 = 300; h3 = 440;
  EditField(h,vm=v, 80,"",St_i,SerNr,false,0);
  EditField(h,v+=20,80, "",Normal,CustCode,false,CUSClass);
  EnterSkip(StartDate);
  EditField(h2,v,-40, "",Normal,CustName,false,0);
  EditField(h,v+=20,70,"- ",Normal,StartDate,false,PasteCurDate);
  EditField(h2,v,70,"- ",Normal,ExpiryDate,false,PasteCurDate);
  EditField(h,v+=20,80,". ",Normal,LCMLevel,false,LCMemberLevelSClass);
  EditField(h2,v,70,". ",Normal,PointsBalance,true,0);
  EditField(h3,v,-40," ",Normal,PointsTo,false,LoyaltyCardSClass);
  CheckBox(h,v+=20,0,"",Closed);
  SpecialMenu(" ",'u',10,"CUNPTSSClassNewCustomer");
  EndWindow;
end;


window CUNPTDSClass:1
  wtag("language","RUS"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer")
begin
  integer i,rwcnt;
  real h,h1,h2,h3,h4,h5,l,v,vs;
  record NPTSNewCUFieldsBlock NPTSNCUFb;
  row NPTSNewCUFieldsBlock NPTSNCUFbrw;

  WindowBegin("",CUNPTDSClass,CGview,-);
  Modality(kModalityGlobal);
  DynamicWindow;
  SetWRect(20,80,680,441);
  Sizeable(-1,-1,0,0);
  UseView(CUVc);
  v = 6; h = 130; l=223; vs = 20; h1=410; h2 = 340; h3 = 430; h4 = 580; h5 = 460;
  ActiveFieldOnNew("Code"); //dont change, otherwise automatic address lookup helper window wont show automatically //wns
  EditField(h,v ,   95,"",Normal,Code,false,TSerSClass);
  EditField(h,v+=vs,h1-h+50,".",Normal,Name,false,0);
	EditField(h,v+=vs,h1-h+50,"",Normal,Phone,false,0);
	EditField(h,v+=vs,h1-h+50,"e-Mail",Normal,eMail,false,0);

/*
  HalPushButton(h+120,v+=20,h+120+100,v+20,"UpdCustomerAddressCUDsm","Update Address");
  v=v+10;
  StaticText(h,v+13,"Invoice Address",false);
  label = UserDefined("CUVc","InvAddr0");
  EditField(h,v+=vs,-20,label,Normal,InvAddr0,false,0);
  label = UserDefined("CUVc","InvAddr1");
  EditField(h,v+=vs,-20,label,Normal,InvAddr1,false,0);
  label = UserDefined("CUVc","InvAddr2");
  EditField(h,v+=vs,-20,label,Normal,InvAddr2,false,0);
  label = UserDefined("CUVc","InvAddr3");
  EditField(h,v+=vs,-20,label,Normal,InvAddr3,false,0);
  label = UserDefined("CUVc","InvAddr4");
  EditField(h,v+=vs,-20,label,Normal,InvAddr4,false,0);
  EditField(h,v+=vs,50,"Country",Normal,CountryCode,false,CountrySClass);//tsp-101118
  EditField(h1,v,-20,"Department",Normal,Department,false,0);
  EditField(h,v+=vs,150,"Telephone",Normal,Phone,false,0);
  EditField(h1,v,-20,"Fax",Normal,Fax,false,0);
  EditField(h,v+=vs,150,"Alt Phone",Normal,AltPhone,false,0);
  EditField(h1,v,-20,"Mobile",Normal,Mobile,false,0);
  EditField(h,v+=vs,150,"Skype Name",Normal,SkypeName,false,0);
  EditField(h1,v,-20,"SIP",Normal,SIPCode,false,0);
  EditField(h,v+=vs,150,"E-mail",Normal,eMail,false,0);
  EditField(h1,v,-20,"Extension",Normal,Extension,false,0);

  HalPushButton(h+120,v+=vs,h+120+100,v+20,"UpdDeliveryAddressCUDsm","Update Address");
  v=v+12;
  StaticText(h,v+13,"Delivery Address",false);
  label = UserDefined("CUVc","DelAddr0");
  EditField(h,v+=vs,-20,label,Normal,DelAddr0,false,0);
  label = UserDefined("CUVc","DelAddr1");
  EditField(h,v+=vs,-20,label,Normal,DelAddr1,false,0);
  label = UserDefined("CUVc","DelAddr2");
  EditField(h,v+=vs,-20,label,Normal,DelAddr2,false,0);
  label = UserDefined("CUVc","DelAddr3");
  EditField(h,v+=vs,-20,label,Normal,DelAddr3,false,0);
  label = UserDefined("CUVc","DelAddr4");
  EditField(h,v+=vs,-20,label,Normal,DelAddr4,false,0);
  EditField(h,v+=vs,50,"Country",Normal,DelCountry,false,CountrySClass);
*/

  /*BlockLoad(NPTSNCUFb);
  rwcnt = MatRowCnt(NPTSNCUFb);
  for (i=0;i<rwcnt;i=i+1) begin
    MatRowGet(NPTSNCUFb,i,NPTSNCUFbrw);
    EditField2(h,v+=vs,h1-h+50,NPTSNCUFbrw.FieldName,NPTSNCUFbrw.EditState,NPTSNCUFbrw.FieldName,false,0);
  end;*/
  EndWindow;
end;

window RebDClass:2
  wtag("language","RUS"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer")
begin
  real h,h1,h2,l,v,vs;
  WindowBegin(" ",RebDClass,CGview,RebView);
  UseView(RebVc);
  SetWRect(20,80,647,333);
  Sizeable(-1,-1,-1,0);
  vs=20;
  Tile(0,40,false,"",Code);
  EditField(h=90,v=6,50,"",Normal ,Code,false,0);
  EditField(230,v,-40,".",Normal,Comment,false,0);
  if (StandardHansa==false) then begin
    EditField(h,v+=vs,80,"",Normal,FromDate,false,PasteCurDate);
    EditField(230,v,80,"-",Normal,ToDate,false,PasteCurDate);
    EditField(440,v,-40,"",Normal,Replaces,false,RebSClass);
  end;
  TileButtons(v,2);
  Tile(1,110,false,"1",StaffCode);
  h = 110; h1 = 200; h2 = 300; vs = 20;
  EditField(h,v=6,50,"  -",Normal,StaffCode,false,StaffSClass);
  EditField(h,v+=vs,50," 0",Normal,vra0,false,0);
  EditField(h,v+=vs,50," 1",Normal,vra1,false,0);
  EditField(h1,v,50,"2",Normal,vra2,false,0);
  EditField(h2,v,50,"3",Normal,vra3,false,0);
  EditField(h,v+=vs,50," 4",Normal,vra4,false,0);
  EditField(h1,v,50,"5",Normal,vra5,false,0);
  EditField(h2,v,50,"6",Normal,vra6,false,0);
  EditField(h,v+=vs,50," 7",Normal,vra7,false,0);
  EditField(h1,v,50,"8",Normal,vra8,false,0);
  EditField(h2,v,50,"9",Normal,vra9,false,0);
  Tile(2,120,true,"2",Math);
  StaticText(h=46,v=27,"",false);
  StaticText(h+=64,v=27,"",false);
  StaticText(h+=69,v," .",false);
  StaticText(248,v,"",false);
  h = 10; v=v+20; l = 30;
  MatrixBegin(h,v,h+240+11*l,-10,-,3000); //Edit***************************Sasha2,13:59 24.11.2014
  MatCol(1,h=30,"",0,CodeType,false,SetSClass);
  MatCol(1,h=94,"",0,ITCode,false,ITSClass);
  MatCol(1,h+=70,"",0,StaffCode,false,StaffSClass);
  MatCol(1,h+=70,"0",0,vra0,false,0);
  MatCol(1,h+=l,"1",0,vra1,false,0);
  MatCol(1,h+=l,"2",0,vra2,false,0);
  MatCol(1,h+=l,"3",0,vra3,false,0);
  MatCol(1,h+=l,"4",0,vra4,false,0);
  MatCol(1,h+=l,"5",0,vra5,false,0);
  MatCol(1,h+=l,"6",0,vra6,false,0);
  MatCol(1,h+=l,"7",0,vra7,false,0);
  MatCol(1,h+=l,"8",0,vra8,false,0);
  MatCol(1,h+=l,"9",0,vra9,false,0);
  EndMatrix;
/*  noone uses this one
  Tile(3,70,false,"3",DiscAcc);
  EditField(h=150,v=6,50," ",Normal,DiscAcc,false,AccSClass);
  EditField(h,v+=20,50," ",Normal,DiscPerc,false,0);
  EditField(h,v+=20,50," ",Normal,VATCode,false,VATCodeSClass);
*/
  SpecialMenu(" ",'',0,"ClearUpRebRowsDm");
  EndWindow;
end;


window POLClass:2
  wtag("language","RUS"), wtag("product","*"), wtag("productcode","*"), wtag("device","*")
begin
  Integer pos;

  WindowBegin(" ",POLClass,CGmlist,POView);
  SpawnClass(PODClass);
  SetWRect(20,80,800,298);
  Sizeable(-1,-1,0,0);
  UseView(POVc);
  FormName(PrintPOL);
  RecordList(4,17,-21,-39);

    RlColKey(4,4,"",SerNr,false,SerNr);
    RlColKey(79,79,"",OKFlag,false,OKFlag);
    pos = 111;
    if (HasModIN) then begin
      RlColKey(pos,pos,".",PUFlag,false,PUFlag);
      pos = 143;
    end;
    if (HasModPL) then begin
      RlColKey(pos,pos,"/",PIFlag,false,InvFlag);
      pos = 175;
    end;
    RlColKeyTL(pos,pos,"",M4Mark,Closed,false,Closed);
    pos = pos + 32;
    RlColKey(pos,pos,"",TransDate,false,TransDate);
    pos = pos + 70;
/*    if (HasMultiLocations) then begin
      RlColKey(pos,pos,".",Location,false,Location);
      pos = pos + 80;
    end;	*/																											//Edit--------------Dima  27.01.2015
    if (IsEnterprise) then begin
      RlColKey(pos,pos," ",Reference,false,Reference);	//Edit--------------Dima  27.01.2015
      pos = pos + 100;
    end;
    RlColKey(pos,pos,"",VECode,false,VECode);
    pos = pos + 120;
    RlColKey(pos,pos,"",Addr0,false,Name);
    if (IsEnterprise) then begin
      RlCol(-120,-120,"",POClass,false);
      RlCol(-55,-55,"",Sum4,true);
    end else begin
      RlCol(-80,-80,"",Sum4,true);
    end;
  if (GUIType!=kGuiiPhone) then begin
    SearchField("");
    if (HasLimitedAccess) then begin
      BrowseSubsetButton(-40,-15);
    end;
    if (GuiType==kGuiMetro) then begin
      RowMenuBegin("");
      RowMenuItem(0,"OK",'G','G',4312,"OKPOLsm");
      RowMenuItem(1,"",' ',' ',4300,"ClosePOLsm");
      if (HasModIN) then begin
        RowMenuItem(2," ",' ',' ',4300,"PUFromPOLsm");
      end;
      if (HasModPO) then begin
        if (IsEnterprise) then begin
        RowMenuItem(3,"  ",' ',' ',4300,"POCreatePOLsm");
        end;
        RowMenuItem(4,"  ",'r','r',4300,"POStatusORLsm");
      end;
      EndRowMenu;
    end else begin
      SpecialMenu("",'G',0,"OKPOLsm");
      SpecialMenu("",' ',1,"ClosePOLsm");
      if (HasModIN) then begin
        SpecialMenu(" ",' ',2,"PUFromPOLsm");
      end;
      if (HasModPO) then begin
        if (IsEnterprise) then begin
        SpecialMenu("  ",' ',3,"POCreatePOLsm");
        end;
        SpecialMenu("  ",'r',4,"POStatusORLsm");
      end;
    end;
  end;
  EndWindow;
end;





window IPDClass:2
  wtag("language","RUS"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer")
begin
  real h,h2,h3,h4,t,v,vm,vs,fl,v2;
  record CYBlock CYb;
  Integer f,flipnr;

  BlockLoad(CYb);
  WindowBegin(" ",IPDClass,CGview,-);
  SetWRect(20,80,700,380);
  Sizeable(-1,-1,0,0);
  UseView(IPVc);
  ActiveFieldOnNew("TransDate");
  h = 100; h2 = 262; h3 = 470;v = 6; vs = 20;
  if (HasNumberSeries) then begin
    EditField(h,v, 80,". ",St_i,SerNr,false,TSerSClass);
  end else begin
    EditField(h,v,80,"",St_i,SerNr,false,0);
  end;
  EditField(h2,v,82," .",Normal,TransDate,false,PasteCurDate);
  EnterSkip(PayMode);
  if (IsEnterprise) then begin
    EditField(h3,v,-40,"",Normal,RecNumber,false,0);
  end else begin
    CheckBox(h4=-100,v,0,"OK",OKFlag);
  end;
  EditField(h,v+=20,30," ",Normal,PayMode,false,PMSClass);
  EnterSkip(Math);
  EditField(h2,v,-40,"",Normal,Comment,false,0);
  if (IsEnterprise) then begin
    //EditField(h,v+=20,80," .",ViewOnly,AuthorizationCode,false,0);					//Edit----------------------Dima 29.01.2015
		EditFieldTL(h+30,v+=20 ,70,"  ", M4Val,Normal,0,TakeOnRate,false,0);	//Edit----------------------Dima 29.01.2015
    CheckBox(-300,v,0,"-    ",ARonTR);
    CheckBox(h4=-100,v,0,"OK",OKFlag);
  end else begin
    if (Left(BuildProductCode,5)=="Books") then begin
      EditField(h2,v+=vs,-40,"Reference",Normal,RecNumber,false,0);
    end;
  end;
  EditField(h2,v,100,"",Normal,AdditionalObjects,false,ObjSClass);		//Edit----------------------Dima  28.07.2015
  EnterSkip(Math);
  EditField(h,-21,100,"",ViewOnly,Sign,false,0);//Edit----------------------Dima  14.07.2015
  if (HasMultiCurrency) then begin
    fl = 40;
//    if (GuiType==kGuiiPhone) then begin fl = 70; end;
    EditField(-267,-21,fl,"",Normal,PayCurCode,false,CurncyCodeSClass);
  end;
  EditField(-142,-21,-40,"",Normal,CurPayVal,true,0);
  h=4; v=91+v2;
  if (HasMultiCurrency or (HasLocalization("RUS") and HasModSL)) then begin
    MatrixBegin(h,v,-50,-24,-,299);
  end else begin
    MatrixBegin(h,v,-30,-24,-,99);
  end;
  vm = v;
  MatTypedRow(stp);
  MatOverStrike(ovst);
  Flip(0);
  if (HasPreferedOfficialSerNr) then begin
    if (HasLocalization("POL,RUS")) then begin
      MatCol(t=kReceiptRowTypeNormal,30," /",0,InvoiceOfficialSerNr,false,ARSClass);
    end else begin
      MatCol(t=kReceiptRowTypeNormal,30," /",0,InvoiceNr,false,ARSClass);
    end;
  end else begin
    MatCol(t=kReceiptRowTypeNormal,30," /",0,InvoiceNr,false,ARSClass);
  end;
  EnterSkip(RecVal);
  MatCol(t,125,"",0,CustCode,false,CUSClass);
  if (HasPreferedOfficialSerNr) then begin
    MatCol(t=kReceiptRowTypeSettlementDiscount,30,"",0,InvoiceOfficialSerNr,false,ARSClass);
  end else begin
    MatCol(t=kReceiptRowTypeSettlementDiscount,30,"",0,InvoiceNr,false,ARSClass);
  end;
  MatText(t,125,"",false);
  if (HasObjects) then begin
    MatCol(t,190,"",0,Objects,false,ObjSClass);
  end;
  MatCol(t,-390,"./",0,InvCurncy,true,0);
  MatCol(t,-350," /",0,InvVal,true,0);
  MatCol(t,-260,". ",0,BankCurncy,true,CurncyCodeSClass);
  MatCol(t,-220," /",0,BankVal,true,0);
  MatCol(t,-130,".",0,RecCurncy,true,CurncyCodeSClass);
  MatCol(t,-90,"",0,RecVal,true,0);
  if (HasPreferedOfficialSerNr) then begin
    EnterSkip(InvoiceOfficialSerNr);
    MatCol(t=kReceiptRowTypeWriteoff,30,"",0,InvoiceOfficialSerNr,false,ARSClass);
  end else begin
    EnterSkip(InvoiceNr);
    MatCol(t=kReceiptRowTypeWriteoff,30,"",0,InvoiceNr,false,ARSClass);
  end;
  MatText(t,125,"",false);
  MatCol(t,-460,"",0,WriteOffAcc,false,AccSClass);
  MatCol(t=kReceiptRowTypeBankFee,30,"",0,InvoiceNr,false,ARSClass);
  MatText(t,105,".",false);
  MatCol(t,-390,"./",0,InvCurncy,true,0);
  MatCol(t,-350," /",0,InvVal,true,0);
  MatCol(t,-260,".",0,BankCurncy,true,CurncyCodeSClass);
  MatCol(t,-220," ",0,BankVal,true,0);
  MatCol(t,-130,".",0,RecCurncy,true,CurncyCodeSClass);
  MatCol(t,-90,"",0,RecVal,true,0);
  flipnr = 1;
  Flip(flipnr); flipnr = flipnr + 1;
  EnterSkip(PayDate);
  MatCol(t=kReceiptRowTypeNormal,200,"",0,CustName,false,0);
  if (IsEnterprise) then begin
    MatCol(t,-350," ",0,PayDate,false,0);
  end;
  if (HasObjects and IsEnterprise==false) then begin
    MatCol(t,190,"",0,Objects,false,ObjSClass);
  end;
  EnterSkip(RecVal);
  if (HasMultiCurrency) then begin
    MatCol(t,-260,".",0,BankCurncy,true,CurncyCodeSClass);
    MatCol(t,-220," /",0,BankVal,true,0);
    MatCol(t,-130,".",0,RecCurncy,true,CurncyCodeSClass);
    MatCol(t,-90,"",0,RecVal,true,0);
    MatCol(t=kReceiptRowTypeWriteoff,-390,".",0,InvCurncy,true,0);
    MatCol(t,-350," /",0,InvVal,true,0);
    MatCol(t,-260,".",0,BankCurncy,true,CurncyCodeSClass);
    MatCol(t,-220," /",0,BankVal,true,0);
    MatCol(t,-130,".",0,RecCurncy,true,CurncyCodeSClass);
    MatCol(t,-90,"",0,RecVal,true,0);
  end else begin
    MatCol(t,-270," .",0,InvOutstand,false,0);
    MatCol(t,-180,"  .",0,InvVal,true,0);
    MatCol(t,-90,". ",0,RecVal,true,0);
    MatCol(t=kReceiptRowTypeWriteoff,-270," .",0,InvOutstand,false,0);
    MatCol(t,-180,"  .",0,InvVal,true,0);
    MatCol(t,-90,". ",0,RecVal,true,0);
  end;
  if (HasMultiCurrency) then begin
    Flip(flipnr); flipnr = flipnr + 1;
    MatCol(t=kReceiptRowTypeNormal,190,"",0,CustName,false,0);
    MatCol(t,-350,".",0,InvCurncy,true,0);
    MatCol(t,-310," . .",0,InvOutstand,true,0);
    MatCol(t,-220," /",0,InvVal,true,0);
    MatCol(t,-130,".",0,RecCurncy,true,CurncyCodeSClass);
    MatCol(t,-90,"",0,RecVal,true,0);
    MatCol(t=kReceiptRowTypeWriteoff,-390,".",0,InvCurncy,true,0);
    MatCol(t,-350," /",0,InvVal,true,0);
    MatCol(t,-260,".",0,BankCurncy,true,CurncyCodeSClass);
    MatCol(t,-220," /",0,BankVal,true,0);
    MatCol(t,-130,".",0,RecCurncy,true,CurncyCodeSClass);
    if (HasLocalization("POL")) then begin
      Flip(flipnr); flipnr = flipnr + 1;
      MatCol(t=kReceiptRowTypeNormal,190,"",0,CustName,false,0);
      MatCol(t,-310,".",0,BankCurncy,true,CurncyCodeSClass);
      MatCol(t,-270," /",0,BankVal,true,0);
      MatCol(t,-200," . .1",0,ToRateB1BankVal,true,0);
      MatCol(t,-160,"..  .1",0,B1BankVal,true,0);
    end;
  end;
  if (IsEnterprise) then begin
    MatCol(t,-90,"",0,RecVal,true,0);
    Flip(flipnr); flipnr = flipnr + 1;
    MatCol(t=kReceiptRowTypeNormal,190,"",0,CustName,false,0);
    MatCol(t,-320,"",0,AddTime,false,0);				//Edit----------------------Dima  12.08.2015
    MatCol(t,-250,"..",0,PayMode,false,PMSClass);
    if (StandardHansa==false) then begin
      MatCol(t,-200," ",0,ChequeNr,false,0);
    end;
    MatCol(t,-130," .",0,RecCurncy,true,CurncyCodeSClass);
    MatCol(t,-90,"",0,RecVal,true,0);
    MatCol(t=kReceiptRowTypeWriteoff,-390,". ",0,InvCurncy,true,0);
    MatCol(t,-350," /",0,InvVal,true,0);
    MatCol(t,-260,".",0,BankCurncy,true,CurncyCodeSClass);
    MatCol(t,-220," /",0,BankVal,true,0);
    MatCol(t,-130,".",0,RecCurncy,true,CurncyCodeSClass);
    MatCol(t,-90,"",0,RecVal,true,0);
    Flip(flipnr); flipnr = flipnr + 1;
    MatCol(t=kReceiptRowTypeNormal,190,"",0,CustName,false,0);
    MatCol(t,-320," ",0,OrderNr,false,ORSClass);
    MatCol(t,-230," .",0,CUPNr,false,ARPaySClass);
    MatCol(t,-130,".",0,RecCurncy,true,CurncyCodeSClass);
    MatCol(t,-90,"",0,RecVal,true,0);
    MatCol(t=kReceiptRowTypeWriteoff,-390,".",0,InvCurncy,true,0);
    MatCol(t,-350," /",0,InvVal,true,0);
    MatCol(t,-260,".",0,BankCurncy,true,CurncyCodeSClass);
    MatCol(t,-220," /",0,BankVal,true,0);
    MatCol(t,-130,".",0,RecCurncy,true,CurncyCodeSClass);
    MatCol(t,-90,"",0,RecVal,true,0);
    Flip(flipnr); flipnr = flipnr + 1;
    MatCol(t=kReceiptRowTypeNormal,190,"",0,CustName,false,0);
    if (CYb.UseTaxTemplatesforTaxCalc!=0) then begin
      MatCol(1,-310,"",0,TaxTemplateCode,false,TaxTemplateSClass);
    end else begin
      MatCol(1,-310,"",0,VATCode,false,VATCodeSClass);
    end;
    MatCol(t,-270," ",0,VATVal,false,0);
    MatCol(t,-200," ",0,TAX1Sum,false,0);
    MatCol(t,-130,".",0,RecCurncy,true,CurncyCodeSClass);
    MatCol(t,-90,"",0,RecVal,true,0);
    MatCol(t=kReceiptRowTypeWriteoff,-390,". ",0,InvCurncy,true,0);
    MatCol(t,-350," /",0,InvVal,true,0);
    MatCol(t,-260,".",0,BankCurncy,true,CurncyCodeSClass);
    MatCol(t,-220," /",0,BankVal,true,0);
    MatCol(t,-130,".",0,RecCurncy,true,CurncyCodeSClass);
    MatCol(t,-90,"",0,RecVal,true,0);
    Flip(flipnr); flipnr = flipnr + 1;
    MatCol(t=kReceiptRowTypeNormal,190,"",0,CustName,false,0);
    MatCol(t,-260,"",0,Objects,false,ObjSClass);
    MatCol(t,-130,".",0,RecCurncy,true,CurncyCodeSClass);
    MatCol(t,-90,"",0,RecVal,true,0);
    MatCol(t=kReceiptRowTypeWriteoff,-390,".",0,InvCurncy,true,0);
    MatCol(t,-350," /",0,InvVal,true,0);
    MatCol(t,-260,".",0,BankCurncy,true,CurncyCodeSClass);
    MatCol(t,-220," /",0,BankVal,true,0);
    MatCol(t,-130,".",0,RecCurncy,true,CurncyCodeSClass);
    MatCol(t,-90,"",0,RecVal,true,0);
    Flip(flipnr); flipnr = flipnr + 1;
    MatCol(t=kReceiptRowTypeNormal,190," .",0,RoundOffAcc,false,AccSClass);
    MatCol(t,-360,"",0,RoundOff,true,0);
    if (StandardHansa==false) then begin
      MatCol(t,-300,"",0,InstNr,false,ARInstallSClass);
    end;
    MatCol(t,-170,"",0,rkRecNumber,false,0);
    MatCol(t=kReceiptRowTypeWriteoff,-390,".",0,InvCurncy,true,0);
    MatCol(t,-350," /",0,InvVal,true,0);
    MatCol(t,-260,".",0,BankCurncy,true,CurncyCodeSClass);
    MatCol(t,-220," /",0,BankVal,true,0);
    MatCol(t,-130,".",0,RecCurncy,true,CurncyCodeSClass);
    MatCol(t,-90,"",0,RecVal,true,0);
    Flip(flipnr); flipnr = flipnr + 1;
    MatCol(t=kReceiptRowTypeNormal,190,"",0,ARAcc,false,AccSClass);
    if (StandardHansa==false) then begin
      MatCol(t,-400," ..",0,CredManNr,false,CredManSClass);
    end;
    MatCol(t,-300,". . ",0,InvoiceOfficialSerNr,false,0);
    MatCol(t,-200,"",0,Comment,false,0);
    MatCol(t=kReceiptRowTypeWriteoff,-390,".",0,InvCurncy,true,0);
    MatCol(t,-350," /",0,InvVal,true,0);
    MatCol(t,-260,".",0,BankCurncy,true,CurncyCodeSClass);
    MatCol(t,-220," /",0,BankVal,true,0);
    MatCol(t,-130,".",0,RecCurncy,true,CurncyCodeSClass);
    MatCol(t,-90,"",0,RecVal,true,0);
    Flip(flipnr); flipnr = flipnr + 1;
    MatCol(t=kReceiptRowTypeNormal,200,".",0,BankCurncy,true,CurncyCodeSClass);
    MatCol(t,-410," /",0,BankVal,true,0);
  //  MatCol(t,-340,"Bank Fee",0,BankFeeVal,true,0);
    MatCol(t,-280," . .1",0,ToRateB1BankVal,true,0);
    MatCol(t,-210,"..  .1",0,B1BankVal,true,0);
    MatCol(t,-105,"..  .2",0,B2BankVal,true,0);
  //  MatCol(t,-200,"Fee %",0,BankFeePrc,true,0); /* What was this ?? */
  //  MatCol(t,-70,"Coef. Value",0,Coef,true,0);
    MatCol(t=kReceiptRowTypeWriteoff,-390,".",0,InvCurncy,true,0);
    MatCol(t,-350," /",0,InvVal,true,0);
    MatCol(t,-260,".",0,BankCurncy,true,CurncyCodeSClass);
    MatCol(t,-220," /",0,BankVal,true,0);
    MatCol(t,-130,".",0,RecCurncy,true,CurncyCodeSClass);
    MatCol(t,-90,"",0,RecVal,true,0);
    Flip(flipnr); flipnr = flipnr + 1;
    MatCol(t=1,-470,". ",0,BankCurncy,true,CurncyCodeSClass);
    MatCol(t,-430," /",0,BankVal,true,0);
    MatCol(t,-350,"",0,FrRateBankVal,true,0);
    MatCol(t,-310,"..  .1",0,ToRateB1BankVal,true,0);
    MatCol(t,-240," . .2",0,ToRateB2BankVal,true,0);
    MatCol(t,-170,".. 1",0,BaseRate1BankVal,true,0);
    MatCol(t,-90,".. 2",0,BaseRate2BankVal,true,0);
//    MatCol(t,-10,"Received Value",0,RecVal,true,0);
  end else begin
    if (HasRussianPrepayment) then begin
      Flip(flipnr); flipnr = flipnr + 1;
      MatCol(t=kReceiptRowTypeNormal,190,"",0,CustName,false,0);
      MatCol(1,-265,"",0,VATCode,false,VATCodeSClass);
      MatCol(t,-230,".",0,VATVal,false,0);
      MatCol(t,-170," ",0,OrderNr,false,ORSClass);
      MatCol(t,-85,"",0,CUPNr,false,ARPaySClass);
    end else begin
      if (Left(BuildProductCode,5)=="Books") then begin
        Flip(flipnr); flipnr = flipnr + 1;
        MatCol(t=kReceiptRowTypeNormal,-265,"",0,VATCode,false,VATCodeSClass);
        MatCol(t,-230,".",0,VATVal,false,0);
        MatCol(t,-170," .",0,PayDate,false,0);
        MatCol(t,1,"",0,rkRecNumber,false,0);
      end;
    end;
  end;
  InsertRowTest;
  DeleteRowTest;
  EndMatrix;
  vs = 22;
  v = v + 1;
  if (flipnr>2) then begin
    for (f=1;f<flipnr;f=f+1) begin
      VTab(-35,v,-16,v+vs,ToolFlip,f,chr(asc("A") + f - 1));
      v = v + vs;
    end;
  end;
  vs = 20;

  if (GuiType==kGuiMetro) then begin // Temporarily disabled on Windows 8
    SpecialMenu("  ",' ',2,"NewFeeIPDsm");
    SpecialMenu(" ",' ',1,"NewWriteoffIPDsm");
    SpecialMenu("  ",' ',6,"IPInfoIPDsm");
    if (HasModNL) then begin
      SpecialMenu("  ",'t',9,"OpenTRFromIP");
    end;
    SpecialMenu(" -  ",' ',7,"DownPayFromIPDsm");
  end else begin
    if (HasSettlementDiscount) then begin
      SpecialMenu(". ",' ',0,"CashDiscountIPDsm");
    end;
    SpecialMenu(" ",' ',1,"NewWriteoffIPDsm");
    if (IsEnterprise or Left(BuildProductCode,5)=="Books") then begin
      SpecialMenu("  ",' ',2,"NewFeeIPDsm");
    end;
    if (HasWithholdingTax) then begin
      SpecialMenu(" ",' ',8,"IPPasteWithholdingIPDsm");
    end;
    if (IsEnterprise) then begin
      if (StandardHansa==false) then begin
        SpecialMenu(" ",' ',13,"DistributeChequesIPDsm");
//        SpecialMenu("Print #Cheques#",' ',9,"PrintChequesIPDsm");
      end;
    end;
    if (IsEnterprise or Left(BuildProductCode,5)=="Books") then begin
      SpecialMenu(" ",' ',3,"IPExpandIPDsm");
    end;
    if (IsEnterprise) then begin
      SpecialMenu(" ",'=',4,"CalculateFieldIPDsm");
      SpecialMenu(" ",' ',5,"WriteofPrepayIPDsm");
    end;
    if (IsEnterprise or Left(BuildProductCode,5)=="Books") then begin
      SpecialMenu("  ",' ',6,"IPInfoIPDsm");
    end;
    if (HasModNL) then begin
      SpecialMenu("  ",'t',9,"OpenTRFromIP");
    end;
    if (HasTaxMatrix) then begin
        SpecialMenu("  ",' ',25,"OpenVatMatrixIPDsm");
    end;
    if (HasModCRM or HasStandardCRM) then begin
      SpecialMenu(" ",'c',14,"ActFromIPDsm");
    end;
    if (IsEnterprise) then begin
      SpecialMenu("  ",' ',11,"CLInFromIPDsm");
      if (StandardHansa==false) then begin
        SpecialMenu(" ",'e',9,"CreateCheckIPDsm");
      end;
      SpecialMenu(" -  ",' ',7,"DownPayFromIPDsm");
    end;
    if (HaseMail) then begin
      SpecialMenu(" E-Mail",'m',18,"CreateMailFromIPDsm");
    end;
    if (HasRussianPrepayment) then begin
      SpecialMenu(" /  ",' ',10,"IVFromPrepIPDsm");
    end;
    if (IsEnterprise) then begin
      if (StandardHansa==false) then begin
        if (HasLocalization("HRV,SRB,SLV,UKR")) then begin
        	SpecialMenu("    ",' ',17,"VATCorrectionIPDsm");
        end;
        SpecialMenu("  ",' ',15,"CCPayIPDsm");
      end;
      SpecialMenu(" ",' ',16,"BankStIPDsm");
      SpecialMenu(" -",' ',8,"PrintCashInOutIPDsm");
    end else begin
      if (HasLocalization("HRV")) then begin
        SpecialMenu("Create #VAT# Correction #S/L#",' ',17,"VATCorrectionIPDsm");
      end;
    end;
    SpecialMenu("C    ",'',20,"TableSortIPbyNameDsm");//Edit----------------------Dima  27.07.2015
    SpecialMenu("C   ",'',20,"TableSortIPbyTimeDsm");//Edit----------------------Dima  12.08.2015
  end;
  EndWindow;
end;



window CULClass:10
  wtag("language","RUS"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer")
begin
  WindowBegin("",CULClass,CGmlist,-);
  SpawnClass(CUDClass);
  if (HasJewelleryInterface) then begin
    SetWRect(20,80,880,300);
  end else begin
  SetWRect(20,80,760,300);
  end;
  Sizeable(-1,-1,0,0);
  UseView(CUVc);
//  FormName(CustRn);  // Crash in multiuser
//  h = 20; HalPushButton(h,v=3,h=h+100,v+vs,"VEList","#Suppliers#");
//  HalPushButton(h=h+50,v=3,h=h+100,v+vs,"CUList","Customers");
  RecordList(4,17,-21,-39);
  RlColKey(4,4,"",Code,false,Code);
  RlColKey(96,96,".",SearchKey,false,SearchKey);
  RlColKey(145,140,".",CustCat,false,Group);
  RlColKey(190,190,"",Name,false,Name);
  if (HasJewelleryInterface) then begin
    RlColKey(-480,-480,"",Phone,false,Phone);
    RlColKey(-380,-380,"",Mobile,false,Mobile);
    RlCol(-280,-280,"E-mail",eMail,true);
    RlCol(-150,-150," 1",InvAddr0,false);
  end else begin
  RlColKey(-420,-420,"",Phone,false,Phone);
  RlColKey(-325,-325,"E-mail",eMail,false,eMail);	//Edit--------------Dima 30.01.2015
  RlColKey(-215,-215,"",Department,false,Department);
  if (CUVATNrColumn) then begin
    RlColKey(-125,-125,"",VATNr,false,VATNr);
  end else begin
    RlColKey(-125,-125,"",RegNr1,false,RegNr1);
  end;
    if (TestEnablerFile("EnMarketplace")) then begin
      RlColKey(-70,-70,"MarketUserName",MarketUserName,false,MarketUserName);
    end else begin
  //RlColKey(-50,-50,"/",BankAccount,false,BankAccount); //Edit***************************Sasha2,9:23 28.05.2015
  RlCol(-50,-50,".",RebCode,false);
    end;
  end;
  SearchField("");
  if (HasMetroTestFeatures or GUIType!=kGUIMetro) then begin
    CommunicateButton;
  end;
  if (HasLimitedAccess) then begin
    BrowseSubsetButton(-40,-15);
  end;
  if (UserCanReport("CustPSRn","",true)) then begin
  SpecialMenu("  ",'e',0,"CUStatusCULsm");
  end;
  if (UserCanReport("VEPSRn","VendPSRClass",true)) then begin
  SpecialMenu(" ",'u',2,"VEStatusLsm");
  end;
  SpecialMenu(" ",' ',1,"ChangePasswdCULsm");
  SpecialMenu("",'F',3,"CUSearchLsm");
  SpecialMenu(" ",'c',4,"NewActCULsm");
  if (GuiType==kGuiCocoa) then begin
    SpecialMenu("  ",' ',5,"ImportAddressbooksm");
  end;
  EndWindow;
end;

window OPLClass:2
  wtag("language","RUS"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer")
begin
  WindowBegin(" ",OPLClass,CGmlist,-);
  SetWRect(20,80,529,307);
  Sizeable(-1,-1,0,0);
  SpawnClass(OPDClass);
  UseView(OPVc);
  FormName(PrintOPL);
  RecordList(4,17,-21,-39);
  RlColKey(4,1,      "",SerNr,false,SerNr);
  RlColKey(84,79,    "",OrderedFlag,false,OrderedFlag);
  RlColKey(121,116,  "OK",DoneFlag,false,DoneFlag);
  if (HasModNL) then begin
    RlColKey(151,151,  "",TransDate,false,TransDate);
  end else begin
    RlCol(151,151,  " ",PayDate,false);
  end;
  if (IsEnterprise) then begin
    RlColKey(231,231,"",PayNumber,false,PayNumber);
    RlColKey(300,300,"",BankName,false,0); //Edit***************************Sasha2,11:24 02.02.2015
  end else begin
    RlCol(-230,-230,". ",BankAcc,false);
  end;
  if (HasMultiCurrency) then begin
    RlColKey(-131,-131,"",CurPayVal,true,CurPayVal);
    RlCol(-30,-30,"",PayCurCode,true);
  end else begin
    RlColKey(-100,-100,"",CurPayVal,true,CurPayVal);
  end;
  RlCol(-1,-1,"",Invalid,true);
  SearchField("");
  if (GuiType==kGuiMetro) then begin
    RowMenuBegin("");
    RowMenuItem(0,"",'B','B',4312,"OrderOPLsm");
    RowMenuItem(1,"OK",'G','G',4312,"OKOPLsm");
    if (IsEnterprise and HasLocalization("EST,LVA")) then begin
      RowMenuItem(2,"E-Payment Status",' ',' ',4300,"EPaymentStatusOPLsm");
    end;
    EndRowMenu;
    SpecMenuGroup("",kSpecMenuGroupTypeButtonsInBottomBarRight,0);
    if (IsEnterprise) then begin
      SpecialMenuWithIcon("  ",' ',4313,1,"OPSuggOPLsm");
//    SpecMenuItem("Create Withholding Rows",' ',3);//no code
//  SpecMenuItem("Payment Transfer",' ',4); no code
    end;
    if (HasModCheck) then begin
      SpecialMenuWithIcon(" ",' ',4313,2,"ChequeRunOPLsm");
    end;
  end else begin
    SpecialMenu("",'B',0,"OrderOPLsm");
    SpecialMenu("OK",'G',1,"OKOPLsm");
    if (IsEnterprise or Left(BuildProductCode,5)=="Books") then begin
      SpecialMenu("  ",' ',2,"OPSuggOPLsm");
    end;
//    SpecMenuItem("Create Withholding Rows",' ',3);//no code
//  SpecMenuItem("Payment Transfer",' ',4); no code
    if (IsEnterprise and HasLocalization("EST,LVA")) then begin
      SpecialMenu("  ",' ',5,"EPaymentStatusOPLsm");
    end;
    if (HasModCheck) then begin
     SpecialMenu(" ",' ',6,"ChequeRunOPLsm");
    end;
  end;
  EndWindow;
end;

window VIDClass:1
  wtag("language","RUS"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer")
begin
  real h,h1,h2,h3,h4,t,v,vm,vs;
  record CYBlock CYb;
  string 255 label;
  Integer tilenr;
  Integer f,flipnr;
  Integer pos;

  WindowBegin("- ",VIDClass,CGview,-);
  SetWRect(20,80,750,460);
  if (IsEnterprise==false) and (HasModNL==false) then begin
  end else begin
    Sizeable(-1,-1,0,0);
  end;
  UseView(VIVc);
  //  FormName(PrintVID);
  ActiveFieldOnNew("VECode");
  if (IsEnterprise==false) then begin
    v = 6; h = 90; h2 = 260; h3 = 460; h4=-120; vs = 20;
    if (HasVATZone or ((HasMultiCurrency or HasBase2) and (HasModNL))) then begin
      Tile(0,74,false,"",VECode);
    end;
    if (HasNumberSeries) then begin
      EditField(h,v,80,".",Normal,SerNr,false,TSerSClass);
    end else begin
      EditField(h,v,80,".",Normal,SerNr,false,0);
    end;
    EditField(h2,v,-40,"",Normal,VEName,false,0);

    EditField(h,vm=(v+=20),80,"",Normal,VECode,false,VESClass);
    EditField(h2,v,80," / .",Normal,InvDate,false,PasteCurDate);
    CheckBox(-80,v,0,"OK",OKFlag);
    if (HasModNL) then begin
      EditField(h3,v,-100,"Cc",Normal,RefStr,false,0);
    end;
    if (HasVATZone) then begin
      tilenr = 1;
      TileButton(tilenr,""); tilenr = tilenr + 1;
      TileButton(tilenr,""); tilenr = tilenr + 1;
      if (HasMultiCurrency or HasBase2) then begin
        TileButton(tilenr,""); tilenr = tilenr + 1;
      end;
      TileButton(tilenr,""); tilenr = tilenr + 1;
      tilenr = 1;
      Tile(tilenr,300,false,tilenr,InvoiceNr); tilenr = tilenr + 1;
      v = 6;
    end else begin
      if (HasMultiCurrency or HasBase2) and (HasModNL) then begin
        tilenr = 1;
        TileButton(tilenr,""); tilenr = tilenr + 1;
        TileButton(tilenr,""); tilenr = tilenr + 1;
        TileButton(tilenr,""); tilenr = tilenr + 1;
        tilenr = 1;
        Tile(tilenr,300,false,tilenr,InvoiceNr); tilenr = tilenr + 1;
        v = 6;
      end else begin
        v = v + vs;
      end;
    end;
    vm = v;
    EditField(h,v,80," / .",Normal,InvoiceNr,false,0);
    EditField(h,v+=vs,80,"",Normal,PayVal,true,0);
    EnterSkip(InvDate);
    EditField(h,v+=vs,80,"",Normal,VATVal,true,0);
    EditField(h2,v=vm,22," .",Normal,PayDeal,false,PDSClass);
    EnterSkip(Math);
    if (HasModNL) then begin
      EditField(h2,v+=vs,80," .",Normal,TransDate,false,PasteCurDate);
    end;
    EditField(h2,v+=vs,80," ",Normal,DueDate,false,0);
    v = vm;
    EditField(h3,v,90,". /",Normal,CredInv,false,APSClass);
    if (HasLanguages) then begin
      EditField(h4,v,80,"",Normal,LangCode,false,LangSClass);
    end;
    EditField(h3,v+=vs,90," ",Normal,SortCode,false,0);
    if (HasObjects) then begin
      EditField(h4,v,80,"",Normal,Objects,false,ObjSClass);
    end;
    EditField(h3,v+=vs,-40,". ",Normal,BankAcc,false,0);
    if (HasLocalization("POL")) then begin
      EditField(h2,v+=vs,80,"  ",Normal,ServiceDelDate,false,PasteCurDate);
    end;
    EditField(h2,v+=vs,-40,".",Normal,Comment,false,0);
    if (HasModNL or HasModTS) then begin
      if (HasVATZone or HasMultiCurrency or HasBase2) then begin
        Tile(tilenr,130,false,tilenr,Math); tilenr = tilenr + 1;
        v = 6;
      end else begin
        v = v + 2*vs;
      end;
      BlockLoad(CYb);
      if (HasAdvancedStock or HasModTS or HasModPO) then begin
        MatrixBegin(10,v,-50,-32,VIRowType,99);
      end else begin
      MatrixBegin(10,v,-27,-32,VIRowType,99);
      end;
      MatTypedRow(stp);
      MatOverStrike(ovst);
      flipnr = 0;
      Flip(flipnr); flipnr = flipnr + 1;
      MatCol(t=kInvoiceRowTypeNormal,24,"",0,AccNumber,false,AccSClass);
      Flip(flipnr); flipnr = flipnr + 1;
      if (HasObjects) then begin
        MatCol(t,90,"",0,Objects,false,ObjSClass);
        MatCol(t,180,"",0,Comment,false,0);
      end else begin
        MatCol(t,90,"",0,Comment,false,0);
      end;
      MatCol(t,-130,"",0,Sum,true,0);
      if (CYb.UseTaxTemplatesforTaxCalc!=0) then begin
        MatCol(t,-35,". ",0,TaxTemplateCode,false,TaxTemplateSClass);
      end else begin
        MatCol(t,-35," ",0,VATCode,false,VATCodeSClass);
      end;
      MatText(t=kInvoiceRowTypePrepayment,24," .",true);
      MatCol(t,170,"",0,PrepayNr,true,APPay3SClass);
      MatCol(t,-250,"",0,Comment,false,0);
      MatCol(t,-160,"",0,PrepayAmount,true,0);/* Price holds the #VAT# sum, Recipe holds the date of prepaym. */

      MatCol(t,-70,"",0,Sum,true,0);  // Edit ************************** Monday, 2 February 2015 15:06:26
      //MatCol(t,-70,"",0,VATVal,true,0);  // Edit ************************** Monday, 2 February 2015 15:06:26
      if (HasAdvancedStock or HasModTS or HasModPO) then begin
        Flip(flipnr); flipnr = flipnr + 1;
        pos = 140;
        t=1;
        if (HasAdvancedStock) then begin
          MatCol(t,pos,"Order Type",0,OrderType,false,0);
          MatCol(t,-360,"#Stock# Type",0,StockType,false,SetSClass);
        end else begin
          MatCol(t=1,pos,"Description",0,Comment,false,0);
        end;
        MatCol(t,-260,"Amount",0,Sum,true,0);
        MatCol(t,-190,"Item",0,Item,false,INSClass);
        MatCol(t,-130,"Qty",0,qty,true,0);
        if (HasModTS) then begin
          MatCol(t,-100,"Project",0,PRCode,false,PRSClass);
        end;
        if (CYb.UseTaxTemplatesforTaxCalc!=0) then begin
          MatCol(t,-30,"T-Cd",0,TaxTemplateCode,false,TaxTemplateSClass);
        end else begin
          MatCol(t,-30,"#V-Cd#",0,VATCode,false,VATCodeSClass);
        end;
        MatText(3,270,"",true);
      end;
      InsertRowTest;
      DeleteRowTest;
      EndMatrix;
      vs = 20;
//      v = 18;//canoot be set to 18 on windows
      if (flipnr>2) then begin
        for (f=1;f<flipnr;f=f+1) begin
          VTab(-35,v,-16,v+vs,ToolFlip,f,chr(asc("A") + f - 1));
          v = v + vs;
        end;
      end;
      EditField(-140,-20,-40,". ",ViewOnly,CalcVATVal,true,0);
      if (HasMultiCurrency or HasBase2) then begin
        Tile(tilenr,70,false,tilenr,FrRate); tilenr = tilenr + 1;
        h1 = h + 20;
        v = 6;
        EditField(h1,v=6,50,"",Normal,CurncyCode,false,CurncyCodeSClass);
        if (HasMultiCurrency) then begin
          if (HasBase2) then begin
            EditField(h1,v+vs,50,"  1",Normal,BaseRate1,true,0);
          end else begin
            EditField(h1,v+vs,50," ",Normal,BaseRate1,true,0);
          end;
          if (HasBase2) then begin
            EditField(h1,v+(vs*2),50,"  2",Normal,BaseRate2,true,0);
          end;
          EditField(h2=295,v,50,"",Normal,FrRate,true,0);
          if (HasBase2) then begin
            RateField(h3=360,v,50,":",Normal,"ToRateB1",true,h3+60,v+14,"  1",false);
            RateField(h3,v+=vs,50,":",Normal,"ToRateB2",true,h3+60,v+14,"  2",false);
          end else begin
            RateField(h3=360,v,50,":",Normal,"ToRateB1",true,h3+60,v+14," ",false);
          end;
        end else begin
          EditField(h1,v+=vs,50,"  1",Normal,BaseRate1,true,0);
          EditField(h1,v+=vs,50,"  2",Normal,BaseRate2,true,0);
        end;
      end;
      if (HasVATZone) then begin
        Tile(tilenr,90,false,tilenr,InvoiceNr); tilenr = tilenr + 1;
        v = 20;
        v = VATZoneButtonsLabelsRUS(h,v,150,16);
      end;
      SpecialMenu("",'=',0,"BalanceVIDsm");
      if (HasModCL) then begin
        SpecialMenu("  ",' ',1,"DoCLOutFromVID");
      end;
    end else begin
      if (HasMultiCurrency or HasBase2) then begin
        EditField(h,v+=vs,50,"",Normal,CurncyCode,false,CurncyCodeSClass);
        if (HasMultiCurrency) then begin
          if (HasBase2) then begin
            EditField(h,v+vs,50,". . 1",Normal,BaseRate1,true,0);
          end else begin
            EditField(h,v+vs,50,". .",Normal,BaseRate1,true,0);
          end;
          if (HasBase2) then begin
            EditField(h,v+(vs*2),50,". . 2",Normal,BaseRate2,true,0);
          end;
          EditField(h2=295,v,50,"",Normal,FrRate,true,0);
          if (HasBase2) then begin
            RateField(h3=360,v,50,":",Normal,"ToRateB1",true,h3+60,v+14,"  1",false);
            RateField(h3,v+=vs,50,":",Normal,"ToRateB2",true,h3+60,v+14,"  2",false);
          end else begin
            RateField(h3=360,v,50,":",Normal,"ToRateB1",true,h3+60,v+14," ",false);
          end;
        end else begin
          EditField(h,v+=vs,50,". . 1",Normal,BaseRate1,true,0);
          EditField(h,v+=vs,50,". . 2",Normal,BaseRate2,true,0);
        end;
      end;
    end;
    SpecialMenu(" /",'r',2,"VIInfoVIDsm");
    if (HasModNL) then begin
      SpecialMenu("  ",'t',5,"OpenTRFromVI");
    end;
    if (HasRussianPrepayment and HasModPL) then begin
      SpecialMenu("  ",' ',6,"ConnectToPrepayVIDsm");
    end;
    SpecialMenu(" -",' ',15,"CreateCreditNoteVIDsm");
    if (HasModCL) then begin
      SpecialMenu("Create Cash Out",' ',8,"DoCLOutFromVID");
    end;
    if (HasModNL and HasMultiCurrency) then begin
      SpecialMenu("  -",' ',12,"IntIVFromVIDsm");
    end;
    if (HasLocalization("POL,HRV")) and (HasModNL) then begin
      SpecialMenu("   ",' ',9,"VATCorrectionVIsm");
    end;
  end else begin
    BlockLoad(CYb);
    vs = 20;
    Tile(0,94,false,"",InvDate);
    if (IsEnterprise) then begin
      h = 75; h2 = 260; h3 = 530;
    end else begin
      h = 90; h1 = 90; h2 = 270; h3 = 470; h4=-110;
    end;
    if (HasNumberSeries) then begin
      EditField(h,vm=(v=6),95,"",Normal,SerNr,false,TSerSClass);
    end else begin
      EditField(h,vm=(v=6),95,"No.",Normal,SerNr,false,0);
    end;
    EditField(h,v+=vs,95,"",Normal,VECode,false,VESClass);
    EnterSkip(PayVal);
    EditField(h2,v=vm,-40,".",Normal,VEName,false,0);
    if (IsEnterprise) then begin
      EditField(h2,vm=(v+=20),95,". ",Normal,HoldSum,true,0);
    end else begin
      EditField(h2,v+=vs,80," /",Normal,InvDate,false,PasteCurDate);
      EditField(h3,v,90,"",Normal,RefStr,false,0);
    end;
    CheckBox(h4=-100,v,0,"",OKFlag);
    if (IsEnterprise) then begin
      EditField(h,v+=vs,95,"",Normal,PayVal,true,0);
      EditField(h2,v,95,"",Normal,VATVal,true,0);
    end;
    tilenr = 1;
    TileButton(tilenr,""); tilenr = tilenr + 1;
    TileButton(tilenr,""); tilenr = tilenr + 1;
    TileButton(tilenr,""); tilenr = tilenr + 1;
    if (IsEnterprise) then begin
      if (HasLocalization("UKR")) then begin
        TileButton(tilenr," "); tilenr = tilenr + 1;
      end;
      TileButton(tilenr,"."); tilenr = tilenr + 1;
      TileButton(tilenr,""); tilenr = tilenr + 1;
      TileButton(tilenr," . "); tilenr = tilenr + 1;
    end;
    tilenr = 1;
    Tile(tilenr,90,false,tilenr,InvDate); tilenr = tilenr + 1;
    if (IsEnterprise) then begin
      vs = 20; h1 = 110; h2 = 290; h3 = 530; h4 = -100;
      EditField(h1,vm=(v=6),82," /",Normal,InvDate,false,PasteCurDate);
      EditField(h1,v+=vs,25," ",Normal,PayDeal,false,PDSClass);//PDSClass
      EditField(h1,v+=vs,82," ",Normal,TransDate,false,PasteCurDate);
      EditField(h1,v+=vs,82," ",Normal,DueDate,false,0);
      if (HasLocalization("POL")) then begin
        EditField(h1,v+=vs,82," . ",Normal,ServiceDelDate,false,PasteCurDate);
      end;
    end else begin
      EditField(h,v=6,80,". / ",Normal,InvoiceNr,false,0);
      EditField(h,v+=vs,80,"",Normal,PayVal,true,0);
      EnterSkip(PayDeal);
      EditField(h,v+=vs,80,"",Normal,VATVal,true,0);
    end;
    if (IsEnterprise) then begin
      EditField(h2,v=vm,135," / .",Normal,InvoiceNr,false,0);
      EditField(h2,v+=vs,135,"",Normal,OKPersons,false,UserSClass);
      EditField(h2,v+=vs,135,"",Normal,Objects,false,ObjSClass);
      EditField(h2,v+=vs,135,"",Normal,RefStr,false,0);
    end else begin
      EditField(h2,v=6,22,". ",Normal,PayDeal,false,PDSClass);
      EnterSkip(Math);
      EditField(h2,v+=vs,80," .",Normal,TransDate,false,PasteCurDate);
      EditField(h2,v+=vs,80," ",Normal,DueDate,false,0);
    end;
    if (IsEnterprise) then begin
      EditField(h3,v=vm,82," ",Normal,RcvDate,false,PasteCurDate);
      EditField(h3,v+=vs,82," ",Normal,RebDate,false,PasteCurDate);
      EditField(h3,v+=vs,82,"",Normal,RebVal,true,0);
      EditField(h3,v+=vs,82,". /",Normal,CredInv,false,APSClass);
    end else begin
      EditField(h3,v=6,90,". /",Normal,CredInv,false,APSClass);
      EditField(h3,v+=vs,90,". ",Normal,BankAcc,false,0);
      EditField(h3,v+=vs,90," .",Normal,SortCode,false,0);
      v = 6;
      if (HasLanguages) then begin
        EditField(h4,v,90,"",Normal,LangCode,false,LangSClass);
        v = v + vs;
      end;
      if (HasObjects) then begin
        EditField(h4,v,90,"",Normal,Objects,false,ObjSClass);
        v = v + vs;
      end;
    end;
    EnterSkip(Math);
    if (HasAdvancedAccounting) then begin
      CheckBox(h4,v=6,0,"",Closed);
      if (StandardHansa==false) then begin
        CheckBox(h4,v+=16,0,". ",PrelBook);
      end;
    end;
    Tile(tilenr,130,true,tilenr,Math); tilenr = tilenr + 1;
    EditField(140,-21,50,"",Normal,CurncyCode,false,CurncyCodeSClass);
    if (HasWithholdingTax) then begin
      if (StandardHansa==false) then begin
        EditField(270,-20,70,". ",Normal,WithHoldingTax,true,0);
      end;
    end;
    if (HasExtTax) then begin
      EditField(410,-20,70,". ",ViewOnly,TAX1Sum,true,0);
    end;
    EditField(-120,-20,70," ",ViewOnly,CalcVATVal,true,0);
  //  SoftEditField(-144,-21,70,"Subtotal",ViewOnly,"NettVal",true,0,M4Val,255);
    EnterSkip(Math);
  //  CheckBox(20,-21,0,"OK",OKFlag);
    h=4;
    if (HasModNL) then begin
      if (IsEnterprise) then begin
        MatrixBegin(h,v=24,-50,-24,-,299);
      end else begin
        MatrixBegin(h,v=24,-27,-24,-,99);
      end;
      MatTypedRow(stp); //??
      MatOverStrike(ovst);
      flipnr = 0;
      Flip(flipnr); flipnr = flipnr + 1;
      MatCol(t=kInvoiceRowTypeNormal,32,"",0,AccNumber,false,AccSClass);
      if (HasObjects) then begin
        MatCol(t,90,"",0,Objects,false,ObjSClass);
      end;
      MatText(t=6,32," .",true);
      MatCol(t,170,"",0,PrepayNr,true,APPay3SClass);
      MatCol(t,-250,"",0,Comment,false,0);
      MatCol(t,-160,"",0,PrepayAmount,true,0);/* Price holds the #VAT# sum, Recipe holds the date of prepaym. */
      MatCol(t,-70,"",0,VATVal,true,0);
      MatText(t=kInvoiceRowTypeRetention,32,"",true);
      MatCol(t,100,"",0,Comment,false,0);
      if (HasProjects) then begin
        MatCol(t,-340,"",0,PRCode,false,PRSClass);
      end;
      MatCol(t,-210,"",0,AccNumber,false,AccSClass);
      MatCol(t,-110,"",0,Sum,true,0);
      if (CYb.UseTaxTemplatesforTaxCalc!=0) then begin
        MatCol(t,-30,"..",0,TaxTemplateCode,false,TaxTemplateSClass);
      end else begin
        MatCol(t,-30," ",0,VATCode,false,VATCodeSClass);
      end;
      MatText(t=kInvoiceRowTypeWithholdingTax,32," ",true);
      MatCol(t,132,"",0,WHTax,false,WHTaxSClass);
      MatCol(t,172,"",0,AccNumber,false,AccSClass);
      MatCol(t,292,"",0,Sum,true,0);
      MatCol(t,392,"",0,Comment,false,0);
      Flip(flipnr); flipnr = flipnr + 1;
      t = 1; pos = 180;
      if (HasAdvancedAccounting) then begin
        MatCol(t,pos," ",0,ACShort,false,ACShortSClass);
        pos = pos + 60;
      end;
      MatCol(t,pos,"",0,Comment,false,0);
      MatCol(t,-120,"",0,Sum,true,0);
      if (CYb.UseTaxTemplatesforTaxCalc!=0) then begin
        MatCol(t,-30,"..",0,TaxTemplateCode,false,TaxTemplateSClass);
      end else begin
        MatCol(t,-30,"",0,VATCode,false,VATCodeSClass);
      end;
    //  MatCol(t,-30,"TT",0,TaxTemplateCode,false,VATCodeSClass);
      if (HasAdvancedStock or HasModTS or HasModPO) then begin
        Flip(flipnr); flipnr = flipnr + 1;
        pos = 140;
        t=1;
        if (HasAdvancedStock) then begin
          MatCol(t,pos," ",0,OrderType,false,0);
          MatCol(t,-360," ",0,StockType,false,SetSClass);
        end else begin
          MatCol(t=1,pos,"",0,Comment,false,0);
        end;
        MatCol(t,-260,"",0,Sum,true,0);
        MatCol(t,-190,"",0,Item,false,INSClass);
        MatCol(t,-130,"-",0,qty,true,0);
        if (HasModTS) then begin
          MatCol(t,-100,"",0,PRCode,false,PRSClass);
        end;
        if (CYb.UseTaxTemplatesforTaxCalc!=0) then begin
          MatCol(t,-30,"..",0,TaxTemplateCode,false,TaxTemplateSClass);
        end else begin
          MatCol(t,-30,"",0,VATCode,false,VATCodeSClass);
        end;
        MatText(3,270,"",true);
      end;
      if (HasSimAccruals) then begin
        Flip(flipnr); flipnr = flipnr + 1;
        MatCol(t=kInvoiceRowTypeNormal,140,"",0,Comment,false,0);
        MatCol(t,-260,"",0,Sum,true,0);   // From dict
        MatCol(t,-180,"...",0,PeriodCode,false,AutSimPerSClass);   // From dict
        MatCol(t,-80,"",0,VATVal,true,0);   // From dict
      end;
      if (HasAdvancedStock or HasSerialNumbers) then begin
        Flip(flipnr); flipnr = flipnr + 1;
        MatCol(t=kInvoiceRowTypeNormal,140,"",0,Comment,false,0);
        MatCol(t,-350,"",0,Item,false,INSClass);   // From dict
        if (HasSerialNumbers) then begin
          MatColTL(t,-250," ",0,-1,ViewOnly,-1,SerialNr,false,0);   // From dict
        end;
        MatCol(t,-130,"-",0,qty,true,0);   // From dict
        if (HasAdvancedStock) then begin
          MatColTL(t,-70," ",0,-1,ViewOnly,-1,VarianceAmount,false,0);   // From dict
        end;
      end;
      if (HasModAT2) then begin
        Flip(flipnr); flipnr = flipnr + 1;
        MatCol(t=kInvoiceRowTypeNormal,140,"",0,Comment,false,0);
        MatCol(t,-300," ",0,InventoryNr,false,AT2UnitSClass);
        MatCol(t,-150," .  ",0,AssetTransType,false,SetSClass);
      end;
      InsertRowTest;
      DeleteRowTest;
      EndMatrix;
      vs = 20;
      v = 18;
      if (flipnr>2) then begin
        for (f=1;f<flipnr;f=f+1) begin
          VTab(-35,v,-16,v+vs,ToolFlip,f,chr(asc("A") + f - 1));
          v = v + vs;
        end;
      end;
    end;

    Tile(tilenr,70,false,tilenr,FrRate); tilenr = tilenr + 1;
    vs = 20;
    if (HasBase2) then begin
      h1 = h1 + 20;
    end;
    EditField(h1,v=6,50,"",Normal,CurncyCode,false,CurncyCodeSClass);
    if (HasMultiCurrency) then begin
    if (HasBase2) then begin
        EditField(h1,v+vs,50,"  1",Normal,BaseRate1,true,0);
    end else begin
        EditField(h1,v+vs,50," ",Normal,BaseRate1,true,0);
      end;
      if (HasBase2) then begin
        EditField(h1,v+(vs*2),50,"  2",Normal,BaseRate2,true,0);
      end;
      EditField(h2=295,v,50,"",Normal,FrRate,true,0);
      if (HasBase2) then begin
        RateField(h3=360,v,50,":",Normal,"ToRateB1",true,h3+60,v+14,"  1",false);
        RateField(h3,v+=vs,50,":",Normal,"ToRateB2",true,h3+60,v+14,"  2",false);
      end else begin
        RateField(h3=360,v,50,":",Normal,"ToRateB1",true,h3+60,v+14," ",false);
      end;
    end else begin
      EditField(h1,v+=vs,50,"  1",Normal,BaseRate1,true,0);
      EditField(h1,v+=vs,50,"  2",Normal,BaseRate2,true,0);
    end;
    if (IsEnterprise) then begin
      if (HasLocalization("UKR")) then begin
        Tile(tilenr,70,false,tilenr,VATFrRate); tilenr = tilenr + 1;
        vs = 20;
        EditField(h=110,v=6,50,"",Normal,CurncyCode,false,CurncyCodeSClass);
        EditField(h,v+vs,50,"  1",Normal,VATBaseRate1,true,0);
        EditField(h,v+(vs*2),50,"  2",Normal,VATBaseRate2,true,0);
        EditField(h2=295,v,50,"#VAT# Rate",Normal,VATFrRate,true,0);
        RateField(h3=360,v,50,":",Normal,"VATToRateB1",true,h3+60,v+14,"  1",false);
        RateField(h3,v+=vs,50,":",Normal,"VATToRateB2",true,h3+60,v+14,"  2",false);
      end;
      Tile(tilenr,110,false,tilenr,PRCode); tilenr = tilenr + 1;
      vs = 20; h1 = 110; h2 = 290; h3 = 550; h4 = -100;
      if (StandardHansa==false) then begin
        EditField(h1,v=vm,82,"",Normal,VEFactoring,false,VESClass);
        EditField(h1,v+=vs,82,"",ViewOnly,BranchID,false,0);
      end else begin
        EditField(h1,v=vm,82,"",ViewOnly,BranchID,false,0);
      end;
      EditField(h1,v+=vs,82," .  .",Normal,SupCurVal,false,0);
      EditField(h1,v+=20,82,". -",Normal,StatVal,true,0);
      EditField(h1,v+=vs,-20,"",Normal,Comment,false,0);
      EditField(h2,v=vm,80,"",Normal,SalesMan,false,UserSClass);
      if (StandardHansa==false) then begin
        EditField(h2,v+=vs,80," ",Normal,SalesGroup,false,SalesGroupSClass);
        EditField(h2+160,v,80,"Org. Supp.",ViewOnly,OrgVE,false,0);
      end;
      EditField(h2,v+=vs,80,"",Normal,LangCode,false,LangSClass);
      EditField(h2,v+=vs,80," .",Normal,APAcc,false,AccSClass);
      CheckBox(h3,v=6,0,"  / .",APonTR);
      if (StandardHansa==false) then begin
        if (HasLocalization("PRT")==false) then begin
          CheckBox(h3,v+=16,0," ",SelfBilling);
        end;
        if (HasLocalization("ARG")) then begin
        CheckBox(h3,v+=16,0," /",FiscalFlag);
        end;
      end;
      Tile(tilenr,90,false,tilenr,POSerNr); tilenr = tilenr + 1;
      EditField(h1,v=vm,82," . .",ViewOnly,POSerNr,false,0);
      if (StandardHansa==false) then begin
        EditField(h1,v+=vs,82," . . .",Normal,POCQStatNr,false,POCQStatSClass);
        EditField(h1,v+=vs,82," . ",Normal,ServiceDelDate,false,PasteCurDate);
        if (HasLocalization("ARG")) then begin
        EditField(h1,v+=vs,82," . CAE",Normal,CAEExpiry,false,PasteCurDate);
        end;
      end;
      EditField(h2,v=vm,135," ",Normal,BankCode,false,BankSClass);
      EditField(h2,v+=vs,135," ",Normal,BankAcc,false,VEBankAccSClass);
      EditField(h2,v+=vs,135," ",Normal,SortCode,false,0);
      if (StandardHansa==false) then begin
        if (HasLocalization("ARG")) then begin
        EditField(h2,v+=vs,135,"CAE",Normal,CAE,false,0);
        end;
        v = vm;
        if (HasLocalization("ARG,BOL")) then begin
          EditField(h3,v,-20,"  ",Normal,TaxAuthID,false,0);
          EditField(h3,v+=vs,-20," ",Normal,TaxAuthIDCC,false,0);
        end;
        EditField(h3,v+=vs,-20,"-",Normal,BarCode,false,0);
      end else begin
        EditField(h3,v=vm,-20,"-",Normal,BarCode,false,0);   // From dict
      end;
      EditField(h3,v+=vs,-20," ",Normal,PaymentCode,false,PaymentCodeSClass);
  /*
    EditField(h2,v,30,"Sup. VAT-Code",Normal,VEVatCode,false,VATCodeSClass);
    EditField(h3,v,80,"Official Ser. No.",Normal,OfficialSerNr,false,0);
  */
      Tile(tilenr,250,false,tilenr,Addr1); tilenr = tilenr + 1;
      label = UserDefined("CUVc","InvAddr0");
      if (blank(label)) then begin label = "Invoice"; end;
      EditField(h=110,v=6,-20,label,Normal,Addr1,false,0);
      label = UserDefined("CUVc","InvAddr1");
      if (blank(label)) then begin label = ""; end;
      EditField(h,v+=vs, -20,label,Normal,Addr2,false,0);
      label = UserDefined("CUVc","InvAddr2");
      EditField(h,v+=vs, -20,label,Normal,Addr3,false,0);
      label = UserDefined("CUVc","InvAddr3");
      EditField(h,v+=vs, -20,label,Normal,InvAddr3,false,0);
      label = UserDefined("CUVc","InvAddr4");
      EditField(h,v+=vs, -20,label,Normal,InvAddr4,false,0);
      EditField(h,vm=(v+=vs),80,"",Normal,InvCountry,false,CountrySClass);
      if (HasApprovals) then begin
        ButtonFrame(h3=h+4,v=(vm+=40),123,6," ");
        RadioButton(h3,v,kAcceptanceStateNotRequired,0," ",AcceptanceStatus);
        RadioButton(h3,v+=16,kAcceptanceStateNotStarted,0," ",AcceptanceStatus);
        RadioButton(h3,v+=16,kAcceptanceStateNotRequested,0," ",AcceptanceStatus);
        RadioButton(h3,v+=16,kAcceptanceStatePending,0," ",AcceptanceStatus);
        RadioButton(h3,v+=16,kAcceptanceStateApproved,0,"",AcceptanceStatus);
        RadioButton(h3,v+=16,kAcceptanceStateRejected,0,"",AcceptanceStatus);
        v = VATZoneButtonsLabelsRUS(h3=290,v=vm,140,16);
      end else begin
        v = VATZoneButtonsLabelsRUS(h3=290,v=vm+20,140,16);
      end;
      EditField(h2=-170,v=vm,150,"",Normal,Region,false,RegionSClass);
      EditField(h2,v+=vs,150,"",Normal,VATNr,false,0);
      if (HasLocalization("HRV,SVN")) then begin
      EditField(h2,v+=vs,50,". ",ViewOnly,VELegalForm,false,0);
      end;
      EditField(h2,v+=vs,150,"",Normal,Phone,false,0);
      EditField(h2,v+=vs,150,"",Normal,Fax,false,0);
    end;
    SpecialMenu("",'=',0,"BalanceVIDsm");
    if (HasModNL) then begin
      SpecialMenu(" -",'r',2,"VIInfoVIDsm");
    end;
    if (HasModTS) then begin
      SpecialMenu(" ",' ',25,"RetentionLineVIDsm");
    end;
    if (HasWithholdingTax) then begin
      SpecialMenu("  ",' ',26,"WithholdingLineVIDsm");
    end;
    if (HasEInvoicing) then begin
      SpecialMenu(" E- / pdf",' ',13,"OpenVEIVPDFDsm");
    end;
    if (HasModNL) then begin
      SpecialMenu("  ",'t',5,"OpenTRFromVI");
    end;
    if (HasAdvancedAccounting) then begin
      SpecialMenu("   ",' ',13,"OpenTRFromVI2");
    end;
    if (HasApprovals) then begin
      SpecialMenu("  ",' ',6,"VISendforAcceptanceVIDsm");
      SpecialMenu("   ",' ',2,"CancelApprovalRequestDsm");
    end;
    if (HasRussianPrepayment and HasModPL) then begin
      SpecialMenu("  ",' ',6,"ConnectToPrepayVIDsm");
    end;
    if (HasModCRM) then begin
      SpecialMenu(" ",'c',4,"ActFromVIDsm");
    end;
    if (HasModAT2) then begin
      SpecialMenu(" ",' ',7,"CreateAT2FromVI");
    end;
    if (HasModCL) then begin
      SpecialMenu("  ",' ',8,"DoCLOutFromVID");
    end;
    SpecialMenu("  -",' ',15,"CreateCreditNoteVIDsm");
    if ((HasModNL and HasMultiCurrency) and (StandardHansa==false)) then begin
      SpecialMenu("  -",' ',12,"IntIVFromVIDsm");
    end;
    if (HasLocalization("UKR")) then begin
      SpecialMenu("  ",' ',10,"FirstEventVIDsm");
    end;
    if (HasLocalization("POL")) and (HasModNL) then begin
      SpecialMenu("   ",' ',9,"VATCorrectionVIsm");
    end;
    if (HasModIN and HasAdvancedAccounting) then begin
      if (StandardHansa==false) then begin
        SpecialMenu("  ",' ',11,"PUNotReconVIDsm");
      end;
      SpecialMenu(" ",'f',1,"ItemSearchDsm");
    end;
    if (HasModCL) then begin
      SpecialMenu("  ",' ',3,"PrintCashInOutVIDsm");
    end;
    if (HasTaxMatrix) then begin
      SpecialMenu("  ",' ',25,"TestVatMatrixVIDsm");
    end;
  end;
  EndWindow;
end;

window TRDClass:2
  wtag("language","RUS"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer")
begin
  real h,v,vm,vs;
  Integer f,flipnr;

  WindowBegin(" ",TRDClass,CGview,-);
  if (HasExtraNLComment) then begin
    SetWRect(20,80,900,400);
  end else begin
    SetWRect(20,80,640,400);
  end;
  UseView(TRVc);
  Sizeable(-1,-1,0,0);
  FormName(PrintTRD);
  ActiveFieldOnNew("TransDate");
  vs=20;
  if (HasNumberSeries) then begin
    EditField(80,v=6,80, "",Normal,Number,false,TSerSClass);
  end else begin
    EditField(80,v=6,80,"",Normal,Number,false,0);
  end;
  EditField(240,v,82,"",Normal,TransDate,false,PasteCurDate);
  EnterSkip(Comment);
  if (HasAdvancedAccounting) or (HasLocalization("POL")) then begin
    EditField(396,v,100,"",Normal,RefStr,false,0);
//  EditField(570,v,80,"Doc No.",Normal,SeqNr,false,0);
  end;
  EditField(80,v+=vs,-40,".",Normal,Comment,false,0);
//  CheckBox(450,v,0,"E_xported",Expf);
  EnterSkip(Math);
  if (HasBase2) then begin
    EditField(120,-41,88," .1",ViewOnly,DiffVal,true,0);
  end else begin
    EditField(120,-41,88,"",ViewOnly,DiffVal,true,0);
  end;
  if (HasBase2 or HasMultiCurrency) then begin
    EditField(-250,-41,88,"",ViewOnly,DSum,true,0);
    EditField(-157,-41,88,"",ViewOnly,CSum,true,0);
    if (HasBase2) then begin
      EditField(120, -21,88," .2",ViewOnly,Diff2Val,true,0);
      EditField(-250,-21,88,"",ViewOnly,DSum2,true,0);
      EditField(-157,-21,88,"",ViewOnly,CSum2,true,0);
    end;
  end else begin
    EditField(-250,-41,88,"",ViewOnly,DSum,true,0);
    EditField(-157,-41,88,"",ViewOnly,CSum,true,0);
    if (HasBase2) then begin
      EditField(120, -21,88," .2",ViewOnly,Diff2Val,true,0);
      EditField(-250,-21,88,"",ViewOnly,DSum2,true,0);
      EditField(-157,-21,88,"",ViewOnly,CSum2,true,0);
    end;
  end;
  h=4; v=v+(vs+17);
  if (HasMultiCurrency or HasBase2 or HasMultiCurrency) then begin
    MatrixBegin(5,vm=v,-50,-46,-,500);
  end else begin
    MatrixBegin(5,vm=v,-25,-46,-,500);
  end;
  MatTypedRow(stp);
  MatOverStrike(ovst);
  Flip(0);
  flipnr = 1;
  Flip(flipnr); flipnr = flipnr + 1;
  MatCol(1,32,"",0,AccNumber,false,AccSClass);
  if (HasObjects) then begin
    MatCol(1,98,"",0,Objects,false,ObjSClass);
//  MatCol(1,-400,"Short.",0,ACShort,false,ACShortSClass); // what the hell is this? Karl
    if (HasExtraNLComment) then begin
      MatCol(1,-550,"",0,Comment,false,0); // -349
      //MatCol(1,-380," ",0,ExtraComment,false,0); // -349 //Edit***************************Sasha2,11:36 03.03.2015
    end else begin
      MatCol(1,-400,"",0,Comment,false,0); // -349
    end;
  end else begin
//  MatCol(1,-400,"Short.",0,ACShort,false,ACShortSClass); // what the hell is this? Karl
    if (HasExtraNLComment) then begin
      MatCol(1,-550,"",0,Comment,false,0); // -349
      MatCol(1,-380,". ",0,ExtraComment,false,0); // -349
    end else begin
      MatCol(1,-550,"",0,Comment,false,0); // -349
    end;
  end;
  if (HasMultiCurrency) then begin
    if (GuiType==kGuiiPhone) then begin
      MatCol(1,-290," . 1",0,DebVal,true,0);
      MatCol(1,-230," . 2",0,CredVal,true,0);
    end else begin
      MatCol(1,-410," . 1",0,DebVal,true,0); //Edit***************************Sasha2,11:38 03.03.2015
      MatCol(1,-330," . 2",0,CredVal,true,0); //Edit***************************Sasha2,11:38 03.03.2015
    end;
  end else begin
    if (GuiType==kGuiiPhone) then begin
      MatCol(1,-290,"",0,DebVal,true,0);
      MatCol(1,-230,"",0,CredVal,true,0);
    end else begin
      MatCol(1,-210,"",0,DebVal,true,0);
      MatCol(1,-120,"",0,CredVal,true,0);
    end;
  end;
  MatCol(1,-250,"",0,Curncy,false,CurncyCodeSClass); //Edit***************************Sasha2,11:47 03.03.2015
  MatCol(1,-200,"  ",0,CurDebVal,true,0); //Edit***************************Sasha2,11:47 03.03.2015
  MatCol(1,-100,"  ",0,CurCredVal,true,0); //Edit***************************Sasha2,11:47 03.03.2015
  //MatCol(1,-30,"",0,VATCode,false,VATCodeSClass); //Edit***************************Sasha2,11:36 03.03.2015
  MatText(2,32,"",true);
  MatColTL(2,108,"",0,M4Code,ViewOnly,0,Sign,false,0);
  MatText(2,160,"  ",true);
  MatColTL(2,290,"",0,-1,ViewOnly,-1,OldTransDate,false,0);
  MatText(3,32," ",true);
  MatColTL(3,215,"",0,M4AppCode,ViewOnly,0,CorrNr,false,0);
  MatText(3,315," ",true);
  MatCol(3,385,"",0,CorrDate,false,0);
  MatText(4,32," ",true);
  MatColTL(4,215,"",0,M4AppCode,Normal,0,CorrNr,false,0);
  if (HasBase2) then begin
    Flip(flipnr); flipnr = flipnr + 1;
    MatCol(1,32,"",0,AccNumber,false,AccSClass);
    if (HasObjects) then begin
      MatCol(1,98,"",0,Objects,false,ObjSClass);
    end else begin
      MatCol(1,-550,"",0,Comment,false,0);
    end;
    MatCol(1,-400," .1",0,DebVal,true,0);
    MatCol(1,-300," .1",0,CredVal,true,0);
    MatCol(1,-200," .2",0,DebVal2,true,0);
    MatCol(1,-100," .2",0,CredVal2,true,0);
    MatText(2,32,"",true);
    MatCol(2,108,"",0,Sign,false,0);
    MatText(2,160,"  ",true);
    MatColTL(2,290,"",0,-1,ViewOnly,-1,OldTransDate,false,0);
    MatText(3,32," ",true);
    MatColTL(3,215,"",0,M4AppCode,ViewOnly,0,CorrNr,false,0);
    MatText(3,315," ",true);
    MatCol(3,385,"",0,CorrDate,false,0);
    MatText(4,32," ",true);
    MatColTL(4,215,"",0,M4AppCode,Normal,0,CorrNr,false,0);
  end;
  if (HasMultiCurrency) then begin
    Flip(flipnr); flipnr = flipnr + 1;
    MatCol(1,32,"",0,AccNumber,false,AccSClass);
    if (HasObjects) then begin
      MatCol(1,98,"",0,Objects,false,ObjSClass);
    end else begin
      MatCol(1,-550,"",0,Comment,false,0);
    end;
    if (HasBase2) then begin
      MatCol(1,-410,".1 ",0,DebVal,true,0);
      MatCol(1,-330,".1 ",0,CredVal,true,0);
    end else begin
      MatCol(1,-410,"",0,DebVal,true,0);
      MatCol(1,-330,"",0,CredVal,true,0);
    end;
    MatCol(1,-250,"",0,Curncy,false,CurncyCodeSClass);
    MatCol(1,-200,"  ",0,CurDebVal,true,0);
    MatCol(1,-100,"  ",0,CurCredVal,true,0);
    MatText(2,32,"",true);
    MatCol(2,108,"",0,Sign,false,0);
    MatText(2,160,"  ",true);
    MatColTL(2,290,"",0,-1,ViewOnly,-1,OldTransDate,false,0);
    MatText(3,32," ",true);
    MatColTL(3,215,"",0,M4AppCode,ViewOnly,0,CorrNr,false,0);
    MatText(3,315," ",true);
    MatCol(3,385,"",0,CorrDate,false,0);
    MatText(4,32," ",true);
    MatColTL(4,215,"",0,M4AppCode,Normal,0,CorrNr,false,0);
    Flip(flipnr); flipnr = flipnr + 1;
    MatCol(1,32,"",0,AccNumber,false,AccSClass);
    if (HasObjects) then begin
      MatCol(1,98,"",0,Objects,false,ObjSClass);
    end else begin
      MatCol(1,-550,"",0,Comment,false,0);
    end;
    if (HasBase2) then begin
      MatCol(1,-400,"",0,Curncy,false,CurncyCodeSClass);
      MatCol(1,-350," .1",0,BaseRate1,true,0);
      MatCol(1,-280," .2",0,BaseRate2,true,0);
    end else begin
      MatCol(1,-300,"",0,Curncy,false,CurncyCodeSClass);
    end;
    MatCol(1,-210,"....",0,FrRate,true,0);
    MatCol(1,-140," .1",0,ToRateB1,true,0);
    if (HasBase2) then begin
      MatCol(1,-70," .2",0,ToRateB2,true,0);
    end;
    MatText(2,32,"",true);
    MatCol(2,108,"",0,Sign,false,0);
    MatText(2,160,"  ",true);
    MatColTL(2,290,"",0,-1,ViewOnly,-1,OldTransDate,false,0);
    MatText(3,32," ",true);
    MatColTL(3,215,"",0,M4AppCode,ViewOnly,0,CorrNr,false,0);
    MatText(3,315," ",true);
    MatCol(3,385,"",0,CorrDate,false,0);
    MatText(4,32," ",true);
    MatColTL(4,215,"",0,M4AppCode,Normal,0,CorrNr,false,0);
  end;
  if (IsEnterprise) then begin
    Flip(flipnr); flipnr = flipnr + 1;
    MatCol(1,32,"T",0,Typ,false,SetSClass);
    MatCol(1,52,"",0,SerNr,false,ARSClass);
    MatCol(1,112," .",0,DueDate,false,PasteCurDate);
    MatCol(1,184,".",0,CompCode,false,CUSClass);
    if (HasExtraNLComment) then begin
      MatCol(1,-550,"",0,Comment,false,0);
      MatCol(1,-410," ",0,ExtraComment,false,0);
    end else begin
      MatCol(1,-400,".",0,Comment,false,0);
    end;
    MatCol(1,-290,"",0,AccNumber,false,AccSClass);
    MatCol(1,-210,"",0,DebVal,true,0);
    MatCol(1,-120,"",0,CredVal,true,0);
    MatCol(1,-30,"",0,VATCode,false,VATCodeSClass);
    MatText(2,32,"",true);
    MatCol(2,108,"",0,Sign,false,0);
    MatText(2,160,"  ",true);
    MatColTL(2,290,"",0,-1,ViewOnly,-1,OldTransDate,false,0);
    MatText(3,32," ",true);
    MatColTL(3,215,"",0,M4AppCode,ViewOnly,0,CorrNr,false,0);
    MatText(3,315," ",true);
    MatCol(3,385,"",0,CorrDate,false,0);
    MatText(4,32," ",true);
    MatColTL(4,215,"",0,M4AppCode,Normal,0,CorrNr,false,0);
    Flip(flipnr); flipnr = flipnr + 1;
    MatCol(1,32,"",0,AccNumber,false,AccSClass);
    if (HasObjects) then begin
      MatCol(1,98,"",0,Objects,false,ObjSClass);
    end;
    if (HasExtraNLComment) then begin
      MatCol(1,-590,"",0,Comment,false,0);
      MatCol(1,-450,"Additional Description",0,ExtraComment,false,0);
    end else begin
      MatCol(1,-420," .",0,Comment,false,0);
    end;
    MatCol(1,-330,"",0,NomVal,true,0);
    MatCol(1,-230,"",0,DebVal,true,0);
    MatCol(1,-130,"",0,CredVal,true,0);
    MatCol(1,-30,".",0,CorspSer,false,0);
    MatText(2,32,"",true);
    MatCol(2,108,"",0,Sign,false,0);
    MatText(2,160,"  ",true);
    MatColTL(2,290,"",0,-1,ViewOnly,-1,OldTransDate,false,0);
    MatText(3,32," ",true);
    MatColTL(3,215,"",0,M4AppCode,ViewOnly,0,CorrNr,false,0);
    MatText(3,315," -",true);
    MatCol(3,385,"",0,CorrDate,false,0);
    MatText(4,32,"  ",true);
    MatColTL(4,215,"",0,M4AppCode,Normal,0,CorrNr,false,0);
    Flip(flipnr); flipnr = flipnr + 1;
    MatCol(1,32,"",0,AccNumber,false,AccSClass);
    if (HasObjects) then begin
      MatCol(1,98,"",0,Objects,false,ObjSClass);
    end;
    if (HasExtraNLComment) then begin
      MatCol(1,-550,"",0,Comment,false,0);
      MatCol(1,-380," ",0,ExtraComment,false,0);
    end else begin
      MatCol(1,-420,"",0,Comment,false,0);
    end;
    if (StandardHansa==false) then begin
      MatCol(1,-260,". ",0,TAccNumber,false,TAccSClass);
      MatCol(1,-180,"",0,Qty,true,0);
      MatCol(1,-100,"SAFT ",0,SAFTType,false,SetSClass);
    end;
    MatText(2,32,"",true);
    MatCol(2,108,"",0,Sign,false,0);
    MatText(2,160,"  ",true);
    MatColTL(2,290,"",0,-1,ViewOnly,-1,OldTransDate,false,0);
    MatText(3,32," ",true);
    MatColTL(3,215,"",0,M4AppCode,ViewOnly,0,CorrNr,false,0);
    MatText(3,315," -",true);
    MatCol(3,385,"",0,CorrDate,false,0);
    MatText(4,32,"  ",true);
    MatColTL(4,215,"",0,M4AppCode,Normal,0,CorrNr,false,0);
  end;
  InsertRowTest;
  DeleteRowTest;
  EndMatrix;
  vs = 20;
  v = vm + 1;
  if (flipnr>2) then begin
    for (f=1;f<flipnr;f=f+1) begin
      VTab(-35,v,-16,v+vs,ToolFlip,f,chr(asc("A") + f - 1));
      v = v + vs;
    end;
  end;
  if (GuiType==kGuiMetro) then begin // Temporarily disabled on Windows 8
    SpecialMenu("",'B',0,"BalanceTRDsm");
    SpecialMenu("   ",' ',1,"SwapDCTRDsm");
    SpecialMenu("  ",' ',3,"CorrectionMarkTRDsm");
    SpecialMenu("  ",'t',6,"OpenSubsystemTRDsm");
    if (HasMultiCurrency) then begin
      SpecialMenu("  ",' ',7,"UpdCurRateTRDsm");
    end;
  end else begin
  SpecialMenu("",'B',0,"BalanceTRDsm");
  SpecialMenu("   ",' ',1,"SwapDCTRDsm");
  if (GuiType!=kGuiMetro or HasMetroTestFeatures) then begin//UGLY and tmp
    SpecialMenu("  ",' ',2,"UpdateMarkTRDsm");
  end;
  SpecialMenu("  ",' ',3,"CorrectionMarkTRDsm");
  SpecialMenu(" ",'F',4,"CalcFieldTRDsm");
  SpecialMenu(" ",' ',5,"ChangeSignTRDsm");
  SpecialMenu("  ",'t',6,"OpenSubsystemTRDsm");
  if (HasMultiCurrency) then begin
    SpecialMenu("  ",' ',7,"UpdCurRateTRDsm");
  end;
  end;
  EndWindow;
end;

window ChangeTermsNPTSSClass:1
  wtag("language","RUS"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer")
begin
  real h,h2,h3,h4,hm,l,v,v3,vm,vs;
  WindowBegin(" ",ChangeTermsNPTSSClass,CGother,RcType);
  UseView(RcVc);
//  Modality(kModalityGlobal);
  SetWRect(80,200,550,460);
  vs = 20;
  EditFieldTL(h=110,v=6,80," ",M4Code,Normal,10,FirstAcc,false,PDSClass);
  EditFieldTL(h,v+=vs,-20,"  .",M4Str,Normal,100,f1,false,0);
  EditFieldTL(h,v+=vs,-20,"",M4Str,Normal,100,f2,false,0);
  EditFieldTL(h,v+=vs,-20,".",M4Str,Normal,100,f3,false,0);
  EditFieldTL(h,v+=vs,-20,". . ",M4Str,Normal,100,f4,false,LegalInvNrSClass);
  EditFieldTL(h,v+=vs,80,"",M4Code,Normal,10,LastAcc,false,LocationSClass);
  EditFieldTL(h,v+=vs,80,"",M4Str,Normal,5,Language,false,LangSClass);
  EditFieldTL(h,v+=vs,-20,"",M4UStr,Normal,60,ObjStr,false,ObjSClass);
  EditFieldTL(h,v+=vs,-20,"",M4UStr,Normal,60,f5,false,PLDefSClass);

  v3 = 33; vs = 37; h3 = 210; h4 = 400; hm = 280;

  vm = -160; vs = 52; h2 = 55; v3 = 48; l = 57;

  v = v + 30;
  ColourPushButton(-250,v,-250+2*h2,v+v3,"CancelAndOverrideLogout","<BR>F2",20);
  ColourPushButton(-130,v,-130+2*h2,v+v3,"ProceedChangeTermsNPTSSClass","<BR>F1",20);
  EndWindow;
end;

window OpenManagerPasswordClass:1
  wtag("language","RUS"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer")
begin
  real h,v,vs;
  WindowBegin("  ",OpenManagerPasswordClass,CGother,RcType);
  SetWRect(64,80,400,200);
  UseView(RcVc);
  ToolBar;
  h = -200;
  HalPushButton(h,5,h+80,25,"OpenManagerPasswordClassCancel","");
  h = h+92;
  PushButton(h,5,h+80,22,ToolOK,"");
  EndToolBar;
  v = 16; vs = 20; h = 100;
  EditFieldTL(h,v+=vs, 150,"", M4Code,Normal,20,AccStr,false,UserSClass);
  EditFieldTL(h,v+=vs, 150,"", M4Star,Normal,20,FirstAcc,false,0);
  EndWindow;
end;



window UserDefRepLinesDClass:2
  wtag("language","RUS"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer")
begin
  real h,h2,v;
  WindowBegin(" ",UserDefRepLinesDClass,CGview,-);
  BrowseButtons(false);
  UseView(UserDefRepLinesVc);
  if (HasLanguages) then begin
    SetWRect(20,80,620,460);
  end else begin
    SetWRect(20,80,620,320);
  end;
  EditField(h=100,v=6,50,"",Normal,IdKey,false,0);
  EditField(h2=250,v,150,".",ViewOnly,shortname,false,0);
  EditField(h,v+=20,300,"",Normal,Comment,false,0);
  if (HasAdvancedAccounting) then begin
    EditField(500,v,-40,". ",Normal,SpecCode,false,0);
    EditField(500,v+20,-40,"",Normal,CurncyCode,false,CurncyCodeSClass);// Edit ************************** Thursday, 5 March 2015 14:49:32
  end;
  EditField(h,50,300,"",Normal,Desc,false,AccSClass);
  EditField(h,70,300,"",Normal,Desc2,false,AccSClass);
  EditField(h,90,300,"",Normal,Desc3,false,AccSClass);
  if (HasAdvancedAccounting) then begin
    EditField(h,110,80,". ",Normal,CorspAcc,false,AccSClass);
  end;
  ButtonFrame(h=15,v=150,100,4,"");
  RadioButton(h,v    ,kRsTypeAccounts,0,"",RsType);
  RadioButton(h,v+=16,kRsTypeSum,0,"",RsType);
  RadioButton(h,v+=16,kRsTypeText,0,"",RsType);
  RadioButton(h,v+=16,kRsTypePageBreak,0,"",RsType);
  ButtonFrame(h=150,v=150,100,5," ");
  RadioButton(h,v    ,0,0,"",AccType);
  RadioButton(h,v+=16,1,0,"",AccType);
  RadioButton(h,v+=16,2,0,"",AccType);
  RadioButton(h,v+=16,3,0,"",AccType);
  RadioButton(h,v+=16,4,0,"",AccType);
  ButtonFrame(h=285,v=150,100,3,"");
  RadioButton(h,v    ,0,0,"",DCSide);
  RadioButton(h,v+=16,1,0,"",DCSide);
  RadioButton(h,v+=16,2,0,"",DCSide);
  ButtonFrame(h=410,v=150,100,3,"/");
  RadioButton(h,v    ,0,0,"",DCSaldo);
  RadioButton(h,v+=16,1,0," ",DCSaldo);
  RadioButton(h,v+=16,2,0," ",DCSaldo);
  if (HasLanguages) then begin
    MatrixBegin(4,v=256,-32,-20,INTextRowType,99);
    MatCol(1,24,"",0,LangCode,false,LangSClass);
    MatCol(1,94,"",0,Text,false,0);
    EndMatrix;
  end;
  EndWindow;
end;


window CLInDClass:1
  wtag("language","RUS"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer")
begin
  real h,h2,h3,l,t,v,vs;
  Integer tilenr;

  WindowBegin("  ",CLInDClass,CGview,-);
  SetWRect(20,80,700,550);
  UseView(CLInVc);
  ActiveFieldOnNew("TransDate");
//  Sizeable(-1,-1,0,0);
  vs = 20; h = 130; h2=h+200; h3 = 472; v=6;
  if (HasOfficialSerNr and HasLocalization("POL")==false) then begin
  Tile(0,70,false,"",SerNr);
  end else begin
    Tile(0,50,false,"",SerNr);
  end;
  if (HasNumberSeries) then begin
    EditField(h,v,80,"",St_i,SerNr,false,TSerSClass);
  end else begin
    EditField(h,v,80,"",St_i,SerNr,false,0);
  end;
  EditField(h2,v,82,"",Normal,TransDate,false,PasteCurDate);
  if (HasOfficialSerNr and HasLocalization("POL")==false) then begin
    EditField(h,v+=vs,135,"  ",Normal,OfficialSerNr,false,LegalCLInNrSClass);
  end;
  tilenr = 1;
  TileButton(tilenr,"");  tilenr = tilenr + 1;
  if (HasMultiCurrency or HasBase2) then begin
    TileButton(tilenr,""); tilenr = tilenr + 1;
  end;
  TileButton(tilenr,""); tilenr = tilenr + 1;
  CheckBox(-100,v,0,"OK",OKFlag);
  tilenr = 1;
  Tile(tilenr,300,false,tilenr,PayMode); tilenr = tilenr + 1;
  EditField(h,v=6,30," .",Normal,PayMode,false,PMSClass);
  EditField(h2,v,50,"",Normal,Person,false,UserSClass);
  CheckBox(400,v,0,".  ..",ARonTR);
  EditField(h,v+=vs,120," .",Normal,CorspCode,false,CLCorspSClass);
  EditField(h2,v,-20,".",Normal,CorspComment,false,0);
  EditField(h,v+=vs,120,"",Normal,CUCode,false,CUSClass);
  if (HasModNL) then begin
  EditField(h2,v,100,"",Normal,RefStr,false,0);
  end;
  EditField(h,v+=vs,-20,"",Normal,CUName,false,0);
  EditField(h,v+=vs,-20,"",Normal,Addr0,false,0);
  EditField(h,v+=vs,-20,"",Normal,Addr1,false,0);
  EditField(h,v+=vs,-20,"",Normal,Addr2,false,0);
  EditField(h,v+=vs,-20,"",Normal,Addr3,false,0);
  EditField(h,v+=vs,-20,"",Normal,Addr4,false,0);
  EditField(h,v+=vs,-20,"",Normal,Comment,false,0);
  if (HasObjects) then begin
  EditField(h,v+=vs,-20,"",Normal,Objects,false,ObjSClass);
  end;
//  CheckBox(20,-20,0,"OK",OKFlag);
  EditField(h,v+=vs,100,"",Normal,Total,true,0);
  if (HasLocalization("POL")==false) then begin
  EditField(h2,v,50," ",Normal,VATCode,false,VATCodeSClass);
  end;
  if (HasLanguages) then begin
  EditField(h3,v,50,"",Normal,LangCode,true,LangSClass);
  end;
  EditField(h,v+=vs,100,"",Normal,NetVal,true,0);
  if (HasLocalization("POL")==false) then begin
  EditField(h2,v,80,"",Normal,VATVal,true,0);
  end;
  if (HasExtTax) then begin
    EditField(h3,v,50,"",Normal,TAX1Sum,true,0);
  end;
  if (HasMultiCurrency or HasBase2) then begin
    Tile(tilenr,70,false,tilenr,CurncyCode); tilenr = tilenr + 1;
  vs = 20;
  EditField(h=110,v=6,50,"",Normal,CurncyCode,false,CurncyCodeSClass);
    if (HasMultiCurrency) then begin
      if (HasBase2) then begin
  EditField(h,v+vs,50,". . 1",Normal,BaseRate1,true,0);
      end else begin
        EditField(h,v+vs,50,". . 1",Normal,BaseRate1,true,0);
      end;
      if (HasBase2) then begin
  EditField(h,v+(vs*2),50,". . 2",Normal,BaseRate2,true,0);
      end;
  EditField(h2=295,v,50,"",Normal,FrRate,true,0);
      if (HasBase2) then begin
  RateField(h3=360,v,50,":",Normal,"ToRateB1",true,h3+60,v+14,". . 1",false);
  RateField(h3,v+=vs,50,":",Normal,"ToRateB2",true,h3+60,v+14,". . 2",false);
      end else begin
        RateField(h3=360,v,50,":",Normal,"ToRateB1",true,h3+60,v+14,". . 1",false);
      end;
    end else begin
      EditField(h,v+=vs,50,". . 1",Normal,BaseRate1,true,0);
      EditField(h,v+=vs,50,". . 2",Normal,BaseRate2,true,0);
    end;
  end;
  Tile(tilenr,200,false,tilenr,Math); tilenr = tilenr + 1;
  h = 8; v=24; l = 35;
  MatrixBegin(4,v,-50,-10,-,99);
  Flip(1);	//Edit----------------------Dima  12.02.2015
	MatTypedRow(stp);
  MatCol(t=1,h=34,"",0,Type,false,SetSClass);
  MatCol(t,h+=120," .",ViewOnly,CorspCode,false,CLCorspSClass);
  MatCol(t,h+=70,"",0,Objects,false,ObjSClass);
	MatCol(t,h+=110,"",0,Comment,false,0);
	MatCol(t,-80,"",0,Sum,true,0);
  Flip(2);
  MatCol(t=1,h=34,"",0,Type,false,SetSClass);
  if (HasLocalization("POL")  and IsStandardProduct) then begin
    MatCol(t,h+=120,"Number",0,TransOfficialSerNr,false,ARSClass);
  end else begin
  MatCol(t,h+=120,"",0,TransNr,false,ARSClass);
  end;
  if (HasModSO) then begin
  MatCol(t,h+=70,"",0,OrderNr,false,ORSClass);
  end;
  if (HasObjects) then begin
  MatCol(t,h+=70,"",0,Objects,false,ObjSClass);
  end;
  MatCol(t,-180,"",ViewOnly,Company,false,0);
  MatCol(t,-80,"",0,Sum,true,0);
  MatText(t=2,h=34,"",true);
  MatCol(t,h+=80,"",0,Type,false,0);
  if (HasLocalization("POL") and IsStandardProduct) then begin
    MatCol(t,h+=200,"",0,TransOfficialSerNr,false,0);
  end else begin
  MatCol(t,h+=200,"",0,TransNr,false,0);
  end;
  MatCol(t,-180,"",ViewOnly,Company,false,0);
  MatCol(t,-80,"",0,Sum,true,0);
  Flip(3);
  MatCol(t=1,h=34,"",0,Type,false,SetSClass);
  MatCol(t,h+=120," .",ViewOnly,CorspCode,false,CLCorspSClass);
  MatCol(t,h+=80," .",Normal,PayMode,false,PMSClass);
  MatCol(t,h+=70,"",0,Comment,false,0);
  MatText(t=2,h=34,"",true);
  MatCol(t,h+=120," .",ViewOnly,CorspCode,false,CLCorspSClass);
  MatCol(t,h+=70,".",0,Comment,false,0);
  InsertRowTest;
  DeleteRowTest;
  EndMatrix;
  vs = 22;
  v=v+ 1; VTab(-35,v,-16,v+vs,ToolFlip,1,"A");	//Edit----------------------Dima  12.02.2015
  v=v+ vs; VTab(-35,v,-16,v+vs,ToolFlip,2,"B");
	v=v+ vs; VTab(-35,v,-16,v+vs,ToolFlip,3,"C");
  if (HasModNL) then begin
  SpecialMenu("  ",'t',0,"OpenTRFromCLIn");
  end;
  if (IsEnterprise) then begin
  if (UserCanReport("CLInColIVRn","",true)) then begin
    SpecialMenu(" -",' ',0,"ShowColIVDsm");
    end;
  end;
  EndWindow;
end;

window CLOutDClass:1
  wtag("language","RUS"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer")
begin
  real h,h2,h3,l,t,v,vs;
  Integer pos,tilenr,flipnr,f;

  WindowBegin("  ",CLOutDClass,CGview,-);
  SetWRect(20,80,700,550);
  UseView(CLOutVc);
  ActiveFieldOnNew("TransDate");
//  Sizeable(-1,-1,0,0);
  vs = 20; h = 100; h2=h+200; h3 = 430; v = 6;
  Tile(0,50,false,"",SerNr);
  if (HasNumberSeries) then begin
    EditField(h,v,80,"",St_i,SerNr,false,TSerSClass);
  end else begin
    EditField(h,v,80,"",Normal,SerNr,false,0);
  end;
  EditField(h+150,v,82,"",Normal,TransDate,false,PasteCurDate);
//  EditField(h3,v,82,"Local Machine",ViewOnly,LocalMachineCode,false,0);
  tilenr = 1;
  TileButton(tilenr,""); tilenr = tilenr + 1;
  if (HasMultiCurrency or HasBase2) then begin
    TileButton(tilenr,""); tilenr = tilenr + 1;
  end;
  TileButton(tilenr,""); tilenr = tilenr + 1;
  CheckBox(-100,v,0,"OK",OKFlag);
  tilenr = 1;
  Tile(tilenr,270,false,tilenr,PayMode); tilenr = tilenr + 1;
  EditField(h,v=6,30," .",Normal,PayMode,false,PMSClass);
  EditField(h2,v,50,"",Normal,Person,false,UserSClass);
  CheckBox(400,v,0,"-  ..",ARonTR);
  EditField(h,v+=vs,120," .",Normal,CorspCode,false,CLCorspSClass);
  EditField(h2,v,-20,".",Normal,CorspComment,false,0);
  if (HasModPL or HasModPO) then begin
  EditField(h,v+=vs,120,"",Normal,CUCode,false,VESClass);
  end;
  if ((HasModNL and HasModPL==false) or (HasModNL==false and HasModPL==false)) then begin
    EditField(h2,v+=vs,100,"",Normal,RefStr,false,0);
  end else begin
  EditField(h2,v,100,"",Normal,RefStr,false,0);
  end;
  if (HasModPL or HasModPO) then begin
  EditField(h,v+=vs,-20,"",Normal,CUName,false,0);
  EditField(h,v+=vs,-20,"",Normal,Addr0,false,0);
  EditField(h,v+=vs,-20,"",Normal,Addr1,false,0);
  EditField(h,v+=vs,-20,"",Normal,Addr2,false,0);
  EditField(h,v+=vs,-20,"",Normal,Addr3,false,0);
  EditField(h,v+=vs,-20,"",Normal,Addr4,false,0);
  end;
  EditField(h,v+=vs,-20,"",Normal,Comment,false,0);
  if (HasObjects) then begin
  EditField(h,v+=vs,-20,"",Normal,Objects,false,ObjSClass);
  end;
//  CheckBox(20,-20,0,"OK",OKFlag);
  EditField(h,v+=vs,100,"",Normal,Total,true,0);
  if (HasLocalization("POL")==false) then begin
  EditField(h2,v,50," ",Normal,VATCode,false,VATCodeSClass);
  end;
  if (HasLanguages) then begin
  EditField(h3,v,50,"",Normal,LangCode,true,LangSClass);
  end;
  EditField(h,v+=vs,100,"",Normal,NetVal,true,0);
  if (HasLocalization("POL")==false) then begin
  EditField(h2,v,80,"",Normal,VATVal,true,0);
  end;
  if (HasExtTax) then begin
    EditField(h3,v,50,"",Normal,TAX1Sum,true,0);
  end;
  if (HasMultiCurrency or HasBase2) then begin
    Tile(tilenr,70,false,tilenr,CurncyCode); tilenr = tilenr + 1;
  vs = 20;
  EditField(h=110,v=6,50,"",Normal,CurncyCode,false,CurncyCodeSClass);
    if (HasMultiCurrency) then begin
      if (HasBase2) then begin
  EditField(h,v+vs,50,". . 1",Normal,BaseRate1,true,0);
      end else begin
        EditField(h,v+vs,50,". . 1",Normal,BaseRate1,true,0);
      end;
      if (HasBase2) then begin
  EditField(h,v+(vs*2),50,". . 2",Normal,BaseRate2,true,0);
      end;
  EditField(h2=295,v,50,"",Normal,FrRate,true,0);
      if (HasBase2) then begin
  RateField(h3=360,v,50,":",Normal,"ToRateB1",true,h3+60,v+14,". . 1",false);
  RateField(h3,v+=vs,50,":",Normal,"ToRateB2",true,h3+60,v+14,". . 2",false);
      end else begin
        RateField(h3=360,v,50,":",Normal,"ToRateB1",true,h3+60,v+14,". . 1",false);
      end;
    end else begin
      EditField(h,v+=vs,50,". . 1",Normal,BaseRate1,true,0);
      EditField(h,v+=vs,50,". . 2",Normal,BaseRate2,true,0);
    end;
  end;
  Tile(tilenr,200,false,tilenr,Math); tilenr = tilenr + 1;
  h = 8; v=24; l = 35; t = 1;
  MatrixBegin(4,v,-50,-10,-,99);
  Flip(1);
  MatTypedRow(stp);
  MatCol(t=1,h=25,"",0,Type,false,SetSClass); //Edit***************************Sasha2,17:13 17.02.2015
  if (HasLocalization("POL") and IsStandardProduct) then begin
    MatCol(t,h+=50,"Number",0,TransOfficialSerNr,false,ARSClass);   //Edit***************************Sasha2,17:13 17.02.2015
  end else begin
  MatCol(t,h+=50,"",0,TransNr,false,ARSClass); //Edit***************************Sasha2,17:13 17.02.2015
  end;
  if (HasModSO) then begin
  //MatCol(t,h+=70,"",0,OrderNr,false,ORSClass); //Edit***************************Sasha2,17:19 17.02.2015
  end;
  if (HasObjects) then begin
  MatCol(t,h+=70,"",0,Objects,false,ObjSClass);
  end;
  MatCol(t,h+=70," ",ViewOnly,CorspCode,false,CLCorspSClass); //Edit***************************Sasha2,17:16 17.02.2015
  MatCol(t,-300,"",0,Comment,false,0); //Edit***************************Sasha2,17:16 17.02.2015
  //MatCol(t,-200,"",ViewOnly,Company,false,0); //Edit***************************Sasha2,17:16 17.02.2015
  MatCol(t,-80,"",0,Sum,true,0);
  MatText(t=2,h=34,"",true);
  MatCol(t,h+=80,"",0,Type,false,0);
  MatCol(t,h+=200,"",0,TransNr,false,0);
  MatCol(t,-180,"",ViewOnly,Company,false,0);
  MatCol(t,-80,"",0,Sum,true,0);
  Flip(2);
  t=1; h = 34;
  if (HasModPL) then begin
    MatCol(t,h,"",0,Type,false,SetSClass);
    h = h + 120;
  end;
  MatCol(t,h," ",ViewOnly,CorspCode,false,CLCorspSClass);
  MatCol(t,h+=80," ",Normal,PayMode,false,PMSClass);
  MatCol(t,h+=70,"",0,Comment,false,0);
  MatText(t=2,h=34,"",true);
  MatCol(t,-180,"",ViewOnly,Company,false,0);
  MatCol(t,-80,"",0,Sum,true,0);
  if (IsEnterprise) then begin
    Flip(3);
  MatCol(1,80,"",0,ExpDate,false,PasteCurDate);
  pos = 155;
  if (HasModPL) then begin
    MatCol(1,pos,"",0,Company,false,VESClass);
    pos = 225;
  end;
  MatCol(1,pos,"",0,Identifier,true,0);
  if (HasModPL) then begin
    MatCol(1,-365," ",0,VEName,true,0);
  end;
  MatCol(1,-130," ",0,DocNr,true,0);
  MatCol(1,-30," ",0,VATCode,false,VATCodeSClass);
  end;
  InsertRowTest;
  DeleteRowTest;
  EndMatrix;
  vs = 22;
  v=v+ 1; VTab(-35,v,-16,v+vs,ToolFlip,1,"A");
  v=v+ vs; VTab(-35,v,-16,v+vs,ToolFlip,2,"B");
  if (IsEnterprise) then begin
  v=v+ vs; VTab(-35,v,-16,v+vs,ToolFlip,3,"C");
  end;
  if (HasModNL) then begin
  SpecialMenu("  ",'t',0,"OpenTRFromCLOut");
  end;
  if (IsEnterprise) then begin
  if (UserCanReport("CLOutColVIRn","",true)) then begin
    SpecialMenu(" -",' ',1,"ShowColVIDsm");
    end;
  end;
  EndWindow;
end;

window DefCashTClass:1
  wtag("language","RUS"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer")
begin
  real h,h2,v,vm,vs;
  WindowBegin("   ",DefCashTClass,CGSbl,-);
  SetBlid(DefCashBlock);
  SetWRect(64,80,450,200);
  v = 6; vs = 20; h=180; h2 = 300;
  EditField(h,v,50," ",Normal,DefCashPayMode,false,PMSClass);
  if (IsEnterprise) then begin
    EditField(h,v+=vs,50," . .",Normal,DefCashPayDeal,false,PDSClass);
    EditField(h,v+=vs,50,"  ",Normal,DefCCPayMode,false,PMSClass);
    EditField(h,v+=vs,50," ",Normal,DefCredCashPayDeal,false,PMSClass); //Edit***************************Sasha2,17:47 18.02.2015
    EditField(h,vm=(v+=vs),50,"  ..",Normal,DefGCSPayMode,false,PMSClass);
    EditField(h,v+=vs,50," . ..",Normal,DefGCRPayMode,false,PMSClass);
    EditField(h2,v=vm,50," ",Normal,DefGCSVATCode,false,VATCodeSClass);
    EditField(h2,v+=vs,50," ",Normal,DefGCRVATCode,false,VATCodeSClass);
  end;
  EndWindow;
end;



window OPDClass:2
  wtag("language","RUS"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer")
begin
  real h,h2,h3,h4,t,v,vm,vs;
  Integer tilenr;
  Integer f,flipnr;

  WindowBegin(" ",OPDClass,CGview,-);
  SetWRect(20,80,640,464);
  Sizeable(-1,-1,0,0);
  UseView(OPVc);
  ActiveFieldOnNew("PayDate");
  h = 100; h2 = 280; h3 = 490; v = 6; vs = 20;
  if (IsEnterprise) then begin
    Tile(0,110,false,"",SerNr);
  end;
  if (HasNumberSeries) then begin
    EditField(h,v, 80,"",St_i,SerNr,false,TSerSClass);
  end else begin
    EditField(h,v,80,"",St_i,SerNr,false,0);
  end;
  EditField(h2,v,80," ",Normal,PayDate,false,PasteCurDate);
  if (HasModNL) then begin
    EditField(h3,v,82," ",Normal,TransDate,false,PasteCurDate);
  end;
  EditField(h,v+=vs,30," ",Normal,PayMode,false,PMSClass);
  CheckBox(h4=-100,6,0,"",OrderedFlag);
  CheckBox(h4=-100,6+vs,0,"OK",DoneFlag);
  EnterSkip(Math);
  EditField(h2,v,120,"/ ",Normal,BankAcc,false,0);
  EditField(h3,v,82," .",Normal,SortCode,false,0);
  if (HasAdvancedAccounting) then begin
    EditField(h,v+=vs,80,"",Normal,PayNumber,false,0);
    CheckBox(h2,v,0,"-  .   .",APonTR);
  end else begin
    v = v + vs;
  end;
  if (HasLanguages) then begin
    EditField(h3,v,82,"",Normal,LangCode,false,LangSClass);
  end;
  if (IsEnterprise) then begin
    EditField(h,v+=vs,472,"",Normal,BankName,false,0);
  end else begin
    v = v + 10;
  end;
  EnterSkip(Math);
//  CheckBox(h,v=6,0,"Re_jected",RejectedFlag);//not used any more
//  CheckBox(h2,v,0,"#Supp.# Info on Trans.",APonTR);
  tilenr = 1;
  if (IsEnterprise) then begin
    TileButton(tilenr,""); tilenr = tilenr + 1;
    TileButton(tilenr,""); tilenr = tilenr + 1;
    tilenr = 1;
    Tile(tilenr,120,true,tilenr,Math); tilenr = tilenr + 1;
  end;
//  CheckBox(25,v=-39,0,"O_rdered",OrderedFlag);
//  CheckBox(25,v=-20,0,"OK",DoneFlag);
  if (HasLocalization("EST,LVA")) then begin
    HalPushButton(150,-50,150+100,-5,"EPaymentSignOPDsm","");
    HalPushButton(150,-25,150+100,-5,"EPaymentQueOPDsm","  ");
  end;
  if (HasMultiCurrency) then begin
    EditField(-300,-21,50,"",Normal,PayCurCode,false,CurncyCodeSClass);
  end;
  EditField(-125,-21,85,"",Normal,CurPayVal,true,0);
  h = 10;
  if (tilenr>1) then begin
    if (HasLocalization("EST,LVA")) then begin
      MatrixBegin(h,v=24,-50,-50,-,200);
    end else begin
    MatrixBegin(h,v=24,-50,-40,-,200);
    end;
  end else begin
    if (HasLocalization("EST,LVA,RUS,POL") or HasMultiCurrency or HasObjects or ((BuildProductCode=="StandardAccounts" or BuildProductCode=="WeHaveInvoices" or BuildProductCode=="WeHaveStock" or BuildProductCode=="WeHaveStockAndCRM" or BuildProductCode=="StandardBusiness" or Left(BuildProductCode,5)=="Books") and HasLocalization("FIN"))) then begin
      MatrixBegin(h,v+=40,-50,-40,-,200);
    end else begin
      MatrixBegin(h,v+=30,-30,-30,-,200);
    end;
  end;
  vm = v;
  MatTypedRow(stp);
  MatOverStrike(ovst);
  Flip(0);
  MatCol(t=1,24," /",0,VISerNr,false,APSClass);
  MatCol(t,105,"",0,VECode,false,VESClass);
  EnterSkip(RecVal);
  MatCol(t=5,24,"",0,VISerNr,false,APSClass);
  MatText(t,70,"",true);
  MatCol(t,140,"",0,Objects,false,ObjSClass);
  MatCol(t,-360," / .",0,PInvCurncy,true,0);
  MatCol(t,-320," /",0,PInvVal,true,0);
  MatCol(t,-240," ",0,BankCurncy,true,CurncyCodeSClass);
  MatCol(t,-200," ",0,BankVal,true,0);
  MatCol(t,-120,".",0,RecCurncy,true,CurncyCodeSClass);
  MatCol(t,-80,"",0,RecVal,true,0);
  MatCol(t=7,24,"",0,VISerNr,false,APSClass);
  MatText(t,-480,".",true);
  MatCol(t,-390," / .",0,PInvCurncy,true,0);
  MatCol(t,-350," /",0,PInvVal,true,0);
  MatCol(t,-260,".",0,BankCurncy,true,CurncyCodeSClass);
  MatCol(t,-220," ",0,BankVal,true,0);
  MatCol(t,-130,".",0,RecCurncy,true,CurncyCodeSClass);
  MatCol(t,-90,"",0,RecVal,true,0);
  flipnr = 1;
  if (HasMultiCurrency or HasObjects or HasRussianPrepayment or ((BuildProductCode=="StandardAccounts" or BuildProductCode=="WeHaveInvoices" or BuildProductCode=="WeHaveStock" or BuildProductCode=="WeHaveStockAndCRM" or BuildProductCode=="StandardBusiness" or Left(BuildProductCode,5)=="Books") and HasLocalization("FIN"))) then begin
    Flip(flipnr); flipnr = flipnr + 1;
  end;
  MatCol(t=1,190,"",0,Comment,false,0);
  if (HasMultiCurrency) then begin
    MatCol(t,-260," ",0,BankCurncy,true,CurncyCodeSClass);
    MatCol(t,-220," ",0,BankVal,true,0);
    MatCol(t,-130," ",0,RecCurncy,true,CurncyCodeSClass);
    MatCol(t,-90,"",0,RecVal,true,0);
    Flip(flipnr); flipnr = flipnr + 1;
    MatCol(t=1,190,"",0,Comment,false,0);
    MatCol(t,-350," / ",0,PInvCurncy,true,0);
    MatCol(t,-310," ",0,PInvOutstand,false,0);
    MatCol(t,-220," /",0,PInvVal,true,0);
    MatCol(t,-130," ",0,RecCurncy,true,CurncyCodeSClass);
    MatCol(t,-90,"",0,RecVal,true,0);
    if (HasLocalization("POL")) then begin
      Flip(flipnr); flipnr = flipnr + 1;
      MatCol(t=1,190,"",0,Comment,false,0);
      MatCol(t,-310," ",0,BankCurncy,true,CurncyCodeSClass);
      MatCol(t,-270," ",0,BankVal,true,0);
      MatCol(t,-180," . . 1",0,ToRateB1BankVal,true,0);
      MatCol(t,-110,". . 1",0,B1BankVal,true,0);
    end;
  end else begin
    MatCol(t,-270," .",0,PInvOutstand,false,0);
    MatCol(t,-180,"  .",0,PInvVal,true,0);
    MatCol(t,-90,". ",0,RecVal,true,0);
  end;
  if (IsEnterprise==false) then begin
    if (HasObjects) then begin
      Flip(flipnr); flipnr = flipnr + 1;
      MatCol(t=1,190,"",0,Comment,false,0);
      if (HasRussianPrepayment) then begin
        if (HasModPO) then begin
          MatCol(t,-320,"",0,Objects,false,ObjSClass);
          MatCol(t,-200,"",0,OrderNr,false,POSClass);
        end else begin
          MatCol(t,-260,"",0,Objects,false,ObjSClass);
        end;
        MatCol(t,-100,"",0,PrepayNr,false,OPPSClass);
      end else begin
        MatCol(t,-160,"",0,Objects,false,ObjSClass);
      end;
    end else begin
      if (HasRussianPrepayment) then begin
        Flip(flipnr); flipnr = flipnr + 1;
        MatCol(t=1,190,"",0,Comment,false,0);
        if (HasModPO) then begin
          MatCol(t,-200,"",0,OrderNr,false,POSClass);
        end;
        MatCol(t,-100,"",0,PrepayNr,false,OPPSClass);
      end;
    end;
    if ((BuildProductCode=="StandardAccounts" or BuildProductCode=="WeHaveInvoices" or BuildProductCode=="WeHaveStock" or BuildProductCode=="WeHaveStockAndCRM" or BuildProductCode=="StandardBusiness" or Left(BuildProductCode,5)=="Books") and HasLocalization("FIN")) then begin
      Flip(flipnr); flipnr = flipnr + 1;
      MatCol(t,360,"Bank Reference",0,BankRefStr,false,0);
      MatCol(t,-250,"To Bank A/C",0,BankAcc,false,VEBankAccSClass);
      MatCol(t,-110,"#V-Cd#",0,VATCode,false,VATCodeSClass);
      MatCol(t,-80,"#VAT# Value",0,VATVal,false,0);
    end;
  end else begin
    if (StandardHansa==false) then begin
      Flip(flipnr); flipnr = flipnr + 1;
      MatCol(t=1,190,"",0,Comment,false,0);
      MatCol(t,-270,". ",0,PayMode,false,PMSClass);
      MatCol(t,-220," ",0,ChequeNr,false,0);
      MatCol(t,-130," ",0,RecCurncy,true,CurncyCodeSClass);
      MatCol(t,-90,"",0,RecVal,true,0);
    end;
    Flip(flipnr); flipnr = flipnr + 1;
    MatCol(t=1,190,"",0,Comment,false,0);
    MatCol(t,-320," .",0,OrderNr,false,POSClass);
    MatCol(t,-230," .",0,PrepayNr,false,OPPSClass);
    MatCol(t,-130,". ",0,RecCurncy,true,CurncyCodeSClass);
    MatCol(t,-90,"",0,RecVal,true,0);
    Flip(flipnr); flipnr = flipnr + 1;
    MatCol(t=1,190,"",0,Comment,false,0);
    MatCol(t,-310,"",0,VATCode,false,VATCodeSClass);
    MatCol(t,-270,"",0,VATVal,false,0);
//  MatCol(t,-200,"Extra Tax",0,TAX1Sum,false,0);
    MatCol(t,-130," ",0,RecCurncy,true,CurncyCodeSClass);
    MatCol(t,-90,"",0,RecVal,true,0);
    Flip(flipnr); flipnr = flipnr + 1;
    MatCol(t=1,190,"",0,Comment,false,0);
    MatCol(t,-260,"",0,Objects,false,ObjSClass);
    if (StandardHansa==false) then begin
      MatCol(t,-130," ",0,RecCurncy,true,CurncyCodeSClass);
      MatCol(t,-90,"",0,RecVal,true,0);
      Flip(flipnr); flipnr = flipnr + 1;
      MatCol(t=1,190," ",0,RoundOffAcc,false,AccSClass);
      MatCol(t,-360,"",0,RoundOff,true,0);
      MatCol(t,-300,"",0,InstNr,false,APInstallSClass);
      MatCol(t,-220,". ",0,WHTax,false,WHTaxSClass);
      MatCol(t,-170,"W. Tax Base",0,WHTaxBase,false,0);
      MatCol(t,-100," ",0,rkPayNumber,false,0);
    end else begin
      MatCol(t=1,-170," ",0,RoundOffAcc,false,AccSClass);
      MatCol(t,-80," ",0,RoundOff,true,0);
    end;
    Flip(flipnr); flipnr = flipnr + 1;
    MatCol(t=1,190," ",0,APAcc,false,AccSClass);
    MatCol(t,-370," ",0,BankRefStr,false,0);
    MatCol(t,-270," /",0,BankAcc,false,VEBankAccSClass);
    MatCol(t,-140," ",0,SortCode,false,0);
    MatCol(t,-50," ",5,PaymentCode,false,PaymentCodeSClass);
    Flip(flipnr); flipnr = flipnr + 1;
    MatCol(t=1,200,". ",0,BankCurncy,true,CurncyCodeSClass);
    MatCol(t,-400," ",0,BankVal,true,0);
    MatCol(t,-330,"",0,BankFeeVal,true,0);
    MatCol(t,-270," . . 1",0,ToRateB1BankVal,true,0);
    MatCol(t,-200,". . 1",0,B1BankVal,true,0);
    MatCol(t,-130,". . 2",0,B2BankVal,true,0);
//  MatCol(t,-120,"Fee %",0,BankFeePrc,true,0); /* What was this ?? */
    if (StandardHansa==false) then begin
    MatCol(t,-60,"",0,Coef,true,0);
    end;
    Flip(flipnr); flipnr = flipnr + 1;
    MatCol(t=1,-470," ",0,BankCurncy,true,CurncyCodeSClass);
    MatCol(t,-430," ",0,BankVal,true,0);
    MatCol(t,-350,"",0,FrRateBankVal,true,0);
    MatCol(t,-310," . . 1",0,ToRateB1BankVal,true,0);
    MatCol(t,-240," . . 2",0,ToRateB2BankVal,true,0);
    MatCol(t,-170,".  1",0,BaseRate1BankVal,true,0);
    MatCol(t,-95,".  2",0,BaseRate2BankVal,true,0);
//    if (StandardHansa==false) then begin
//      MatCol(t,-30,"Coef. Value",0,Coef,true,0);
//    end;
  end;
  InsertRowTest;
  DeleteRowTest;
  EndMatrix;
  vs = 20;
  if (tilenr>1) then begin
//    v = 18;
    v = v + 1;
  end;
  if (flipnr>2) then begin
    for (f=1;f<flipnr;f=f+1) begin
      VTab(-35,v,-16,v+vs,ToolFlip,f,chr(asc("A") + f - 1));
      v = v + vs;
    end;
  end;
  if (IsEnterprise) then begin
    Tile(tilenr,120,true,tilenr,BankAcc); tilenr = tilenr + 1;
    v=6; h= 100;
    EditField(h,v,120,". ",Normal,BankAcc,false,0);

    CheckBox(h2,v,0," ",ForeignPayment);
    ButtonFrame(h=40,vm=(v+=40),123,3," ");
    RadioButton(h,v,0,0," ",PayperSupplier);
    RadioButton(h,v+=16,1,0," ",PayperSupplier);
    RadioButton(h,v+=16,2,0,"",PayperSupplier);
    ButtonFrame(h2=190,v=vm,123,3," ");
    RadioButton(h2,v,0,0,"",PayMethod);
    RadioButton(h2,v+=16,1,0,"",PayMethod);
    RadioButton(h2,v+=16,2,0," ",PayMethod);
    ButtonFrame(h3=340,v=vm,123,3," ");
    RadioButton(h3,v,0,0," ",Bankfees);
    RadioButton(h3,v+=16,1,0," ",Bankfees);
    RadioButton(h3,v+=16,2,0,"",Bankfees);
    if (HasApprovals) then begin
      ButtonFrame(h3=490,v=vm,123,6," ");
      RadioButton(h3,v,kAcceptanceStateNotRequired,0," ",AcceptanceStatus);
      RadioButton(h3,v+=16,kAcceptanceStateNotStarted,0," ",AcceptanceStatus);
      RadioButton(h3,v+=16,kAcceptanceStateNotRequested,0," ",AcceptanceStatus);
      RadioButton(h3,v+=16,kAcceptanceStatePending,0," ",AcceptanceStatus);
      RadioButton(h3,v+=16,kAcceptanceStateApproved,0,"",AcceptanceStatus);
      RadioButton(h3,v+=16,kAcceptanceStateRejected,0,"",AcceptanceStatus);
/*
  CheckBox(25,v=-39,0,"",OrderedFlag);
  CheckBox(25,v=-20,0,"OK",DoneFlag);
  HalPushButton(150,-30,150+100,-5,"EPaymentQueOPDsm"," ");
*/
    end;
  end;
  if (GuiType==kGuiMetro) then begin // Temporarily disabled on Windows 8
    SpecialMenu(" ",'r',4,"OPStatusDsm");
    if (HasModPL and HasModNL) then begin
      SpecialMenu("  ",' ',3,"NewFeeOPDsm");
    end;
    if (IsEnterprise) then begin
//    SpecMenuItem("Print Forms",' ',0); // any code for this one??, no code
      SpecialMenu("(-",' ',1,"");
      SpecialMenu(" ",' ',2,"CashDiscountOPDsm");
    end;
    if (HasModNL) then begin
      SpecialMenu("  ",'t',5,"OpenTRFromOP");
    end;
  end else begin
//    SpecMenuItem("Print Forms",' ',0); // any code for this one??, no code
    if (HasSettlementDiscount) then begin
//    SpecialMenu("(-",' ',1,"");
    SpecialMenu(" ",' ',2,"CashDiscountOPDsm");
  end;
  if (HasModPL and HasModNL) then begin
    SpecialMenu("  ",' ',3,"NewFeeOPDsm");
  end;
  if (HasApprovals) then begin
    SpecialMenu("  ",' ',14,"OPSendforAcceptanceOPDsm");
    SpecialMenu("   ",' ',2,"CancelApprovalRequestDsm");
  end;
  if (HasModNL) then begin
    SpecialMenu("  ",'t',5,"OpenTRFromOP");
  end;
  if (IsEnterprise) then begin
//    SpecialMenu("Open Withholding Certificate",'',5,"OpenWHCertificateOPDsm");
    if (StandardHansa==false) then begin
      SpecialMenu("  ",' ',6,"AssignChequeOPDsm");
      SpecialMenu(" ",'e',9,"PrepChequesOPDsm");
      SpecialMenu(" ",' ',9,"PrintChequesOPDsm");
    end;
    SpecialMenu("  ",' ',8,"CLOutFromOPDsm");
  end;
  if (HaseMail) then begin
    SpecialMenu(" E-Mail",'m',9,"CreateMailFromOPDsm");
  end;
    if (HasLocalization("HRV,POL,RUS,SLV,SRB,UKR") and (HasModNL or IsEnterprise)) then begin
    SpecialMenu("  -",' ',9,"VATCorrectionOPsm");
  end;
  if (HasWithholdingTax) then begin
    SpecialMenu("  ",' ',11,"WithholdTaxesOPDsm");
  end;
  if (IsEnterprise) then begin
    SpecialMenu(" ",'r',4,"OPStatusDsm");
    SpecialMenu(" ",' ',12,"BankStOPDsm");
      if (HasLocalization("EST,LVA")) then begin
    SpecialMenu("  ",' ',13,"EPaymentStatusOPDsm");
      end;
    SpecialMenu(" -",' ',4,"PrintCashInOutOPDsm");
      SpecialMenu("Banking File Export",'',4,"BankingFileExportDsm");
  end;
  SpecialMenu(" ",' ',3,"OPExpandOPDsm");
  end;
  EndWindow;
end;

window ProdDClass:1
  wtag("language","RUS"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer")
begin
  real h,h2,h3,h4,v,vm,vs;
  WindowBegin("",ProdDClass,CGview,-);
  SetWRect(20,80,620,333);
  Sizeable(-1,-1,0,0);
  UseView(ProdVc);
  FormName(ProdOrderForm);
  ActiveFieldOnNew("Recepy");
  Tile(0,175,false,"",SerNr);
  vs = 20; h = 70; h2 = 390; v = 10; h3 = 500; h4 = 220;
  EditField(h,v,80,"",St_i,SerNr,false,TSerSClass);
  EditField(h4,v,250,".",Normal,RecName,false,0);
  //EditField(h,v+=vs,80,".",Normal,Recepy,false,RecSClass);// Edit ************************** Thursday, 23 April 2015 11:24:53
  EditField(h4,v+=vs,80," .",Normal,StartDate,false,PasteCurDate);
  EditField(h2,v,80," .",Normal,ProdDate,false,PasteCurDate);// Edit ************************** Thursday, 23 April 2015 11:25:51
  EditField(h,vm=(v+=vs),80,"-",Normal,Qty,true,0);
  //EditField(h4,v,80," .",Normal,StartTime,false,PasteCurTime);// Edit ************************** Thursday, 23 April 2015 11:25:45
  //EditField(h2,v,80," .",Normal,EndTime,false,PasteCurTime);// Edit ************************** Thursday, 23 April 2015 11:25:46
  EditField(h,v+=vs,80,"",Normal,Location,false,LocationSClass);
  /*if (StandardHansa==false) then begin// Edit ************************** Thursday, 23 April 2015 11:25:20
    EditField(h4,v,80,"",Normal,ProdClass,false,ProdClassSClass);
    EditField(h2,v,80,"",Normal,FixAssCode,false,AT2UnitSClass);
  end;*/
  //EditField(h,v+=vs,80,".",Normal,Inspector,false,UserSClass);// Edit ************************** Thursday, 23 April 2015 11:25:21
  //EditField(h2,v,80,".",Normal,Person,false,UserSClass);// Edit ************************** Thursday, 23 April 2015 11:25:22
//  EditField(h2,v,80,"In Item Scale",Normal,Scale,false,0);
  /*if (StandardHansa==false) then begin// Edit ************************** Thursday, 23 April 2015 11:25:30
    EditField(h,v+=vs,80,". .",ViewOnly,ProdOrder,false,0);
    EditField(h2,v,80," ",Normal,StandProblem,false,StandProblemsSClass);
  end else begin
    EditField(h2,v+=vs,80," ",Normal,StandProblem,false,StandProblemsSClass);   // From dict
  end;*/// Edit ************************** Thursday, 23 April 2015 11:25:31
  /*if (StandardHansa==false) then begin// Edit ************************** Thursday, 23 April 2015 11:25:37
    EditField(h,v+=vs,80,". .",ViewOnly,ActualQty,true,0);
    EditField(h2,v,80,"",Normal,Routing,false,RoutingSClass);
  end;*/
//  ButtonFrame(h3,v+=36,80,3,"Inspection");
//  RadioButton(h3,v,0,0,"Not done",InspectStatus);
//  RadioButton(h3,v+=16,1,0,"OK",InspectStatus);
//  RadioButton(h3,v+=16,2,0,"Faulty",InspectStatus);
  TileButton(1,"");
  TileButton(2,"");
//  CheckBox(370,v,0,"Reserved",Reserved);
  ButtonFrame(h3,v=20,150,5,"");
  RadioButton(h3,v,0,0,"",PRStatusFlag);
  RadioButton(h3,v+=16,4,0,"",PRStatusFlag);
  RadioButton(h3,v+=16,2,0,"",PRStatusFlag);
  RadioButton(h3,v+=16,3,0,"",PRStatusFlag);
  RadioButton(h3,v+=16,5,0,",   ",PRStatusFlag);
  //CheckBox(h2,v+=30,0,"  ",ManualCost);	//Edit----------------------Dima  23.10.2015
  Tile(1,120,true,"1",Math);
  v=20;
  MatrixBegin(4,v,-50,-30,-,300);
  Flip(0);
  MatCol(1,34,"",0,Item,false,INSClass);
  MatCol(1,110,".",0,Comment,false,0);
  Flip(1);
  //MatCol(1,-375,".",0,SerialNr,false,SerialNrSClass);
  MatCol(1,-280,".",0,InQty,true,MATVARINSClass);
  MatCol(1,-210,"",0,OutQty,true,MATVARINSClass);
  MatCol(1,-140,"% -",0,RelVal,true,0);
  MatCol(1,-70," -",0,ItemCost,true,0);
  //MatCol(1,-100,".",0,ExtraCost,true,0);
  //MatCol(1,-40,".",0,Coefficient,false,0);
	Flip(2);
  MatCol(1,-250,".",0,InQty,true,0);
  MatCol(1,-200,"",0,OutQty,true,0);
  MatCol(1,-150,"",0,PosCode,true,UsedPosSClass);

  /*Flip(2);
  MatCol(1,-375,"",0,Objects,false,ObjSClass);
  MatCol(1,-310,".",0,InQty,true,0);
  MatCol(1,-260,"",0,OutQty,true,0);
  MatCol(1,-210,".",0,ActualQty,true,0);
  MatCol(1,-160,"",0,Material,false,MaterialSClass);
  Flip(3);
  MatCol(1,-270,".",0,InQty,true,0);
  MatCol(1,-220,"",0,OutQty,true,0);
  MatCol(1,-170,".",0,SerialNr,false,SerialNrSClass);
  MatCol(1,-80," ",0,BestBefore,false,PasteCurDate);
  Flip(4);
  MatCol(1,-270,".",0,InQty,true,0);
  MatCol(1,-220,"",0,OutQty,true,0);
  MatCol(1,-170,"",0,Weight,true,0);
  MatCol(1,-120,".",0,UnitXval,true,0);
  MatCol(1,-80,".",0,UnitYval,true,0);
  MatCol(1,-40,".",0,UnitZval,true,0);
  Flip(5);
  MatCol(1,-100,".  FIFO",0,OrgProdFIFORowVal,true,0);*/
  InsertRowTest;
  DeleteRowTest;
  EndMatrix;
  v=v+1;
  VTab(-35,v,-16,v+vs,ToolFlip,1,"A");
  v=v+vs;  VTab(-35,v,-16,v+vs,ToolFlip,2,"B");
  //v=v+vs;  VTab(-35,v,-16,v+vs,ToolFlip,3,"C");
  //v=v+vs;  VTab(-35,v,-16,v+vs,ToolFlip,4,"D");
  //v=v+vs;  VTab(-35,v,-16,v+vs,ToolFlip,5,"E");
  EditField(h,-22,60,". ",Normal,TotWeight,false,0);
  EditField(h4,-22,60,". ",Normal,TotOutWeight,false,0);
  Tile(2,120,false,"2",Comment);
  EditField(h,v=15,-20,".",Normal,Comment,false,0);
  EditField(h,v+=vs,-20,"",Normal,Comment2,false,0);
  EditField(h,v+=vs,-20,"",Normal,Comment3,false,0);
  EditField(h,v+=vs,-20,"",Normal,Objects,false,ObjSClass);
  EditField(h,v+=vs,60,", ",Normal,StartTime,false,PasteCurTime);
  EditField(210,v,60,", ",Normal,EndTime,false,PasteCurTime);
  EditField(h2,v,60," .",Normal,BreakTime,false,0);
  EditField(h2+200,v,70,"",Normal,LangCode,true,LangSCLass);
//  EditField(h2+200,v,80,"AcumCostPrice",ViewOnly,AcumCostPrice,false,0);
  SpecialMenu(" ",' ',0,"ProdFillFIFODsm");
  SpecialMenu(" .   ",' ',1,"GenSerialNosProdDsm");
  SpecialMenu("",' ',2,"CreateDisProdFromProd");
  SpecialMenu(" ",'I',3,"ItemStatusProdDsm");
  SpecialMenu(" ",'f',1,"ItemSearchDsm");
  SpecialMenu(" ",'r',4,"ProdStatusFromProdDsm");
  SpecialMenu("  ",' ',5,"OpenBatchProdDsm");
  SpecialMenu("  ",'t',5,"OpenTRFromProd");
  if (StandardHansa==false) then begin
    SpecialMenu(" ",' ',6,"ProdBackflushFromProdDsm");
  end;
  SpecialMenu(" ",'c',7,"CreateActFromProd");
  SpecialMenu("  ",' ',8,"StockMovFromPRDsm");
  if (StandardHansa==false) then begin
    SpecialMenu("  ",' ',9,"ProdOperFromPRDsm");
    SpecialMenu(" ",'u',8,"QualConFromProdDsm");
  end;
  EndWindow;
end;

window IPLClass:1
  wtag("language","RUS"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer")
begin
  real hoff,pos;
  WindowBegin("",IPLClass,CGmlist,-);
  SetWRect(20,80,760,291);
  Sizeable(-1,-1,0,0);
  SpawnClass(IPDClass);
  UseView(IPVc);
  if (GuiType==kGuiiPhone) then begin
    hoff = 50;
  end;
  RecordList(4,17,-21,-39);
  if (HasOfficialSerNr) then begin
    RlColKey(4,4,".",SerNr,false,SerNr); pos = 76;
    RlColKey(pos,pos,". ",OfficialSerNr,false,OfficialSerNr); pos = pos + 110;
  end else begin
    RlColKey(4,4,".",SerNr,false,SerNr); pos = 76;
  end;
  RlColKey(pos,pos,  "OK",OKMark,false,OKMark); pos = pos + 35;
  RlColKey(pos,pos," .",TransDate,false,TransDate); pos = pos + 74;
  if (IsEnterprise) then begin
    RlColKey(pos+hoff,pos+hoff,"",RecNumber,false,RecNumber); pos = pos + 90;
    RlCol   (pos+hoff,pos+hoff,"",Comment,false);  pos = pos + 100;
  end else begin
    RlCol   (pos+hoff,pos+hoff,"",Comment,false);
  end;
  RlCol   (-180,-180,"",Sign,false);			//Edit----------------------Dima  15.07.2015
  if (HasMultiCurrency or HasBase2) then begin
    RlColKey   (-121,-121,"",CurPayVal,true,CurPayVal);
    RlCol   (-30,-30,"",PayCurCode,true);
  end else begin
    RlColKey   (-90,-90,"",CurPayVal,true,CurPayVal);
  end;
  SearchField("");

  if (GuiType==kGuiMetro) then begin
    RowMenuBegin("");
    RowMenuItem(0,"OK",'G','G',4312,"OKIPLsm");
    EndRowMenu;
    if (IsEnterprise) then begin
      SpecMenuGroup("",kSpecMenuGroupTypeButtonsInBottomBarRight,0);
      SpecialMenuWithIcon("  ",' ',4313,1,"IPFromIPLsm");
      SpecialMenuWithIcon("  ",' ',4313,2,"IPDDExpIPLsm");
    end;
  end else begin
    SpecialMenu("OK",'G',0,"OKIPLsm");
    if (IsEnterprise) then begin
      SpecialMenu("  ",' ',1,"IPFromIPLsm");
      SpecialMenu("  ",' ',2,"IPDDExpIPLsm"); //!!PRODTRANSLATE
    end;
  end;
  EndWindow;
end;

window IVLClass:8
  wtag("language","RUS"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer")
begin
  WindowBegin("-",IVLClass,CGmlist,-);
  SetWRect(20,80,900,298);
  Sizeable(-1,-1,0,0);
  SpawnClass(IVDClass);
  UseView(IVVc);
  FormName(PrintIVL);
  RecordList(4,17,-21,-39);
  RlColKey(4,4,".",SerNr,false,SerNr);
  RlColKey(79,79,"",OKFlag,false,OKFlag);
  RlColKey(111,111," /",InvDate,false,InvDate);
  if (StandardHansa==false) then begin
    RlColKey(191,191,". ",OfficialSerNr,false,OfficialSerNr);
  end;
  RlColKey(301,301," .",OrderNr,false,OrderNr);
  RlColKey(381,381,"",CustCode,false,CustCode);
  RlColKey(441,441,".",Addr0,false,Name);
  RlColKey(-160,-160,"",Location,true,Location);// Edit ************************** Thursday, 10 September 2015 11:25:08
  RlColKey(-110,-110,"",Sum4,true,Sum4);
  RlCol(-39,-39,"",CredMark,true);
  if (HasMultiCurrency or HasBase2) then begin
    RlCol(-30,-30,".",CurncyCode,true);
  end;
  RlCol(-1,-1,"",Invalid,true);
  SearchField("");
  if (HasLimitedAccess) then begin
    BrowseSubsetButton(-40,-15);
  end;
  SpecialMenu("OK",'G',0,"OKIVLsm");
  SpecialMenu("  c-",' ',1,"PrintIVLsm");
  SpecialMenu(" /",'r',2,"IVInfoIVLsm");
  if (HasLocalization("ARG")) then begin
    SpecialMenu("Send Argentinian E-Invoices",'e',3,"SendArgEInvIVLsm");
  end;
  if (HasLocalization("MEX")) then begin
    SpecialMenu("Send Mexican E-Invoices",'e',3,"SendMexEInvIVLsm");
  end;
  EndWindow;
end;



window USDClass:5
  wtag("language","RUS"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer")
begin
  real h,h1,h2,h3,v,vm,vs,tilenr;
  WindowBegin("",USDClass,CGview,UserView);
  SetWRect(64,80,509,380);
  Sizeable(-1,-1,0,0);
  UseView(UserVc);
  Tile(0,70,false,"",Code);
  vs = 20; h=150; h2 = 290; h3 = 350;
  EditField(h,v=6, 55,"",St_i,Code,false,0);
  EditField(h,v+=vs,300,"",Normal,Name,false,0);
  if (TestEnablerFile("DbgLics")) then begin
    EditField(h,v+=vs,100,"Expires",ViewOnly,ExpiryDate,true,0);
  end;
  tilenr = 1;
  TileButton(tilenr,"");  tilenr = tilenr + 1; // Not Found
  TileButton(tilenr,". ");  tilenr = tilenr + 1; // Not Found
  TileButton(tilenr,"");  tilenr = tilenr + 1; // Not Found
  TileButton(tilenr,"");  tilenr = tilenr + 1; // Not Found
  if (StandardHansa==false) then begin
    TileButton(tilenr," ");  tilenr = tilenr + 1; // Not Found
    TileButton(tilenr,"Web");  tilenr = tilenr + 1; // Not Found
    TileButton(tilenr," ");  tilenr = tilenr + 1; // Not Found
  end;
  TileButton(tilenr,"  ");  tilenr = tilenr + 1; // Not Found
  CheckBox(h2,6,0,"",Closed);
  tilenr = 1;
  Tile(tilenr,210,false,tilenr,AccessGroup);  tilenr = tilenr + 1;
  EditField(h,v=6,300," ",Normal,AccessGroup,false,AccessSClass);
  EditField(h,v+=vs,100,".  ",Normal,StartLevel,false,SetSClass);
  if (StandardHansa==false) then begin
    EditField(h,v+=vs,100," ",Normal,OneFunction,false,OneFunctionSClass);
    EditField(h,v+=vs,100," ",Normal,SalesGroup,false,SalesGroupSClass);
  end;
  EditField(h,v+=vs,100,"",Normal,LangCode,false,LangSClass);
  if (StandardHansa==false) then begin
    EditField(h,v+=vs,100," ",Normal,CanUseOS,false,SetSClass);
  end;
  EditField(h,v+=vs,100," ",Normal,CustCode,false,ContactCUSClass);
//  EditField(h,v+=vs,100,"Discount Password",Normal,OldPassWord,false,0);
  if (StandardHansa==false) then begin
    ButtonFrame(h2,v=44,165,3," ");
    RadioButton(h2,v,kLimitedAccessNoLimitation,0," ",limitedAccess);
    RadioButton(h2,v+=16,kLimitedAccessGroupOnly,0," ",limitedAccess);
    RadioButton(h2,v+=16,kLimitedAccessUserOnly,0," ",limitedAccess);
  end;
if (HansaWorld) then begin
  ButtonFrame(h2,v+=40,195,4," ");
  RadioButton(h2,v,0,kTypeOfUserNamed,"",TypeOfUser);
  RadioButton(h2,v+=16,kTypeOfUserConcurrent,0,"",TypeOfUser);
  RadioButton(h2,v+=16,kTypeOfUserBusinessCommunicator,0,"Business Communicator (named)",TypeOfUser);
  RadioButton(h2,v+=16,kTypeOfUserTimekeeper,0," ",TypeOfUser);
  CheckBox(h2,v+=25,0,"    ",PasswordNeverExpires);
end;
  Pict_Field(-175,8,-5,178,"");
  if (GuiType==kGuiCocoa) then begin
    PushButton(-160,182,-80,202,ToolImagePicker,". ");
  end;
//  CheckBox(h2,v+=25,0,"Allow FTP Access",FTPLogin);
//  CheckBox(h2,v+=vs,0,"Only Voice Login",OnlyVoiceLogin); // No code for this
  Tile(tilenr,150,false,tilenr,LastOrdNr);  tilenr = tilenr + 1;
  EditField(h,vm=(v=6),65,"  .",Normal,LastOrdNr,false,0);
  EditField(h,v+=vs,65," ",Normal,LastShipNr,false,0);
  EditField(h,v+=vs,65," / .",Normal,LastInvNr,false,0);
  EditField(h,v+=vs,65," ",Normal,LastPurNr,false,0);
  EditField(h,v+=vs,65," . .",Normal,LastCLInNr,false,0);
  EditField(h,v+=vs,65," /  .",Normal,LastIVCashNr,false,0);
  if (StandardHansa==false) then begin
    EditField(h,v+=vs,65," ",Normal,LastRestAccNr,false,0);
  end;
//  EditField(h,v+=vs,100,"Official Inv. No.",Normal,LastOfficialSerNr,false,0);
  EditField(h3,v=vm,65,"  .",Normal,LastPayNr,false,0);
  EditField(h3,v+=vs,65,"  .",Normal,LastTRNr,false,0);
  EditField(h3,v+=vs,65," / .",Normal,LastVINr,false,0);
  EditField(h3,v+=vs,65,"  .",Normal,LastOPNr,false,0);
  EditField(h3,v+=vs,65,"  .",Normal,LastPONr,false,0);
  EditField(h3,v+=vs,65," . .",Normal,LastCLOutNr,false,0);
  EditField(h3,v+=vs,120,". ",Normal,IDCode,false,0);
  Tile(tilenr,170,false,tilenr,Bonus);  tilenr = tilenr + 1;
  EditField(h,vm=(v=6),65,"",Normal,Bonus,true,0);
  EditField(h3,v,120,"",Normal,CurOurContact,false,0);
  if (StandardHansa==false) then begin
    EditField(h3+260,v,-20,". ",Normal,MinPLCode,false,PLDefSClass);
  end;
  EditField(h,v+=vs,65,"",Normal,Location,false,LocationSClass);
  EditField(h3,v,120,"",Normal,Department,false,DepSClass);
  if (StandardHansa==false) then begin
    EditField(h,v+=vs,65," ",Normal,ServLocation,false,LocationSClass);
    EditField(h3,v,120," 1",Normal,Phone1,false,0);
    EditField(h,v+=vs,65," . ",Normal,ReservLocation,false,LocationSClass);
  end else begin
    EditField(h,v+=vs,120," 1",Normal,Phone1,false,0);   // From dict
  end;
  EditField(h3,v,120," 2",Normal,Phone2,false,0);
  if (StandardHansa==false) then begin
    EditField(h,v+=vs,-20," . ",Normal,ReservLocAccess,false,ReservLocAccessSClass);
  end;
  EditField(h,v+=vs,-20,"E-mail",Normal,emailAddr,false,0);
  EditField(h,v+=vs,-20,"",Normal,Spec,false,0);
  EditField(h,v+=vs,-20,"",Normal,Comment,false,0);
  EditField(h,v+=vs,200,"",Normal,CardNumber,false,0);//Edit----------------------Dima  02.07.2015
  EditField(h3,v+=vs+10,120,"    ",Normal,AllowSalesForType,false,DISClass);
  EditField(h3,v+=vs,120,"    ",Normal,DisallowSalesForType,false,DISClass);	//Edit----------------------Dima  26.01.2016
  CheckBox(h,v+=vs,0,"   ",AllowSaleAllItems);			//Edit----------------------Dima  27.01.2016
//  EditField(h,v+=vs,65,"Expense A/C",Normal,CostAcc,false,AccSClass);
  Tile(tilenr,50,false,tilenr,PersAcc);  tilenr = tilenr + 1;
  EditField(h,vm=(v=6),65,"",Normal,PersAcc,false,AccSClass);
  EditField(h3,v,120,"",Normal,PersObjx,false,ObjSClass);
  EditField(h,v+=vs,65," .",Normal,SortCode,false,0);
  EditField(h3,v,120,"Bank A/C",Normal,BankAcc,false,0);
  EditField(h3,v+=vs,-20,"Bank Name",Normal,BankName,false,BankSClass);
//  EditField(h,v+=vs,65,"Expense A/C",Normal,CostAcc,false,AccSClass);
  if (StandardHansa==false) then begin
    Tile(tilenr,170,true,tilenr,JobGroup);  tilenr = tilenr + 1;
    EditField(h,vm=(v=6),55," ",Normal,JobGroup,false,EGSClass);
    EditField(h,v+=vs,100," ",Normal,Job,false,0);
    EditField(h,v+=vs,80,"  ",Normal,CostPrHour,false,0);
    EditField(h,vm=(v+=vs),80,"  ",Normal,PricePrHour,false,0);
    EnterSkip(Math);
    CheckBox(h2,v=20,0,"   ",DisAllowOther);
  //  CheckBox(h2,v,0,"Limited Access",limitedAccess);
    v = v+50;
    MatrixBegin(h-50,v=(vm+40),h+350,-7,-,99);
    MatCol(1,24,"",0,Code,false,0);
    MatCol(1,110,"",0,PRCode,false,PRSClass);
    MatCol(1,200,"",0,Comment,false,0);
    EndMatrix;
    Tile(tilenr,30,false,tilenr,WebConf);  tilenr = tilenr + 1;
    EditField(h,vm=(v=6),65,"Web-",Normal,WebConf,true,0);
    EditField(h3,v,65,"  Web",Normal,WebStartPage,false,0);
    Tile(tilenr,50,false,tilenr,Supervisor);  tilenr = tilenr + 1;
    v = 6;
    EditField(h,vm=v,80,"",Normal,Supervisor,false,UserSClass);
    EditField(h,v+=20,80," ",ViewOnly,DateCreated,false,0);
    CheckBox(h2,v=vm,0,"  ",ForceTimeEntry);
  end;
  Tile(tilenr,210,false,tilenr,LeadingZDay);  tilenr = tilenr + 1;
  h = 70; h1 = h + 210; h2 = h + 330;

  if (GuiType==kGuiCocoa) then begin
    CheckBox(h,v,0,"  ",UserEditCtlf);
  end else begin
    StaticText(190,v+=vs," ",true);
    DropDownMenu(200,v=6,282,"WindowType",320);
    CheckBox(h,v+=20,0,"  ",UserEditCtlf);
  end;
  ButtonFrame(h,vm=(v+=42),200,5," ");
  RadioButton(h,v,0,0,", , ",DateOrder);
  RadioButton(h,v+=16,1,0,", , ",DateOrder);
  RadioButton(h,v+=16,2,0,", , ",DateOrder);
  if (StandardHansa==false and IsSberbankProduct==false) then begin
    RadioButton(h,v+=16,m4_hijri,0,"Hijri",DateOrder); // We have some enum already in BCD that goes from 0 to 5..
    RadioButton(h,v+=16,m4_persian_date,0,"Persian",DateOrder);
  end;
  EndFrame;
  CheckBox(h,v+=24,0,"  ",LeadingZDay);
  CheckBox(h1,v,0,"  ",thousSepf);
  CheckBox(h,v+=16,0,"  ",LeadingZMonth);
  CheckBox(h,v+=16,0,"  ",LeadingCentury);
  EditField(h2,v=vm,20," ",Normal,DateSep,false,0);
  EditField(h2,v+=20,20," ",Normal,DecimalPt,false,0);
  EditField(h2,v+=20,20," ",Normal,ThousandSep,false,0);
  SpecialMenu(" ",'o',1,"CreateObjUserDsm");
  EndWindow;
end;



window ArtStatIClass:1
  wtag("language","RUS"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer")
begin
  boolean Colourf,DiscUPrf,GPPrcf,GPf,InStockf,Instock2f,LeadDatef,Locsf,NotRsrvdf,OrddOutf,POQtyf,Shpblef,Statf,Varf,CostPricef;
  real h,hs,l,v;
  WindowBegin("C ",ArtStatIClass,CGother,RcType);
  DynamicWindow;
  ItemStatusUserSettings(CurrentUser,InStockf,OrddOutf,POQtyf,Shpblef,GPf,NotRsrvdf,GPPrcf,DiscUPrf,Instock2f,Varf,LeadDatef,Statf,Locsf,CostPricef);
  l = 1200;//1040;
  if (!InStockf) then begin l = l - 80; end;
  if (!OrddOutf) then begin l = l - 80; end;
  if (!POQtyf) then begin l = l - 80; end;
  if (!Shpblef) then begin l = l - 80; end;
  if (!NotRsrvdf) then begin l = l - 80; end;
  if (!GPf) then begin l = l - 80; end;
  if (!GPPrcf) then begin l = l - 80; end;
  if (!DiscUPrf) then begin l = l - 80; end;
  if (!Instock2f) then begin l = l - 80; end;
  if (!LeadDatef) then begin l = l - 90; end;
  if (!Varf) then begin l = l - 60; end;
  if (!Locsf) then begin l = l - 60; end;
  if (!Statf) then begin l = l - 60; end;
  if (!CostPricef) then begin l = l - 60; end;
  SetWRect(3,80,l,129);
  Modality(2);
  if (IsWebClient) then begin
    v = 37;
    h = 1;
    hs = 70;
  end else begin
    v = 15;
    h = 20;
    hs = 80;
  end;
  StaticText(h,v,  "",false);
  if (InStockf) then begin
//    StaticText(h+=(hs+10),v,  "",false);
    ColourPushButton(h+=(hs+6),v-12,h+67,v+3,"ArtStatIClassSL","",1001);
  end;
  if (OrddOutf) then begin
//    StaticText(h+=hs,v,  "Order",false);
    ColourPushButton(h+=(hs+2),v-12,h+62,v+3,"ArtStatIClassOS"," .",1001);
  end;
  if (POQtyf) then begin
//    StaticText(h+=hs,v,  "Purch.Ord",false);
    ColourPushButton(h+=(hs-1),v-12,h+62,v+3,"ArtStatIClassPOS",". .",1001);
  end;
  //if (Shpblef) then begin		//Edit----------------------Dima  09.07.2015
  //  StaticText(h+=hs,v,  "",false);
 // end;
  if (NotRsrvdf) then begin
    StaticText(h+=hs,v,  ".",false);
  end;
  if (GPf) then begin
    StaticText(h+=hs,v,  "",false);
  end;
  if (GPPrcf) then begin
    StaticText(h+=hs,v,  ",%",false);
  end;
  if (DiscUPrf) then begin
    StaticText(h+=hs,v,  "  .",false);
  end;
  if (Instock2f) then begin
    StaticText(h+=hs,v,  " ,2",false);
  end;
  if (LeadDatef) then begin
    StaticText(h+=hs,v,  "",false);
  end;
  if (CostPricef) then begin
    StaticText(h+=hs,v,  ".",false);
  end;
  if (IsWebClient) then begin
    h = 1;
  end else begin
    h = 20;
  end;
  EditFieldTL(h,v+=10, 70,"",M4UStr,ViewOnly,20,f1,false,0);
  if (InStockf) then begin
    EditFieldTL(h+=(hs+10),v, 60,"",M4Str,ViewOnly,20,f2,true,0);
  end;
  if (OrddOutf) then begin
    EditFieldTL(h+=hs,v ,60,"",M4Str,ViewOnly,20,f3,true,0);
  end;
  if (POQtyf) then begin
    EditFieldTL(h+=hs,v ,60,"",M4Str,ViewOnly,20,LastAcc,true,0);
  end;
  //if (Shpblef) then begin				//Edit----------------------Dima  09.07.2015
  //  EditFieldTL(h+=hs,v ,60,"",M4Str,ViewOnly,20,FirstAcc,true,0);
  //end;
  if (NotRsrvdf) then begin
    EditFieldTL(h+=hs,v ,60,"",M4Str,ViewOnly,20,Stext,true,0);
  end;
  if (GPf) then begin
    EditFieldTL(h+=hs,v ,60,"",M4Str,ViewOnly,20,AccStr,true,0);
  end;
  if (GPPrcf) then begin
    EditFieldTL(h+=hs,v ,60,"",M4Str,ViewOnly,20,ObjStr,true,0);
  end;
  if (DiscUPrf) then begin
    EditFieldTL(h+=hs,v ,60,"",M4Str,ViewOnly,20,TransStr,true,0);
  end;
  if (Instock2f) then begin
    EditFieldTL(h+=hs,v ,60,"",M4Str,ViewOnly,20,f4,true,0);
  end;
  if (LeadDatef) then begin
    EditFieldTL(h+=hs,v ,70,"",M4Date,ViewOnly,0,d1,true,0);
  end;
  if (CostPricef) then begin
    EditFieldTL(h+=hs,v ,70,"",M423Val,ViewOnly,0,vals4,true,0);
  end;
  if (IsWebClient) then begin
    h = h - 200;
    v = 1;
  end else begin
    v = 20;
  end;
  if (Varf) then begin
    ColourPushButton(h+=87,v,h+58,v+26,"DoVARMaskStock",".",1001);
    //HalPushButton(h+=87,20,h+43,40,"DoVARMaskStock","Var");
    Colourf = true;
  end;
  if (Locsf) then begin
    if (Colourf) then begin
      ColourPushButton(h+=62,v,h+58,v+26,"DoLocationItem",".",1001);
    end else begin
      ColourPushButton(h+=87,v,h+58,v+26,"DoLocationItem",".",1001);
    end;
    //HalPushButton(h+=47,v,h+43,40,"DoLocationItem","Loc");
    Colourf = true;
  end;
  if (Statf) then begin
    if (Varf) then begin
      if (Colourf) then begin
        ColourPushButton(h+=62,v,h+58,v+26,"DoFutureStockHist",".",1001);
      end else begin
        ColourPushButton(h+=87,v,h+58,v+26,"DoFutureStockHist",".",1001);
      end;
      //HalPushButton(h+=47,v,h+43,40,"DoFutureStockHist","Future");
    end else begin
      if (Colourf) then begin
        ColourPushButton(h+=62,v,h+58,v+26,"DoFutureStockHist",".",1001);
      end else begin
        ColourPushButton(h+=87,v,h+58,v+26,"DoFutureStockHist",".",1001);
      end;
      //HalPushButton(h+=47,20,h+43,40,"DoFutureStockHist","Future");
    end;
    Colourf = true;
  end;
  EndWindow;
end;

window IVJRClass:1
	wtag("language","RUS"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer")
begin
	real h,h2,hs,v,v3,vm,vs,l;

	WindowBegin("  ",IVJRClass,CGRcW,RcType);
	SetWRect(20,80,520,390);
	vs = 20;
	hs=148;
	if (IsEnterprise) then begin
		if (HasLocalization("ARG,HRV,LTU,LVA,POL,PRT,RUS") or (HasOfficialSerNr and HasPreferedOfficialSerNr==false))	then begin
		Tile(0,40,false,"",f1);
		end else begin
			Tile(0,20,false,"",f1);
		end;
	end;

	v = 6; h = 150;
	if (HasPreferedOfficialSerNr) then begin
		EditFieldTL(h,v,150," ",M4UStr,Normal,41,f6,false,0);
		v = v + 20;
		if (HasLocalization("POL,PRT")==false)	then begin
			EditFieldTL(h,v, 150," /",M4Str,Normal,30,f1,false,0);
			v = v + 20;
		end;
	end else begin
		EditFieldTL(h,v,150," /",M4Str,Normal,30,f1,false,0);
		v = v + 20;
		if (HasOfficialSerNr) then begin
			EditFieldTL(h,v,150,"  ",M4UStr,Normal,41,f6,false,0);
			v = v + 20;
		end;
	end;

	if (IsEnterprise) then begin
		TileButtons(v,2);
		Tile(1,380,false,"1",f2);
		v = 6;
		vm = v;
	end;
	PeriodField(h,v,"");
	EditFieldTL(h,v+=vs, 150," . /",M4UStr,Normal,21,Period2Str2,false,PerSClass);

	EditFieldTL(h,v+=vs,65,"",M4Str,Normal,10,d1Code,true,0);//Edit----------------------Dima  12.08.2015
	EditFieldTL(h+85,v,65,":",M4Str,Normal,10,d2Code,false,0);		//Edit----------------------Dima  12.08.2015

	EditFieldTL(h,v+=vs ,150,"",M4UStr,Normal,50,f2,false,CUSClass);
	if (HasCategories) then begin
		EditFieldTL(h,v+=vs ,70,"",M4UStr,Normal,5,f3,false,CCatSClass);
	end;
	if (HasContactClassification) then begin
		EditFieldTL(h,v+=vs ,70," ",M4UStr,Normal,60,f5,false,CTypeSClass);
		EditFieldTL(h,v+=vs ,70,"",M4UStr,Normal,30,f4,false,CClassSClass);
	end;
	if (HasSalesman) then begin
		EditFieldTL(h,v+=vs ,70,"",M4UStr,Normal,10,AccStr,false,UserSClass);
	end;
	if (HasObjects) then begin
	 EditFieldTL(h,v+=vs,250,"",M4UStr,Normal,60,ObjStr,false,ObjSClass);
	 EditFieldTL(h,v+=vs,50," ",M4UStr,Normal,5,ObjType,false,OTSClass);
		EditFieldTL(h,v+=vs,250," ",M4UStr,Normal,60,f11,false,ObjSClass);
	end;
	if (HasModTS) then begin
		EditFieldTL(h,v+=vs,50,"",M4UStr,Normal,20,FirstAcc,false,PRSClass);
	end;
	if (HasMultiLocations) then begin
		EditFieldTL(h,v+=vs,70,"",M4UStr,Normal,60,LastAcc,false,LocationSClass);
	end;
	if (IsEnterprise) then begin
		EditFieldTL(h,v+=vs,50," ",M4UStr,Normal,5,TransStr,false,PDSClass);
		EditFieldTL(h,v+=vs,50,". ",M4Code,Normal,20,f12,false,CUSClass);
	end;
	if (IsEnterprise) then begin
		EditFieldTL(h,v3=(v+=vs),50,". ",M4Val,Normal,0,vals0,false,0);
	end;
	if (IsEnterprise) then begin
		h = 320;
		v = vm + 10;
	end else begin
		v = v + 40;
		v3 = v + 20;
		vm = v;
	end;
	ButtonFrame(h,v,123,5,"");
	CheckBox(h,v,0,"",flags[1]);
	CheckBox(h,v+=16,0,"",flags[2]);
	if (IsEnterprise) then begin
		RadioButton(h,v+=16,0,0,". ",flags[7]);
		RadioButton(h,v+=16,1,0,". ",flags[7]);
		RadioButton(h,v+=16,2,0," ",flags[7]);
	end;
	RadioButton(h,v+=20,0,0,"",flags[8]);
	RadioButton(h,v+=16,1,0,". ",flags[8]);
	RadioButton(h,v+=16,2,0," ",flags[8]);
	EndFrame;

	v3 = v3 + 41;
	v = v3;
	if (IsEnterprise) then begin
		vm = v;
	end;
	ButtonFrame(h=148,v,123,3,"");
	RadioButton(h,v,0,0,"",ArtMode);
	RadioButton(h,v+=16,1,0,"",ArtMode);
	if (HasMultiCurrency) then begin
		RadioButton(h,v+=16,4,0,"  .",ArtMode);
	end;
	EndFrame;
	if (IsEnterprise==false and HasBase2) then begin
		CheckBox(h,v+=42,0,"- .  1 & 2 ",flags[12]);
	end;

	if (IsEnterprise) then begin
		h2 = 320;
		l = 160;
	end else begin
		h2 = h + 148;
		l = 160;
	end;
	ButtonFrame(h2,v=vm,l,5,"");
	if (HasModNL) then begin
		RadioButton(h2,v,0,0," ",flags[10]);
	end else begin
		RadioButton(h2,v,0,0," /",flags[10]);
	end;
	if (HasLocalization("BRA,POL,PRT")) then begin
		RadioButton(h2,v+=16,5,0," /",flags[10]);
	end else begin
		RadioButton(h2,v+=16,1,0," /",flags[10]);
	end;
	if (HasMultiLocations) then begin
		RadioButton(h2,v+=16,2,0," ( .)",flags[10]);
	end;
	if (HasOfficialSerNr) then begin
		RadioButton(h2,v+=16,3,0,"  ",flags[10]);
	end;
	if (IsEnterprise) then begin
		RadioButton(h2,v+=16,4,0," /",flags[10]);
	end;
	EndFrame;
	if (IsEnterprise) then begin
		Tile(2,330,false,"2",Stext);
		v = 6;
		EditFieldTL(h=150,v,100," ",M4UStr,Normal,21,Stext,false,ITSClass);
		EditFieldTL(h,v+=vs,100,"",M4UStr,Normal,41,f10,false,INSClass);
		EditFieldTL(h=150,v+=vs,100," ",M4UStr,Normal,21,f7,false,AccSClass);
		EditFieldTL(h=150,v+=vs,100," ",M4UStr,Normal,21,f8,false,AccSClass);
		if (StandardHansa==false) then begin
			EditFieldTL(h=150,v+=vs,100,". ",M4UStr,Normal,20,f9,false,CUSClass);
		end;
		//		EditFieldTL(h,v+=vs,50,"Order Class",M4UStr,Normal,5,Stext,false,OrderClassSClass); // no more strings to use....
		ButtonFrame(h=50,vm = (v+=40),123,4," ");
		CheckBox(h,v,0,"-",flags[3]);
		CheckBox(h,v+=16,0," ",flags[4]);
		CheckBox(h,v+=16,0," ",flags[5]);
		CheckBox(h,v+=16,0," ",flags[6]);
		CheckBox(h,v+=26,0,"/,    ",flags[19]);
		StaticText(h+17,v+=30,"(   /)",false);
		CheckBox(h=220,v=vm,0," .",flags[11]);
		CheckBox(h,v+=16,0,"  .  1  2",flags[12]);
		if (StandardHansa==false) then begin
			CheckBox(h,v+=16,0,"  /",flags[13]);
		end;
		CheckBox(h,v+=16,0,"  /",flags[14]);
		CheckBox(h,v+=16,0,"  ",flags[15]);
		CheckBox(h,v+=16,0,"  /",flags[17]);
		CheckBox(h,v+=16,0," . ",flags[18]);
		CheckBox(h,v+=16,0,"Invoices with Total amount equal zero",flags[20]);
		CheckBox(h+=hs,v=vm,0,"   ",flags[16]);
	end else begin
		ButtonFrame(h+=148,v+=41,123,3," .");
		CheckBox(h,v,0,"",flags[3]);
		CheckBox(h,v+=16,0,". ",flags[4]);
		CheckBox(h,v+=16,0,"-",flags[5]);
		if (HasLocalization("PRT")) then begin
			CheckBox(h,v+=16,0," ",flags[6]);
		end;
		EndFrame;
		if (HasLocalization("PRT")) then begin
			CheckBox(h,v+=24,0,"Invoices with Total equal zero",flags[20]);
		end;
	end;
	EndWindow;
end;


window PIDClass:1
  wtag("language","RUS"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer")
begin
  real h,h2,h3,v,vs;
  WindowBegin(" ",PIDClass,CGview,-);
  SetWRect(20,80,527,380);
//  Sizeable(-1,-1,0,0);
  UseView(PIVc);
  Tile(0,90,false,"",ItemCode);
  v = 10; vs = 20; h = 80; h2 = 230; h3 = 380;
  EditField(h,v, 82,"",Normal,ItemCode,false,INSClass);
  EditField(h2,v,-40,".",Normal,Comment,false,0);
  EditField(h,v+=vs ,82,"",Normal,VECode,false,VESClass);
  EditField(h2,v,-40,".",Normal,VEName,false,0);
  EditField(h,v+=vs ,82,"",Normal,Location,false,LocationSClass);
  TileButton(1,"");
  TileButton(2,"");
  CheckBox(h2+100,v,0," ",DefaultChoice);
  Tile(1,190,false,"1",PurPrice);
  EditField(h=120,v=6 ,82,"",Normal,PurPrice,true,0);
  EditField(h3,v ,70," ",Normal,PurchaseCost,true,0);
  EditField(h,v+=vs,50,"",Normal,CurncyCode,true,CurncyCodeSClass);
  EditField(h3,v ,70," -",Normal,PIFactor,true,0);
  EditField(h,v+=vs ,82,"  .",Normal,VEItemCode,false,0);
  EditField(h3,v ,70," ",Normal,VEUnit,false,UnitSClass);
/*  EditField(h,v+=vs ,200,"Comment",Normal,Comment,false,0);*/
  EditField(h,v+=vs ,82," . -",Normal,NormPOQty,true,0);
  EditField(h3,v ,82,". . -",Normal,MinPOQty,true,0);
  EditField(h,v+=vs ,82,"",Normal,Manufacturer,false,VESClass);
  EditField(h3,v ,50," ",Normal,OrgCountry,false,CountrySClass);
  if (HasSalesman) then begin
    EditField(h,v+=vs,60,"",Normal,SalesMan,false,UserSClass);
    if (StandardHansa==false) then begin
      EditField(h3,v,60," ",Normal,SalesGroup,false,SalesGroupSClass);
    end;
  end;
  EditField(h,v+=vs ,50,"  ",Normal,PlannedDelDays,false,0);
  EditField(h,v+=vs ,50,"  ",Normal,LastOrder,false,0);
  EditField(h,v+=vs ,50," ",Normal,LastChange,false,0);
  
  if (StandardHansa==false) then begin
    ButtonFrame(h3,v+=vs,123,2,".  ");
    RadioButton(h3,v,kStockTypePurchased,0,"",DefStockType);
    RadioButton(h3,v+=16,kStockTypeConsignment,0,"",DefStockType);
  end;
  Tile(2,100,true,"2",Math);
  MatrixBegin(4,v=24,-32,-20,-,99);
  MatCol(1,24,"",0,Text,false,0);
  EndMatrix;
  EndWindow;
end;

window StockTakeLClass:1
  wtag("language","RUS"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer,android,iPad,iPhone")
begin
  Integer icn;

  icn = StringToInt(USetStr(912));

  WindowBegin("",StockTakeLClass,CGmlist,-);
  SpawnClass(StockTakeDClass);
  Sizeable(-1,-1,0,0);
  UseView(StockTakeVc);
  if (GUIType==kGuiAndroid) then begin
    WindowTitleBar(6002,icn,6003,"");
    CloseOnCancel;
    SetWRect(0,0,320,418);
    RecordList(0,0,-1,-1);
    RLCellKey(0,12,280,12,SerNr,false,kFontSizeMedium,patM4curpen,SerNr);
    RlCell(60,12,200,12,TransDate,false,kFontSizeMedium,patM4curpen);
    RlCell(230,12,320,12,Location,false,kFontSizeMedium,patM4curpen);
    RLCell(0,56,280,56,Comment,false,kFontSizeSmall,patM4curpen);
  end else begin
    RecordList(4,17,-21,-39);
    if (GUIType==kGuiiPhone) then begin
      SetWRect(0,0,320,418);
      CloseOnCancel;
      iPhoneTopBar;
      RlCellKey(10,6,90,19,SerNr,false,12,patM4black,SerNr);
      RlCell(100,6,200,19,TransDate,false,12,patM4black);
      RlCell(210,6,280,19,Location,false,12,patM4black);
      RlCell(10,26,280,39,Comment,false,12,patM4black);
    end else begin
      SetWRect(10,80,509,298);
      RlColKey(4,4,    "",SerNr,false,SerNr);
      RlColKey(79,79,  "OK",OKFlag,false,OKFlag);
      RlColKey(121,121," ",TransDate,false,TransDate);
      if (HasMultiLocations) then begin
        RlCol(200,200,"",Location,false);
        RlCol(260,260,"",Position,false); //Edit***************************Sasha2,11:26 12.02.2016
        RlCol(320,320,"",Comment,false); //270 //Edit***************************Sasha2,11:30 12.02.2016
      end else begin
        RlCol(191,191,"",Comment,false);
      end;
    end;
    SearchField("");
  end;
//  SpecMenuItem("OK",'G',0);
  EndWindow;
end;

window StockTakeDClass:5
  wtag("language","RUS"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer,android,iPhone")
begin
  real h,h2,v,vm,vs;
  Integer f,flipnr,t;
  Integer icn;

  icn = StringToInt(USetStr(912));
  WindowBegin("",StockTakeDClass,CGview,-);
  SetWRect(20,80,560,350);
  Sizeable(-1,-1,0,0);
  UseView(StockTakeVc);
  if (GUIType==kGuiAndroid) or (GUIType==kGUIiPhone) then begin
    if (GUIType==kGuiAndroid) then begin
      WindowTitleBar(6002,icn,6003,"");
    end;
    h = 10; h2 = 165;
    vs = 38;
    EditField(h,v=6,145,"",Normal,SerNr,false,0);
    if (HasMultiLocations) then begin
      EditField(h2,v,145,"",Normal,Location,false,LocationSClass);
    end;
    EditField(h,v+=vs,300," ",Normal,TransDate,false,PasteCurDate);
    EditField(h,v+=vs,-10,"",Normal,Comment,false,0);
    CheckBox(40,v+=vs,0,"OK",OKFlag);
    EnterSkip(Math);
    v = v + 42;
    MatrixBegin(0,v,-1,-1,-,200);

    MatCell(t=1,10,6,120,19,ArtCode,false,12,patM4black);
    MatCell(t,130,6,280,19,SerialNr,false,12,patM4black);
    MatCell(t,10,26,190,39,Spec,false,12,patM4black);
    MatCell(t,200,26,280,39,Qty,true,12,patM4black);

  //MatCol(1,-340,"Position",0,Position,false,PosSClass);
    InsertRowTest;
    DeleteRowTest;
    EndMatrix;
  end else begin
    vs = 20; h2 = 300;
    EditField(h=100,v=6, 82,"",Normal,SerNr,false,TSerSClass);
    EditField(h2,v,82," ",Normal,TransDate,false,PasteCurDate);
    if (IsEnterprise) then begin
      CheckBox(-100,v,0,"OK",OKFlag);
    end;
    if (HasMultiLocations) then begin
      EditField(h,v+=vs,82,"",Normal,Location,false,LocationSClass);
      EditField(h+150,v,82,"",Normal,Position,false,PosSClass); //Edit***************************Sasha2,11:30 12.02.2016
    end;
    EnterSkip(Math);
  //  CheckBox(420,v=6,0,"Set #Stock# Levels to these Balances on this day",SetStockValue); // Still not working properly
  //  CheckBox(420,v+=vs,0,"Override Backdated",OverrideBackdated); // Still not working properly
    v = v + 42;
    vm = v + 1;
    MatrixBegin(4,v,-50,-35,-,2000);	//Edit----------------------Dima  30.11.2015
    Flip(0); flipnr = flipnr + 1;
    if (HasJewelleryInterface) then begin
      MatCol(1,32," ",0,SerialNr,false,SerialNrSClass);
      EnterSkip(Quant);
      MatCol(1,130,"",0,ArtCode,false,INSClass);
      if (HasVarieties) then begin
        MatCol(1,192,".",0,Qty,true,MATVARINSClass);
      end else begin
        MatCol(1,192,".",0,Qty,true,0);
      end;
      if (HasAdvancedStock) then begin
        MatCol(1,254," ",0,InStock,true,0);
        MatCol(1,314,"",0,Spec,false,0);
      end else begin
        MatCol(1,254,"",0,Spec,false,0);
      end;
    end else begin
      MatCol(1,32,"",0,ArtCode,false,INSClass);
  //  MatCol(1,94,"Var",0,VARList,false,VARSClass);
  //  MatCol(1,144,"Qty",0,Qty,true,0);
      if (HasVarieties) then begin
        MatCol(1,94,"-",0,Qty,true,MATVARINSClass);
      end else begin
        MatCol(1,94,".",0,Qty,true,0);
      end;
      if (HasAdvancedStock) then begin
        MatCol(1,154," .",0,InStock,true,0);
        MatCol(1,214,"",0,Spec,false,0);
      end else begin
        MatCol(1,154,"",0,Spec,false,0);
      end;
    end;
    if (IsEnterprise) then begin
      Flip(flipnr); flipnr = flipnr + 1;
      if (HasJewelleryInterface==false) then begin
        MatCol(1,-280," ",0,SerialNr,false,SerialNrSClass);
      end;
      MatCol(1,-160,"",0,Location,false,LocationSClass);
      if (StandardHansa==false) then begin
        MatCol(1,-100,"",0,Position,false,PosSClass);
      end;
      MatCol(1,-40,".",0,Coefficient,false,0);
      Flip(flipnr); flipnr = flipnr + 1;
      MatCol(1,-125," ",0,BasePrice,true,0);
      MatCol(1,-40,"",0,Coefficient,false,0);
      Flip(flipnr); flipnr = flipnr + 1;
      MatCol(1,-140,"",0,UnitXval,true,0);
      MatCol(1,-95,"",0,UnitYval,true,0);
      MatCol(1,-50,"",0,UnitZval,true,0);
    end;
    DeleteRowTest;
    EndMatrix;
    vs = 20; v=vm;

    if (flipnr>2) then begin
      for (f=1;f<flipnr;f=f+1) begin
        VTab(-35,v,-16,v+vs,ToolFlip,f,chr(asc("A") + f - 1));
        v = v + vs;
      end;
    end;
    if (IsEnterprise==false) then begin
      CheckBox(20,-30,0,"OK",OKFlag);
    end;
    EditField(h=150,-30,-35,".",Normal,Comment,false,0);
    if (IsEnterprise) then begin
      SpecialMenu("  ",' ',1,"StockTakeFillFIFODsm");
      SpecialMenu(" ",'f',1,"ItemSearchDsm");
  //  SpecialMenu("Import Data from Digitag",'f',1,"StockTakeDigitagDsm");
    end;
  end;
  EndWindow;
end;

window FreePosSClass:1
  wtag("language","RUS"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer")
begin
  WindowBegin(" ",FreePosSClass,CGslist,-);
  SetWRect(240,80,700,298);
  Sizeable(-1,-1,0,0);
  UseView(PosVc);
  SpawnClass(PosDClass);
  RecordList(4,17,-21,-39);
  RlColKey(4,2,"",Code,false,MainKey); //Edit***************************Sasha2,18:00 14.12.2015 {
  RlColKey(100,100,"",LocArea,false,LocArea);
  RlColKey(200,200, "",Comment,false,Comment);
  RlColKey(300,300,"",Location,false,Location);
  RlColKey(400,400,"",Height,false,Height); //Edit***************************Sasha2,18:00 14.12.2015 }
  SearchField("");
  EndWindow;
end;

window UsedPosSClass:1
  wtag("language","RUS"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer")
begin
  WindowBegin(" ",UsedPosSClass,CGslist,-);
  SetWRect(240,80,700,298);
  Sizeable(-1,-1,0,0);
  UseView(PosVc);
  SpawnClass(PosDClass);
  RecordList(4,17,-21,-39);
  RlColKey(4,2,"",Code,false,MainKey); //Edit***************************Sasha2,18:00 14.12.2015 {
  RlColKey(100,100,"",LocArea,false,LocArea);
  RlColKey(200,200, "",Comment,false,Comment);
  RlColKey(300,300,"",Location,false,Location);
  RlColKey(400,400,"",Height,false,Height); //Edit***************************Sasha2,18:00 14.12.2015 }
  SearchField("");
  EndWindow;
end;

//Edit-------------------Vitalii 16:09 14.12.2015
window PLHistLClass:1
  wtag("language","RUS"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer")
begin
  WindowBegin(" ",PLHistLClass,CGmlist,-);
  SpawnClass(PLHistDClass);
  SetWRect(64,80,509,298);
  Sizeable(-1,-1,0,0);
  UseView(PLHistVc);
  RecordList(4,17,-21,-39);
  RlColKey(4,2,"",ArtCode,false,PLCode);
  RlCol(100,100, "",PLCode,false);
  RlCol(200,200, "",CustCode,false);
  SearchField("");
  EndWindow;
end;

window PLHistDClass:2
  wtag("language","RUS"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer")
begin
  real h,v,vs;
  WindowBegin(" ",PLHistDClass,CGview,-);
  SetWRect(64,80,509,380);
  UseView(PLHistVc);
  v = 10; vs = 20; h = 120;
  EditField(h,v, 70,"",ViewOnly,ArtCode,false,INSClass);
  EditField(h,v+=vs,50,"",ViewOnly,PLCode,false,PLDefSClass);
  EditField(h,v+=vs,307,"",ViewOnly,CustCode,false,0);
  v=v+40;
  MatrixBegin(30,v,-30,-10,-,300);
  MatCol(1,30,"",0,ChDate,false,0);
  MatCol(1,100,"",0,ChTime,false,0);
  MatCol(1,170,"",0,UserCode,true,0);
  MatCol(1,240,"",0,Price,true,0);
  MatCol(1,310,"",0,StatusStr,true,0);
  InsertRowTest;
  DeleteRowTest;
  EndMatrix;
  EndWindow;
end;



window ARDClass:1
  wtag("language","RUS"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer")
begin
  real h,h1,h2,t,v,vs;
  WindowBegin("ARVc",ARDClass,CGview,-);
  SetWRect(20,80,512,639);
  UseView(ARVc);
  vs = 20; h=150; h1=100; h2=220;
  EditField(h,v=10, 70, "InvoiceNr",Normal,InvoiceNr,false,0);
  EditField(h,v+=20, 82, "Date",Normal,DueDate,false,0);
  EditField(h,v+=20, 82, "RVal",Normal,RVal,false,0);
  EditField(h,v+=20, 82, "CustCode",Normal,CustCode,false,0);
  EditField(h,v+=20, 82, "ARRebDate",Normal,ARRebDate,false,0);
  EditField(h,v+=20, 82, "ARCurncyCode",Normal,ARCurncyCode,false,0);
  EditField(h,v+=20, 82, "CustName",Normal,CustName,false,0);
  EditField(h,v+=20, 82, "BookRVal",Normal,BookRVal,false,0);
  EditField(h,v+=20, 82, "OfficialSerNr",Normal,OfficialSerNr,false,0);
  EditField(h,v+=20, 82, "ARRebDate2",Normal,ARRebDate2,false,0);
  
  EndWindow;
end;

window ARLClass:10
  wtag("language","RUS"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer") 
begin
  WindowBegin("ARVc",ARLClass,CGmlist,-); 
  SetWRect(20,80,800,298);
  Sizeable(-1,-1,0,0);
  SpawnClass(ARDClass);
  UseView(ARVc);
  RecordList(4,17,-21,-39);
  RlColKey(4,4,"No.",InvoiceNr,false,InvoiceNr); 
  RlColKey(111,111,"Invoice date",DueDate,false,DueDate); 
  RlColKey(220,200,"Customer",CustName,false,CustName); 
  SearchField("Search "); 
  
  EndWindow;
end;


window APDClass:1
  wtag("language","RUS"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer")
begin
  real h,h1,h2,t,v,vs;
  WindowBegin("APVc",APDClass,CGview,-);
  SetWRect(20,80,512,639);
  UseView(APVc);
  vs = 20; h=150; h1=100; h2=220;
  EditField(h=150,v=10, 70, "InvoiceNr",Normal,InvoiceNr,false,0);
  EditField(h,v+=20, 82, "SerNr",Normal,SerNr,false,0);
  EditField(h,v+=20, 82, "Date",Normal,DueDate,false,0);
  EditField(h,v+=20, 82, "RVal",Normal,RVal,false,0);
  EditField(h,v+=20, 82, "VECode",Normal,VECode,false,0);
  EditField(h,v+=20, 82, "RebDate",Normal,RebDate,false,0);
  EditField(h,v+=20, 82, "CurncyCode",Normal,CurncyCode,false,0);
  EditField(h,v+=20, 82, "VEName",Normal,VEName,false,0);
  EditField(h,v+=20, 82, "BookRVal",Normal,BookRVal,false,0);
  EditField(h,v+=20, 82, "OPNr",Normal,OPNr,false,0);
  EditField(h,v+=20, 82, "RebDate2",Normal,RebDate2,false,0);
  
  EndWindow;
end;

window APLClass:10
  wtag("language","RUS"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer") 
begin
  WindowBegin("APVc",APLClass,CGmlist,-); 
  SetWRect(20,80,800,298);
  Sizeable(-1,-1,0,0);
  SpawnClass(APDClass);
  UseView(APVc);
  RecordList(4,17,-21,-39);
  RlColKey(4,4,"",SerNr,false,SerNr); 
  RlColKey(111,111," /",DueDate,false,DueDate); 
  RlColKey(220,200,"",VEName,false,VEName); 
  SearchField(""); 
  
  EndWindow;
end;


window GCSDClass:1
  wtag("language","RUS"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer")
begin
  real h,h2,v,vm,vs;
  WindowBegin("  ",GCSDClass,CGview,-);
  SetWRect(64,80,470,200);
  UseView(GCSVc);
  v = 6; vs = 20; h = 80; h2 = 270;
  EditField(h,vm=v, 55,"",Normal,SerNr,false,TSerSClass);
  EditField(h2,v, 70,"",Normal,Amount,true,0);
  EditField(h,v+=vs, 70," .",Normal,TransDate,false,PasteCurDate);
  EditField(h2,v, 70,". ",Normal,ExpiryDate,false,PasteCurDate);
  EditField(h,v+=vs, -20,".",Normal,Comment,false,0);
  EditField(h,v+=vs, 100,"-",Normal,BarCode,false,0);
  if (CurrentUser=="SAUNOK") then begin
 		EditField(h2,v, 70,"",Normal,Balance,true,0);
  end else begin
		EditField(h2,v, 70,"",ViewOnly,Balance,true,0);
	end;
  EndWindow;
end;


window LocationDClass:1
  wtag("language","RUS"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer")
begin
  real h,h2,l,v,vm,vs;
  Integer tilenr;

  WindowBegin("",LocationDClass,CGview,-);
  SetWRect(64,80,570,520);
  UseView(LocationVc);
  v = 10; vs = 20; h = 120; h2 = 340; l = -60;
  if (IsEnterprise) then begin
    Tile(0,50+24,false,"",Code);
  end;
  EditField(h,v,120,"",Normal,Code,false,0);
  if (IsEnterprise and StandardHansa==false) then begin
    EditField(h2,v,l,"",Normal,Group,false,LocGrSClass);
  end;
  EditField(h,v+=vs,l,".",Normal,Name,false,0);
  if (IsEnterprise) then begin
    tilenr = 1;
    TileButton(tilenr,""); tilenr = tilenr + 1;
    if (StandardHansa==false) then begin
      TileButton(tilenr,""); tilenr = tilenr + 1;
    end;
    tilenr = 1;
    Tile(tilenr,350,false,tilenr,Addr0); tilenr = tilenr + 1;
    EditField(h,v=6,l,"",Normal,Addr0,false,0);
  end else begin
    EditField(h,v+=vs,l,"",Normal,Addr0,false,0);
  end;
  EditField(h,v+=vs,l,"",Normal,Addr1,false,0);
  EditField(h,v+=vs,l,"",Normal,Addr2,false,0);
  EditField(h,v+=vs,l,"",Normal,Addr3,false,0);
  EditField(h,v+=vs,l,"",Normal,Addr4,false,0);
  EditField(h,v+=vs,l,". ",Normal,Contact,false,0);
  EditField(h,v+=vs,l,"",Normal,Phone,false,0);
  EditField(h,v+=vs,l,"",Normal,Fax,false,0);
  EditField(h,v+=vs,l,"E-mail",Normal,Email,false,0);
  if (IsEnterprise) then begin
    if (StandardHansa==false) then begin
      EditField(h,v+=vs,l,"",Normal,Classification,false,LocClSClass);
    end;
    EditField(h,v+=vs,100,"",Normal,RespPerson,false,UserSClass);
    EditField(h2,v,l," .",Normal,ReservLocAccess,false,ReservLocAccessSClass);
  end;
  if (HasModNL) then begin
    EditField(h,v+=vs,100," ",Normal,StockAcc,false,AccSClass);
  end;
  if (HasObjects) then begin
    EditField(h2,v,l,"",Normal,Objects,false,ObjSClass);
  end;
  if (IsEnterprise) then begin
  //  EditField(h,v+=vs,100,"Price List",Normal,PriceList,false,PLDefSClass);//No Code
    EditField(h,v+=vs,100," ",Normal,PurLoc,false,LocationSClass);
    if (StandardHansa==false) then begin
      EditField(h2,v,l,".  ",Normal,ShipToAccount,false,0);
      EditField(h,v+=vs,100," ",Normal,ThrouLocation,false,LocationSClass);
    end;
    CheckBox(h,vm=(v+=30),0," ",IgnoreChronology);
    if (StandardHansa==false) then begin
      CheckBox(h,v+=vs,0," ",RequirePos);
    end;
    ButtonFrame(h2,v=vm+10,100,2,"T");
    RadioButton(h2,v,0,0,"",Type);
    RadioButton(h2,v+=16,1,0,"",Type);
  end;
  if (HasModWHM) then begin
    Tile(tilenr,310,false,tilenr,WHMPalletArea); tilenr = tilenr + 1;
    EditField(h=200,v=6,l=100,"  ",Normal,WHMPalletArea,false,LocAreaSClass);
    EditField(h,v+=vs,l," ",Normal,WHMPickArea,false,LocAreaSClass);
    EditField(h,v+=vs,l,"  ",Normal,WHMDefPUPosCode,false,PosSClass);
    EditField(h,v+=vs,l,"  ",Normal,WHMDefProdPosCode,false,PosSClass);
    EditField(h,v+=vs,l,"  ",Normal,WHMWraperPosCode,false,PosSClass);
    EditField(h,v+=vs,l,"   ",Normal,WHMDeliveryPosCode,false,PosSClass);//the same as WraperPosCode at ethe moment
    EditField(h,v+=vs,l,"  c/  ",Normal,DefaultCashierPosCode,false,PosSClass);			//Edit----------------------Dima  12.01.2016
    EditField(h,v+=vs,l," ",Normal,WHMDeliveryArea,false,LocAreaSClass);
    EditField(h,v+=vs,l,"-",Normal,WHMExpressOrderClass,false,OrderClassSClass);
    EditField(h,v+=vs,l,"  ",Normal,WHMDefPUVECode,false,VESClass);
    CheckBox(h,v+=24,0," ",RequirePos);
    CheckBox(h,v+=16,0,"    ",WHMHighestPosCodeFirst);
    ButtonFrame(h,v+=40,140,3," ");
    RadioButton(h,v,0,0,".",WHMForkLiftSystem);
    RadioButton(h,v+=16,1,0,".",WHMForkLiftSystem);
    RadioButton(h,v+=16,2,0,".,   .",WHMForkLiftSystem);
  end;
  EndWindow;
end;





window CashierDefTClass:1
  wtag("language","RUS"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer")
begin
  real h,h2,v,vm,vs;
  WindowBegin("  ",CashierDefTClass,CGSbl,CashierDefFileType);
  SetWRect(64,80,700,500);
  SetBlid(CashierDefBlock);
  v = 6; vs = 20; h = 150; h2 = 300; vm=0;
  EditField(h,v,70,"  ",Normal,DefCustCode,false,CUSClass);
  if (HasModNL) then begin
    EditField(h,v+=vs,70," -",Normal,CredAcc,false,AccSClass);
    EditField(h,v+=vs,70," ",Normal,WriteOffAcc,false,AccSClass);
  end;
  if (HasModRest) then begin
    EditField(h,v+=vs,70,"  ",Normal,TipPMCode,false,PMSClass);
  end;
  if (IsEnterprise) then begin
    EditField(h,v+=vs,70,"",Normal,Printer,false,SetSClass);
    if (StandardHansa==false) then begin
      EditField(h,v+=vs,70,"  ",Normal,DiscountItem,false,INSClass);
    end;
  end;
  if (HasModIN) then begin
    if (IsEnterprise) then begin
      ButtonFrame(h,v+=3*vs+2*16,370,1,"POS");
      end else begin
      if (HasModRest) then begin
        ButtonFrame(h,v+=40,370,1,"POS");
      end else begin
        v = v + 20;
      end;
    end;
      EditField(h,v,70,"  ",Normal,UpdStockMaintTime,false,PasteCurTime);
    CheckBox(h2,v,0,"   ",UpdStockMaint);
 end;
 if (HasModRest) then begin
    ButtonFrame(h,v+=40,370,2,"");
    EditField(h,v,70,"  ",Normal,RestUpdStockMaintTime,false,PasteCurTime);
    CheckBox(h2,v,0,"   ",RestUpdStockMaint);
    CheckBox(h,v+=18,0,"  ",RestOKSD);
//    CheckBox(h2,v,0,"   ",OKPU);
  end;
  if (IsEnterprise) then begin
    EditField(h,v+=(vs+5),70,"  ",Normal,CashupMaintInterval,false,PasteCurTime);
    CheckBox(h2,v,0,"   ",CashupMaint);
  end;
//  EditField(h,v+=vs,60,"POS No.",Normal,POSNr,false,0);
  v = vm + 3;
  if (HasModRest) then begin
    CheckBox(h2,v,0,"    ",InclTipInCashup);
    v = v + 16;
  end;
  if (IsEnterprise) then begin
    if (HasModSL) then begin
      CheckBox(h2,v,0,".  .    ",InclOpenInvCashup);
      v = v + 16;
    end;
  end;
  if (IsEnterprise) then begin
    if (StandardHansa==false) then begin
      CheckBox(h2,v,0,". . .  . . .",CashSalesToFiscalControlUnit);
      v = v + 16;
    end;
    CheckBox(h2,v,0,"     ",MultipleSessionsPerLocalMachine);
    CheckBox(h2,v+=16,0,". .  ./ .. .  .",NoChangesPOSOnLiveSyncClient);
  end;
  if (IsEnterprise) then begin
    CheckBox(h2,v+=16,0,"Require Return Reason",RequireReturnReason);
    CheckBox(h2,v+=16,0,"Require Return Customer",RequireReturnCustomer);
  end;
  CheckBox(h2,v+=20,0,"   /",PutPositionForPOS);				//Edit----------------------Dima  12.01.2016
  //CheckBox(h2,v+=16,0,"    /",RequirePositionForPOS);		//Edit----------------------Dima  12.01.2016
  if (HasModNL) then begin
    ButtonFrame(h2,v+=45,220,2,"    ");
    CheckBox(h2,v,0,"    . ",StartFromLastPOSBal);
    if (HasModNL) then begin
      CheckBox(h2,v+=16,0,"   ",PrintDetNLTrans);
    end;
    EndFrame;
  end;
  if (IsEnterprise) then begin
    CheckBox(h2,v+=142,0,"  ",RequireOpenSession);
    ButtonFrame(h2,vm=(v+=41),170,3,"  .   /");
    RadioButton(h2,v,0,0," ",DefInvoiceField);
    RadioButton(h2,v+=16,1,0,"",DefInvoiceField);
    if (HasSerialNumbers) then begin
      RadioButton(h2,v+=16,2,0," ",DefInvoiceField);
    end;
    EndFrame;
  end;
  EndWindow;
end;

window INrsRClass:1
  wtag("language","RUS"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer")
begin
  real h,h2,h3,h4,v,vm,vs;
  WindowBegin("  ",INrsRClass,CGRcW,RcType);
  SetWRect(20,80,550,460);
  v = 6; vs = 20; h = 160; h2 = 30; h3 = 180; h4 = 340;
  PeriodField(h,v,"");
  EditFieldTL(h,v+=vs,150,"",M4UStr,Normal,50,f1,false,INSClass);
  EditFieldTL(h,v+=vs,150,"",M4UStr,Normal,5,f3,false,ITSClass);
  if (HasItemClassification) then begin
    EditFieldTL(h,v+=vs,150,"", M4UStr,Normal,60,f4,false,DISClass);
    EditFieldTL(h,v+=vs,150," ",M4UStr,Normal,60,f5,false,CTypeSClass);
  end;
  if (HasMultiLocations) then begin
    EditFieldTL(h,v+=vs,150,"",M4Code,Normal,21,f6,false,LocationSClass);
    if (StandardHansa==false and IsEnterprise) then begin
      EditFieldTL(h,v+=vs,150," ",M4Code,Normal,10,f7,false,LocGrSClass);
      EditFieldTL(h,v+=vs,150," ",M4List,Normal,200,f8,false,LocClSClass);
    end;
  end;
  EditFieldTL(h,v+=vs,150,"",M4Code,Normal,21,f11,false,PosSClass);	//Edit----------------------Dima  27.01.2016
  if (HasDepartments) then begin
    EditFieldTL(h,v+=vs,150,"",M4UStr,Normal,10,AccStr,false,DepSClass);
  end;
  if (HasModPO) then begin
    EditFieldTL(h,v+=vs,150," ",M4UStr,Normal,10,f2,false,VESClass);
  end;
  if (IsEnterprise) then begin
    CheckBox(h2,v+=26,0,"  ",flags[11]);
//  CheckBox(h2,v+=16,0,"Show Quantity 2",flags[12]);
    CheckBox(h2,v+=16,0,"     ",flags[13]);
    CheckBox(h2,v+=16,0,"  ",flags[14]);
  end;
  if (HasMultiLocations) then begin
    CheckBox(h2,v+=16,0,"  ",flags[15]);
  end;
  if (HasSerialNumbers) then begin
    CheckBox(h2,v+=16,0,".  . .",AccSpec);
  end;
  if (HasLocalization("ARG,MEX,USA") and IsStandardProduct==false) then begin
    CheckBox(h2,v+=16,0,"Include Dispatch Number",flags[22]);
  end;
//  CheckBox(h2,v+=16,0,"Include History Before #Stocktaking#",flags[19]);
  ButtonFrame(h2,vm=(v+=38),130,2,"");
  RadioButton(h2,v,0,0,"",flags[9]);
  RadioButton(h2,v+=16,1,0,"",flags[9]);
  if (IsEnterprise) then begin
    ButtonFrame(h2,v+=40,130,2," ");
    RadioButton(h2,v,0,0," ",flags[10]);
    RadioButton(h2,v+=16,1,0," ",flags[10]);
  end;
  ButtonFrame(h3,v=vm,140,3,"");
  RadioButton(h3,v,0,0,"",ArtMode);
  if (HasVarieties) then begin
    RadioButton(h3,v+=16,3,0,"  ",ArtMode);
  end;
  RadioButton(h3,v+=16,1,0,"  ",ArtMode); // 2 Has some code for it, don't know what....
  EndFrame;
  if (HasSecondQuantity) then begin
    ButtonFrame(h4,v=vm,150,3,"");//  CheckBox(20);
    RadioButton(h4,v,0,0,"  - 2",flags[12]);
    RadioButton(h4,v+=16,1,0," - 2",flags[12]);
    RadioButton(h4,v+=16,2,0," ",flags[12]);
    ButtonFrame(h4,v=30,160,12,"");
  end else begin
    ButtonFrame(h4,v=vm,160,12,"");  
  end;
  if (HasModSO) then begin
    CheckBox(h4,v,0,"",flags[2]); v = v + 16;
  end;
  CheckBox(h4,v,0,"",flags[3]); v = v + 16;
  CheckBox(h4,v,0,"-",flags[1]); v = v + 16;
//  CheckBox(h4,v,0,"POS Invoices",flags[16]); v = v + 16;
  if (HasModProd) then begin
    if (StandardHansa==false) then begin
      CheckBox(h4,v,0,"  ",flags[18]); v = v + 16;
    end;
    CheckBox(h4,v,0,"",flags[5]); v = v + 16;
    if (StandardHansa==false) then begin
      CheckBox(h4,v,0," ",flags[20]); v = v + 16;
    end;
  end;
  if (HasAdvancedStock) then begin
    CheckBox(h4,v,0," ",flags[8]); v = v + 16;
    CheckBox(h4,v,0,"  ",flags[19]); v = v + 16;
  end;
  CheckBox(h4,v,0,"  ",flags[6]); v = v + 16;
  if (IsEnterprise or (HasLocalization("PRT") and HasMultiLocations)) then begin  
    CheckBox(h4,v,0," ",flags[4]); v = v + 16;
  end;
  if (HasAdvancedStock) then begin
    CheckBox(h4,v,0," ",flags[22]); v = v + 16;
  end;
  if (HasModRent) then begin
    CheckBox(h4,v,0," ",flags[17]); v = v + 16;
  end;
  if (HasModSVO) then begin
    CheckBox(h4,v,0," ",flags[7]); v = v + 16;
  end;
  CheckBox(h4,v,0,"",flags[23]); v = v + 16;// Edit ************************** Monday, 11 January 2016 14:48:32
  EndFrame;
  EndWindow;
end;





window RetPUDClass:1
  wtag("language","RUS"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer")
begin
  real h,h1,h2,h3,h4,v,vm,vs;
  Integer tilenr,f,flipnr;
  string 255 label;

  WindowBegin("  ",RetPUDClass,CGview,-);
  SetWRect(20,80,750,460);
  Sizeable(-1,-1,0,0);
  UseView(RetPUVc);
  FormName(RetPurchaseForm);
  Tile(0,74,false,"",SerNr);
  v = 6; vs = 20;
  EditField(75,vm=(v=6),95,".",Normal,SerNr,false,TSerSClass);
  EditField(75,v+=20,95,"",ViewOnly,VECode,false,0);
  EditField(h=255,v=vm,-40,".",ViewOnly,VEName,false,0);
  if (HasOfficialSerNr) then begin
    EditField(h,vm=(v+=20),135,". ",Normal,OfficialSerNr,false,LegalInvNrSClass);
    v=v+20;
    CheckBox(h4=-100,v=vm,0,"OK",OKFlag);
  end else begin
    CheckBox(h4=-100,v+=20,0,"OK",OKFlag);
  end;
  
  if (CurrentUser=="SAUNOK") then begin
		EditField(500,vm,100,"LocOKNr",Normal,LocOKNr,false,0);	//Edit----------------------Dima  21.01.2016
	end;
  
  tilenr = 1;
  TileButton(tilenr,""); tilenr = tilenr + 1;
  TileButton(tilenr,""); tilenr = tilenr + 1;
  if (HasMultiCurrency) then begin
    TileButton(tilenr,""); tilenr = tilenr + 1;
  end;
  if (StandardHansa==false) then begin
    TileButton(tilenr,"."); tilenr = tilenr + 1;
    TileButton(tilenr,""); tilenr = tilenr + 1;
    TileButton(tilenr,""); tilenr = tilenr + 1;
  end;
  TileButton(tilenr,"."); tilenr = tilenr + 1;
//  TileButton(tilenr,"Extra Costs");
  tilenr = 1;
  Tile(tilenr,70,false,tilenr,TransDate); tilenr = tilenr + 1;
  vs = 20; h1 = 110; h2 = 300; h3 = 530; h4 = -100;
  EditField(h1,vm=(v=6),82,"",Normal,TransDate,false,PasteCurDate);
  EditField(h1,v+=vs,82,"",Normal,Location,false,LocationSClass);
  if (IsEnterprise) then begin
    EditField(h1,v+=vs,82,"",Normal,Reason,false,StandProblemsSClass);
  end;
  EditField(h2,v=vm,125, "  .",ViewOnly,PONr,false,0);
  if (StandardHansa==false) then begin
    EditField(h2,v+=vs,125,"",Normal,Sorting,false,DelRouteSClass);
  end;
  if (HasObjects) then begin
    EditField(h2,v+=vs,125,"",Normal,Objects,false,ObjSClass);  
  end;
  ButtonFrame(h3=h3-70,v=16,140,2," ");
  RadioButton(h3,v,0,0," ",Type);
  RadioButton(h3,v+=16,1,0,"  ",Type);
  CheckBox(h4,v=vm,0," . ",InclVAT);
//  CheckBox(h4,v+=vs,0,"Update #Stock#",UpdStockFlag);
  EnterSkip(Math);
  Tile(tilenr,79,true,tilenr,Math); tilenr = tilenr + 1;
  v = 24;
  if (HasLocalization("PRT")) then begin
    MatrixBegin(4,v,-50,-42,-,199);
  end else begin
    MatrixBegin(4,v,-50,-22,-,199);
  end;
  Flip(0);
  if (HasJewelleryInterface) then begin
    MatCol(1,32," ",0,SerialNr,false,SerialNrSClass);
    EnterSkip(Quant);
    MatCol(1,130,"",0,ArtCode,false,INSClass);
  end else begin
    MatCol(1,32,"",0,ArtCode,false,INSClass);
    MatCol(1,120,"-",0,Quant,true,0);
  end;
  flipnr = 1;
  Flip(flipnr); flipnr = flipnr + 1;
  MatCol(1,174,".",0,Spec,false,0);
  if (HasJewelleryInterface) then begin
    MatCol(1,-280,"",0,Location,false,0);
  end;
  MatCol(1,-220," ",0,VEItemCode,false,0);
  MatCol(1,-80,"-",0,Coefficient,true,0);
  if (HasModNL or HasObjects) then begin
    Flip(flipnr); flipnr = flipnr + 1;
    MatCol(1,174,"",0,Spec,false,0);
    if (HasModNL) then begin
      MatCol(1,-190," ",0,CostAcc,false,0);
      MatCol(1,-130," ",0,CredAcc,false,0);
    end;
    if (HasObjects) then begin
      MatCol(1,-60,"",0,Objects,false,0);
    end;
  end;
  Flip(flipnr); flipnr = flipnr + 1;
  MatCol(1,174,".",0,Spec,false,0);
  MatCol(1,-360,"",0,Location,false,0);
//  MatColTL(1,-310,"Location",0,M4UStr,Normal,0,Location,false,0);
  MatColTL(1,-300,"  /",0,-1,ViewOnly,-1,PUCostPrice,false,0);
  if (StandardHansa==false) then begin
    MatColTL(1,-220,". ",0,-1,ViewOnly,-1,VarianceAmount,false,0);
  end;
  MatCol(1,-160,"FIFO",0,FIFO,true,0);
  MatCol(1,-90,"FIFO  ",0,FIFORowVal,true,0);
  Flip(flipnr); flipnr = flipnr + 1;
  MatCol(1,174,".",0,Spec,false,0);
  if (HasPositions) then begin
    MatCol(1,-300,"",0,PosCode,false,PosSClass);
  end;
  if (HasSerialNumbers) then begin
    MatCol(1,-235," ",0,SerialNr,false,SerialNrSClass);
  end;
  MatCol(1,-135,".",0,UnitXval,true,0);
  MatCol(1,-90,".",0,UnitYval,true,0);
  MatCol(1,-45,".",0,UnitZval,true,0);
  Flip(flipnr); flipnr = flipnr + 1;
  MatCol(1,164,".",0,Spec,false,0);
  MatCol(1,-260," .",0,PUNr,false,PUSClass);
  MatCol(1,-190," .",0,PURow,false,0);
  MatCol(1,-130," . .",0,PONr,false,POSClass);
  MatCol(1,-60," . .",0,OrdRow,false,0);
  Flip(flipnr); flipnr = flipnr + 1;
  MatCol(1,-420,"Fr. Cost",0,ShipCost,true,0);
  MatCol(1,-360,"Customs",0,CustomsCost,true,0);
  label = UserDefined("AccBlock","PUCost1");
  if (blank(label)) then begin label = "Cost 1";end;
  MatCol(1,-300,label,0,RowCost1,false,0);
  label = UserDefined("AccBlock","PUCost2");
  if (blank(label)) then begin label = "Cost 2";end;
  MatCol(1,-240,label,0,RowCost2,false,0);
  label = UserDefined("AccBlock","PUCost3");
  if (blank(label)) then begin label = "Cost 3";end;
  MatCol(1,-180,label,0,RowCost3,false,0);
  label = UserDefined("AccBlock","PUCost4");
  if (blank(label)) then begin label = "Cost 4";end;
  MatCol(1,-120,label,0,RowCost4,false,0);
  label = UserDefined("AccBlock","PUCost5");
  if (blank(label)) then begin label = "Cost 5";end;
  MatCol(1,-60,label,0,RowCost5,false,0);
  DeleteRowTest;
  InsertRowTest;
  EndMatrix;
  vs = 20;
//  v = 18;/* 28 */
  v = v + 1;
  if (flipnr>2) then begin
    for (f=1;f<flipnr;f=f+1) begin
      VTab(-35,v,-16,v+vs,ToolFlip,f,chr(asc("A") + f - 1));
      v = v + vs;
    end;
  end;

//  CheckBox(20,-20,0,"OK",OKFlag);
//  v=v+ vs; VTab(-35,v,-16,v+vs,ToolFlip,4,"D");
  if (HasLocalization("PRT")) then begin
    EditField(-450,-40,70,"Freight",ViewOnly,ShipCost,true,0);
    EditField(-300,-40,70,"Customs",ViewOnly,CustomsCost,true,0);
    EditField(-130,-40,70,"TOTAL",ViewOnly,SumCostPrice,true,0);
    EditField(-450,-20,150,"Tax Auth. Approval",Normal,TaxAdminServSeal,false,0);  
//    SoftEditField(120,-20,150,"Tax Auth. Approval",Normal,"TaxAdminServSeal",false,0,M4Str,200);
    EditField(-130,-20,70,"Total Qty",ViewOnly,SumQuant,true,0);
  end else begin
    EditField(133,-20,60," -",ViewOnly,SumQuant,true,0);
    EditField(-450,-20,70,"",ViewOnly,ShipCost,true,0);
    EditField(-300,-20,70,"",ViewOnly,CustomsCost,true,0);
    EditField(-130,-20,70,"",ViewOnly,SumCostPrice,true,0);
  end;
  if (HasMultiCurrency or HasBase2) then begin
    Tile(tilenr,70,false,tilenr,FrRate); tilenr = tilenr + 1;
    h1 = 110; vs = 20;
    if (HasBase2) then begin
      h1 = h1 + 20;
    end;
    EditField(h1,v=6,50,"",Normal,CurncyCode,false,CurncyCodeSClass);
    if (HasMultiCurrency) then begin
      if (HasBase2) then begin
        EditField(h1,v+vs,50,".  1",Normal,BaseRate1,true,0);
      end else begin
        EditField(h1,v+vs,50,". ",Normal,BaseRate1,true,0);
      end;
      if (HasBase2) then begin  
        EditField(h1,v+(vs*2),50,".  2",Normal,BaseRate2,true,0);  
      end;
      EditField(h2=295,v,50,"",Normal,FrRate,true,0);  
      if (HasBase2) then begin  
        RateField(h3=360,v,50,":",Normal,"ToRateB1",true,h3+60,v+14,".  1",false);  
        RateField(h3,v+=vs,50,":",Normal,"ToRateB2",true,h3+60,v+14,".  2",false);            
      end else begin
        RateField(h3=360,v,50,":",Normal,"ToRateB1",true,h3+60,v+14," ",false);      
      end;
    end else begin
      EditField(h1,v+=vs,50,".  1",Normal,BaseRate1,true,0);
      EditField(h1,v+=vs,50,".  2",Normal,BaseRate2,true,0);
    end;
  end;
  if (StandardHansa==false) then begin
    Tile(tilenr,120,false,tilenr,Cost1); tilenr = tilenr + 1;
    vs = 20;
    label = UserDefined("AccBlock","PUCost1");
    if (blank(label)) then begin label = ". 1";end;
    EditField(h=110,v=6,70,label,ViewOnly,Cost1,false,0);
    label = UserDefined("AccBlock","PUCost2");
    if (blank(label)) then begin label = ". 2";end;
    EditField(h2=295,v,70,label,ViewOnly,Cost2,false,0);
    label = UserDefined("AccBlock","PUCost3");
    if (blank(label)) then begin label = ". 3";end;
    EditField(h,v+=vs,70,label,ViewOnly,Cost3,false,0);
    label = UserDefined("AccBlock","PUCost4");
    if (blank(label)) then begin label = ". 4";end;
    EditField(h2,v,70,label,ViewOnly,Cost4,false,0);
    label = UserDefined("AccBlock","PUCost5");
    if (blank(label)) then begin label = ". 5";end;
    EditField(h,v+=vs,70,label,ViewOnly,Cost5,false,0);

    EditField(h,v+=vs,70,"  .",Normal,PlanSendDate,false,PasteCurDate);
    EditField(h2,v,70,".  .",Normal,PlanArrDate,false,PasteCurDate);
    EditField(h,v+=vs,70,".  .",Normal,PlanSendTime,false,PasteCurTime);
    EditField(h2,v,70,".  .",Normal,PlanArrTime,false,PasteCurTime);

    ButtonFrame(h3=400,v=16,130,2," .");
    RadioButton(h3,v,0,0,"",ExtraCostsCalculation);
    RadioButton(h3,v+=16,1,0,"",ExtraCostsCalculation);
    Tile(tilenr,130,false,tilenr,DelAddr0); tilenr = tilenr + 1;
    EditField(h1,v=6,80," ",Normal,DelAddrCode,false,DelAddr3SClass);
    EditField(h1,v+=vs,-20,"",Normal,DelAddr0,false,0);
    EditField(h1,v+=vs,-20,"",Normal,DelAddr1,false,0);
    EditField(h1,v+=vs,-20,"",Normal,DelAddr2,false,0);
    EditField(h1,v+=vs,-20,"",Normal,DelAddr3,false,0);
    EditField(h1,v+=vs,-20,"",Normal,DelAddr4,false,0);
    Tile(tilenr,130,false,tilenr,FreightCode); tilenr = tilenr + 1;
    EditField(h1,v=6,80,". ",Normal,FreightCode,false,FreightCompanySClass);
    EditField(h1,v+=vs,-20,".",Normal,FreightCompany,false,0);
    EditField(h1,v+=vs,-20,"",Normal,FreightCompanyRegNr,false,0);
    EditField(h1,v+=vs,-20,".  ",Normal,TruckInfo,false,0);
    EditField(h1,v+=vs,-20,"",Normal,Driver,false,0);
    EditField(h1,v+=vs,-20,"",Normal,CMRText,false,0); // International transporting number
  end;
  Tile(tilenr,30,false,tilenr,Comment); tilenr = tilenr + 1;
  EditField(h1,v=6,-20,"",Normal,Comment,false,0);
  EditField(h1,v+=vs,50,"Language",Normal,LangCode,false,LangSClass);
  if (HasNumberSeries and HasLocalization("PRT")) then begin  
    if (HasOfficialSerNr) then begin
      EditField(h1,v+=vs,100,"Official Ser No. 2",Normal,OfficialSerNr2,false,0);  
      EditField(h2,v,135,"Status",Normal,Status,false,SetSClass);  
    end;    
  end;
/*
  Tile(7,70,false,"7",Cost1);
  vs = 20;
  label = UserDefined("AccBlock","PUCost1");
  if (blank(label)) then begin label = "Extra Cost 1";end;
  EditField(h=110,v=6,70,label,Normal,Cost1,false,0);
  label = UserDefined("AccBlock","PUCost2");
  if (blank(label)) then begin label = "Extra Cost 2";end;
  EditField(h2=295,v,70,label,Normal,Cost2,false,0);
  label = UserDefined("AccBlock","PUCost3");
  if (blank(label)) then begin label = "Extra Cost 3";end;
  EditField(h,v+=vs,70,label,Normal,Cost3,false,0);
  label = UserDefined("AccBlock","PUCost4");
  if (blank(label)) then begin label = "Extra Cost 4";end;
  EditField(h2,v,70,label,Normal,Cost4,false,0);
  label = UserDefined("AccBlock","PUCost5");
  if (blank(label)) then begin label = "Extra Cost 5";end;
  EditField(h,v+=vs,70,label,Normal,Cost5,false,0);
*/
  SpecialMenu("  ",'F',0,"CredVIFromRetPUDsm");
  if (HasModNL) then begin
    SpecialMenu("  ",'t',1,"OpenTRFromRetPU");
  end;
  if (HasQualityControl) then begin
    SpecialMenu(" ",'u',10,"QualConFromRetPUDsm");
  end;
  if (HasLocalization("PRT")) then begin
    if (HasETaxDocuments) then begin
      SpecialMenu("Send to Tax Authorities",'',10,"EShipPRTDsm");  
    end;
  end;  
  EndWindow;
end;

window StockMovJRClass:1
  wtag("language","RUS"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer")
begin
  real h,v,vm,vs;
  WindowBegin("   ",StockMovJRClass,CGRcW,RcType);
  SetWRect(20,80,450,380);
  vs = 20; h = 150; v = 6;
  EditFieldTL(h,v,150,"",   M4Str,Normal,30,f1,false,0);
  PeriodField(h,v+=vs,"");
  EditFieldTL(h,v+=vs,80," ",M4UStr,Normal,30,f2,false,LocationSClass);
  EditFieldTL(h+150,v,80," ",M4UStr,Normal,30,f5,false,PosSClass); //Edit***************************Sasha2,16:40 11.02.2016
  EditFieldTL(h,v+=vs,80," ",M4UStr,Normal,30,f3,false,LocationSClass);
  EditFieldTL(h+150,v,80," ",M4UStr,Normal,30,f6,false,PosSClass); //Edit***************************Sasha2,16:40 11.02.2016
  if (StandardHansa==false) then begin
    EditFieldTL(h,v+=vs,80,"  ",M4UStr,Normal,10,FirstAcc,false,LocationSClass);
  end;
  EditFieldTL(h,v+=vs,150,"",M4UStr,Normal,41,f4,false,INSClass);
  EditFieldTL(h,v+=vs,80," ", M4Long,Normal,0,long1,false,ProdSClass);
  vm = v+40;
  ButtonFrame(h=20,v = vm,123,2,"");
  RadioButton(h,v,0,0,"",ArtMode);
  RadioButton(h,v+=16,1,0,"",ArtMode);
  ButtonFrame(h+=138,v = vm,123,3,"");
  RadioButton(h,v,0,0," ",flags[4]);
  RadioButton(h,v+=16,1,0," ",flags[4]);
  RadioButton(h,v+=16,2,0," ",flags[4]);
  vm = v + 48;
  ButtonFrame(h=20,v=vm,123,3," ");
  RadioButton(h,v,1,0," .",flags[1]);
  RadioButton(h,v+=16,2,0," .",flags[1]);
  RadioButton(h,v+=16,0,0,"",flags[1]);
  if (StandardHansa==false) then begin
    ButtonFrame(h+=138,v=vm,123,3," ");
    RadioButton(h,v,1,0," ",flags[2]);
    RadioButton(h,v+=16,2,0," ",flags[2]);
    RadioButton(h,v+=16,0,0,"",flags[2]);
    ButtonFrame(h+=138,v=vm,123,3," ");
    RadioButton(h,v,1,0," ",flags[5]);
    RadioButton(h,v+=16,2,0," ",flags[5]);
    RadioButton(h,v+=16,0,0,"",flags[5]);
    CheckBox(h=20,v+=32,0," ",flags[3]);//?
  end;
  EndWindow;
end;



window LocalMachineTClass:2
  wtag("language","RUS"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer")
begin
  real h,h2,v,vm,vs;
  string 255 label;
  Integer tilenr;

  WindowBegin("  ",LocalMachineTClass,CGSbl,-);
  SetWRect(64,80,700,580);
  SetBlid(LocalMachineBlock);
  vs = 20;
  Tile(0,50,false,"",LocalMachineCode);
  EditField(h=200,v=6,60,"",Normal,LocalMachineCode,false,LocalMachineSClass);
  tilenr = 1;
  TileButton(tilenr," ."); tilenr = tilenr + 1;
  TileButton(tilenr,""); tilenr = tilenr + 1;
  if (StandardHansa==false) then begin
    if (HasHotelInterface) then begin // Hotel
      TileButton(tilenr,""); tilenr = tilenr + 1;
    end else begin
      TileButton(tilenr,". "); tilenr = tilenr + 1;
    end;
  end;
  TileButton(tilenr,""); tilenr = tilenr + 1;
  TileButton(tilenr,"."); tilenr = tilenr + 1;
  TileButton(tilenr,"POS"); tilenr = tilenr + 1;
  tilenr = 1;
  Tile(tilenr,475,false,tilenr,DefLocation); tilenr = tilenr + 1;
  v = 6;
  EditField(h,v,60,"  .",Normal,DefLocation,false,LocationSClass);
  EditField(h,v+=vs,60,"   .",Normal,DefReturnLocation,false,LocationSClass);
  EditField(h,v+=vs,120,"  .",Normal,DefPrinter,false,0);
  EditFieldTL(h,v+=vs,180,"   .",M4StrSet,Normal,89,DefExpCodepage,false,StrSetSClass);
  EditField(h,v+=vs,60,"  ",Normal,DefCustCode,false,CUSClass);
  if (StandardHansa==false) then begin
    EditField(h,v+=vs,60,".    .",Normal,DefRestDisp,false,DISClass);
  end;
  EditField(h,v+=vs,100,"",Normal,BranchID,false,ContactCUSClass);
  EditField(h,v+=vs,100,"",Normal,FiscalPrinter,false,SetSClass);
  if (StandardHansa==false) then begin
    EditField(h,v+=vs,60,"GMT Offset",Normal,GMTOffset,false,0);           //!!PRODTRANSLATE
  end;
  ButtonFrame(h2=30,vm=(v+=40),153,4,"  ");
  RadioButton(h2,v,0,0,"  .",ItemPasteSpecial);
  RadioButton(h2,v+=16,1,0,"",ItemPasteSpecial);
  RadioButton(h2,v+=16,2,0," ",ItemPasteSpecial);
  RadioButton(h2,v+=16,3,0," .",ItemPasteSpecial);

  ButtonFrame(h2=30,v+=40,153,4," . ");
  RadioButton(h2,v,3,0,"  ",MailboxPasteSpecial);
  RadioButton(h2,v+=16,1,0,"",MailboxPasteSpecial);
  RadioButton(h2,v+=16,2,0,"",MailboxPasteSpecial);
  RadioButton(h2,v+=16,0,0,"../",MailboxPasteSpecial);
  ButtonFrame(h2=210,v=vm,143,3,"  ");
  RadioButton(h2,v,0,0,"  .",AccClassPasteSpecial);
  RadioButton(h2,v+=16,1,0," ",AccClassPasteSpecial);
  RadioButton(h2,v+=16,2,0," ",AccClassPasteSpecial);
  if (StandardHansa==false) then begin
    ButtonFrame(h2,v+=56,153,3,"  ");
    RadioButton(h2,v,0,0,"C  .",ActTypePastePerClass);
    RadioButton(h2,v+=16,1,0," .   .",ActTypePastePerClass);
    RadioButton(h2,v+=16,2,0,". .  .",ActTypePastePerClass);
  end;

  CheckBox(h=380,v=vm,0,"  ",WarnOnDelete);
  CheckBox(h,v+=17,0,"   ",NoToolTips);
  if (StandardHansa==false) then begin
    CheckBox(h,v+=17,0,"   ",OneBarTabWindow);
  end;
  CheckBox(h,v+=17,0,"  ",NoBackGround);
  CheckBox(h,v+=17,0,"  ",WideScrollBars);
  CheckBox(h,v+=17,0,"     ",NoServerModeIdle);
  if (StandardHansa==false) then begin
    CheckBox(h,v+=17,0," . e-mail",BackgroundMailSync);
    CheckBox(h,v+=17,0,". .   .   ",CustPSOnCall);
    CheckBox(h,v+=17,0,"  ",ApprovalTypeActDClass);  
  end;
  Tile(tilenr,70,false,tilenr,entryFont); tilenr = tilenr + 1;
  v = 6; h = 210;
  EditField(h,v,-20,". ",Normal,entryFont,false,FontNameSClass);
  EditField(h,v+=vs,-20,". ",Normal,reportFont,false,FontNameSClass);
  EditField(h,v+=vs,50,".  ",Normal,reportFontSize,false,0);
  if (GuiType==kGuiiPhone) then begin
    EditField(h,v+=vs,50,"  ",Normal,TabletScaleFactor,false,0);
  end;
  v = 6;
  if (StandardHansa==false) then begin
    if (HasHotelInterface) then begin // Hotel
      Tile(tilenr,100,false,tilenr,ResLoc); tilenr = tilenr + 1;
      EditField(h,v,60,". ",Normal,ResLoc,false,ResLocSClass);
      EditField(h,v+=vs,150,". ",Normal,ResClass,false,ResClasSClass);
      EditField(h,v+=vs,60," . -  - ",Normal,LockSysEncoderNo,false,0);
    end else begin
      Tile(tilenr,50,false,tilenr,ResLoc); tilenr = tilenr + 1;
      EditField(h,v,60,". ",Normal,ResLoc,false,ResLocSClass);
      EditField(h,v+=vs,150,". ",Normal,ResClass,false,ResClasSClass);
    end;
  end;
  Tile(tilenr,130,false,tilenr,SkypeInt); tilenr = tilenr + 1;
  ButtonFrame(h,v=20,123,3,"  Skype");
  RadioButton(h,v,1,0,"",SkypeInt);
  RadioButton(h,v+=16,2,0,"",SkypeInt);
  RadioButton(h,v+=16,0,0,"  ",SkypeInt);

  ButtonFrame(h,v+=48,200,1,"Connect to GSX");
  EditField(h+100,v,80,"Ship-To Account",Normal,ShipToAccount,false,0);

  if (StandardHansa==false) then begin
    CheckBox(h,v+=30,0,".      ",SyncRecordforPOS);
    EditField(h,v+=vs,-40,".  .",Normal,SyncINClass,false,DISClass);
  end;

  Tile(tilenr,300,false,tilenr,UserStr1); tilenr = tilenr + 1;
  label = UserDefined("LocalMachineSetVc","UserStr1");
  if (nonblank(label)) then begin
    EditField(h,v+=vs,-20,label,Normal,UserStr1,false,0);
  end;
  label = UserDefined("LocalMachineSetVc","UserStr2");
  if (nonblank(label)) then begin
    EditField(h,v+=vs,-20,label,Normal,UserStr2,false,0);
  end;
  label = UserDefined("LocalMachineSetVc","UserStr3");
  if (nonblank(label)) then begin
    EditField(h,v+=vs,-20,label,Normal,UserStr3,false,0);
  end;
  label = UserDefined("LocalMachineSetVc","UserStr4");
  if (nonblank(label)) then begin
    EditField(h,v+=vs,-20,label,Normal,UserStr4,false,0);
  end;
  label = UserDefined("LocalMachineSetVc","UserStr5");
  if (nonblank(label)) then begin
    EditField(h,v+=vs,-20,label,Normal,UserStr5,false,0);
  end;
  Tile(tilenr,450,false,tilenr,Supervisor); tilenr = tilenr + 1;
  if (StandardHansa==false) then begin
    EditField(h=220,v=6,60,"",Normal,Supervisor,false,UserSClass);
    EditField(h,v+=20,60,"",Normal,Bagger,false,BaggerSClass);
    EditField(h,v+=vs,60,"-",Normal,PLCode,false,PLDefSClass);
  end else begin
    EditField(h=220,v=6,60,"-",Normal,PLCode,false,PLDefSClass);
  end;
  if (IsEnterprise) then begin    
  EditField(h,v+=vs,150,"  . ",Normal,POSButtonGroup,false,POSButtonGroupsSClass);
  end;
  if (StandardHansa==false) then begin
    EditField(h,v+=20,150,"  . . . .",Normal,FiscalPrinterEJournalPath,false,0);
    EditField(h,v+=20,150,"  . . . . 2",Normal,FiscalPrinterEJournalPath2,false,0);
    EditField(h,v+=20,150,".",Normal,TableViewCode,false,TablesViewsSClass);
    EditField(h,v+=20,150,"  ",Normal,RestAccClass,false,RestAccClassSClass);
  end;
  EditField(h,v+=vs,100,"ID ",Normal,TerminalID,false,0);
  if (HasModRest) then begin
    EditFieldTL(h,v+=vs,-20,"Kitchen Order Screen Departments",M4Str,Normal,200,KitchenOrdScrDep,false,DepSClass);  
    EditFieldTL(h,v+=vs,50,"Kitchen Order Screen Refresh Interval",M4Time,Normal,0,KitchenRefreshInt,false,PasteCurTime);    
  end;
  CheckBox(h,v+=20,0,"   ",TouchScreenLook);
//  CheckBox(h,v+=20,0,"iOS Vertical Touch Screen Interface",TouchScreenLook2);
  CheckBox(h,v+=16,0,"Item Picture in POS Invoice (iOS)",TouchScreenLookPicture);
  if (StandardHansa==false) then begin
    CheckBox(h,v+=16,0,"    .  / ..",DefaulBaggerSupervisor);
    CheckBox(h,v+=16,0,". .  / ..",ShowBaggerSupervisor);
  end;
  CheckBox(h,v+=16,0," -  / ..",HideQty);
  if (StandardHansa==false) then begin
    CheckBox(h,v+=16,0,"  .  . . ",CCRequireAuthCode);
  end;
  CheckBox(h,v+=16,0,"  ",IncrementalReceiptPrinting);
  CheckBox(h,v+=16,0,"  ",UseDisplay);
  CheckBox(h,v+=16,0,"  ",UseCustomerDisplay);
  CheckBox(h,v+=16,0,"  \"   \" -",NotPutFiscalFlag);		//Edit----------------------Dima  16.02.2016
  if (HasLocalization("HRV")) then begin
    CheckBox(h,v+=16,0,"Send Fiscal Invoice (#S/L#)",SendFiscalInvoice);
  end;
  ButtonFrame(h,v+=40,100,2," ");
  RadioButton(h,v,kPOSButtonsPositionLeft,0,"",POSButtonsPosition);
  RadioButton(h,v+=16,kPOSButtonsPositionRight,0,"",POSButtonsPosition);
  ButtonFrame(h,v+=40,100,3," ");
  RadioButton(h,v,0,0,"22",POSFontSize);
  RadioButton(h,v+=16,1,0,"16",POSFontSize);
  RadioButton(h,v+=16,2,0,"11",POSFontSize);
  EndWindow;
end;


window CCPayTouchScreenDClass:1
  wtag("language","RUS"), wtag("product","*"), wtag("productcode","*"), wtag("device","computer,iPad")
begin
  real h,h2,v;
  record LocalMachineBlock LMb;
  record RahaxiBlock Rahaxib;
  string 255 text;// Edit ************************** Thursday, 25 February 2016 14:54:09
  record RcVc RepSpec;// Edit ************************** Thursday, 25 February 2016 14:54:09
  integer wn;// Edit ************************** Thursday, 25 February 2016 14:54:08
  WindowBegin("  ",CCPayTouchScreenDClass,CGother,RcType);
//  Modality(kModalityGlobal);
  UseView(RcVc);
  SetWRect(80,200,800,440);
  h = 210; h2 = 170; v=40;
  if (GuiType==kGuiiPhone) then begin
    h = 280; h2 = 240; v=60;
  end;
  if (GuiType==kGuiiPhone or GuiType==kGuiMetro) then begin
    PopoverWindow;
  end;
  
  wn = curwindow;
  
  getwindowrecord(wn,RepSpec);
  
  EditFieldTLX(10,v=6, -80,"",M4Str,ViewOnly,100,30,patM4black,f6,false,0);
  EditFieldTLX(h,v+=40, 140,"",M4Val,Normal,0,30,patM4black,vals0,true,0);
  /*BlockLoad(LMb);
  if (LMb.CCRequireAuthCode!=0) then begin
    EnterSkip(f1);
    EditFieldTLX(h,v=v+40, 140,"",M4Str,Normal,20,30,patM4black,f1,false,0);
  end;*/
  //EditFieldTLX(h,v=v+40, 100,"",M4Str,ViewOnly,5,30,patM4black,CurncyCode,false,0);
  BlockLoad(Rahaxib);
  v = v+70;

  if (GuiType==kGuiiPhone) then begin
    h = 160; h2 = 450;
  end else begin
    h=50; h2 = 370;
  end;
  if (GuiType==kGuiiPhone) then begin
    ColourPushButton(h,v+=20,h+165,v+48,"CancelCCPayTouchScreenDClass","",20);
    ColourPushButton(h+=180,v,h+165,v+48,"ProceedCCPayTouchScreenDClass","",20);
  end else begin
    ColourPushButton(h,v+=20,h+165,v+48,"CancelCCPayTouchScreenDClass","<BR>F2",20);
    ColourPushButton(h+=180,v,h+165,v+48,"ProceedCCPayTouchScreenDClass","<BR>F1",20);
    //ColourPushButton(h2,v=3,h2+70,v+50,"CashPayTouchScreenKeypad","<BR>F3",2);
  end;
  EndWindow;
end;