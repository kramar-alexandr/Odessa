Globalupdating procedure FillINFromGigieneMn()BEGIN  Boolean TrHs;  record INVc INr;  record PLVc Plr;  record IPVc IPr;  record OPVc OPr;  record ORVc ORr;  record POVc POr;  record PUVc PUr;  record ShVc Shp;  record StockMovVc StockMovr;  record RetPUVc RetPUr;  record VIVc VIr;  record IVVc IVr;  record CLInVc CLInr;  record CLOutVc CLOutr;  record CUVc CUr;  TrHs = true;  while (LoopMain(INr,1,TrHs)) begin    if (TrHs) then begin      RecordDelete(INr);      StepBack(INr);   end;  end;    TrHs = true;  while (LoopMain(Plr,1,TrHs)) begin    if (TrHs) then begin      RecordDelete(Plr);      StepBack(Plr);   end;  end;    TrHs = true;  while (LoopMain(IPr,1,TrHs)) begin    if (TrHs) then begin      RecordDelete(IPr);      StepBack(IPr);   end;  end;    TrHs = true;  while (LoopMain(OPr,1,TrHs)) begin    if (TrHs) then begin      RecordDelete(OPr);      StepBack(OPr);   end;  end;    TrHs = true;  while (LoopMain(ORr,1,TrHs)) begin    if (TrHs) then begin      RecordDelete(ORr);      StepBack(ORr);   end;  end;    TrHs = true;  while (LoopMain(POr,1,TrHs)) begin    if (TrHs) then begin      RecordDelete(POr);      StepBack(POr);   end;  end;    TrHs = true;  while (LoopMain(PUr,1,TrHs)) begin    if (TrHs) then begin      RecordDelete(PUr);      StepBack(PUr);   end;  end;    TrHs = true;  while (LoopMain(Shp,1,TrHs)) begin    if (TrHs) then begin      RecordDelete(Shp);      StepBack(Shp);   end;  end;    TrHs = true;  while (LoopMain(StockMovr,1,TrHs)) begin    if (TrHs) then begin      RecordDelete(StockMovr);      StepBack(StockMovr);   end;  end;    TrHs = true;  while (LoopMain(RetPUr,1,TrHs)) begin    if (TrHs) then begin      RecordDelete(RetPUr);      StepBack(RetPUr);   end;  end;    TrHs = true;  while (LoopMain(VIr,1,TrHs)) begin    if (TrHs) then begin      RecordDelete(VIr);      StepBack(VIr);   end;  end;    TrHs = true;  while (LoopMain(CLInr,1,TrHs)) begin    if (TrHs) then begin      RecordDelete(CLInr);      StepBack(CLInr);   end;  end;    TrHs = true;  while (LoopMain(CLOutr,1,TrHs)) begin    if (TrHs) then begin      RecordDelete(CLOutr);      StepBack(CLOutr);   end;  end;    TrHs = true;  while (LoopMain(CUr,1,TrHs)) begin    if (TrHs) then begin      RecordDelete(CUr);      StepBack(CUr);   end;  end;    TrHs = true;  while (LoopMain(IVr,1,TrHs)) begin    if (TrHs) then begin      RecordDelete(IVr);      StepBack(IVr);   end;  end;  RETURN;END;global updating procedure FixPrepaymentMn(record RcVc RepSpec)begin	record IPVc IPr;	row IPVc IPrw;	integer mtrw,i;	boolean changed;		while(loopmain(IPr,1,true))begin		changed = false;		if(IPr.TakeOnRate!=0)then begin			mtrw = matrowcnt(IPr);			For(i=0;i<mtrw;i=i+1) begin	  		matrowget(IPr,i,IPrw);	  		if(IPrw.InvoiceNr==-1 and IPrw.InvVal!=IPrw.RecVal and IPrw.InvCurncy==IPrw.RecCurncy)then begin	  			IPrw.RecVal = IPrw.InvVal;	  			matrowput(IPr,i,IPrw);	  			changed = true;	  		end;			end; 		end;				if(changed)then begin			recordstore(IPr,true);		end;	end;return;end;