global updating procedure RecalcINVolumeMn() //Edit***************************Sasha2,13:44 24.06.2014 {begin	record INVc INr;	roundmode rnd;			rnd = DefaultValRoundoff;  	rnd.decimals = 0;  	rnd.mode = kRoundingModeHalfUp;		INr.Code = "";	while(loopmain(INr,1,true))begin		if (INr.Volume > 0) then begin			//INr.Volume = Round(INr.Volume,rnd) / 100000; //Edit***************************Sasha2,17:25 30.07.2014			INr.Volume = INr.Volume / 1000; //Edit***************************Sasha2,11:24 31.07.2014			RECORDSTORE(INr, true);		end;	end;	return;end; //Edit***************************Sasha2,13:45 24.06.2014 }global updating procedure DelLoyaltyCardMn() //Edit***************************Sasha2,13:44 24.06.2014 {begin	record LoyaltyCardVc LoyaltyCardr;	Boolean TrHs;		LoyaltyCardr.SerNr = "";	TrHs = true;	while(loopmain(LoyaltyCardr,1,TrHs))begin		if (TrHs) then begin			RecordDelete(LoyaltyCardr);    		StepBack(LoyaltyCardr);		end;	end;	return;end; //Edit***************************Sasha2,13:45 24.06.2014 }global updating procedure CleaningMn() //Edit------------------------------Dima,   24.12.2014begin	record CLInVc CLInr;	record CLOutVc CLOutr;	record IPVc IPr;	record OPVc OPr;	record IVVc IVr;	record VIVc VIr;	record POVc POr;	record SHVc SHr;	record PUVc PUr;	record SDVc SDr;	record StockMovVc StockMovr;	record RetVc Retr;	record RetPUVc RetPUr;	record ORVc ORr;	record TRVc TRr;	record FBVc FBr;	record ItemHistVc IHr;	record ItemStatusVc ISr;	record PPVc PPr;	record CUVc CUr;	record INVc INr;	Boolean TrHs;			TrHs = true;	while (LoopMain(CLInr,1,TrHs)) begin	  if (TrHs) then begin	    RecordDelete(CLInr);	    StepBack(CLInr);	  end;	end;	TrHs = true;	while (LoopMain(CLOutr,1,TrHs)) begin	  if (TrHs) then begin	    RecordDelete(CLOutr);	    StepBack(CLOutr);	  end;	end;	TrHs = true;	while (LoopMain(IPr,1,TrHs)) begin	  if (TrHs) then begin	    RecordDelete(IPr);	    StepBack(IPr);	  end;	end;	TrHs = true;	while (LoopMain(IVr,1,TrHs)) begin	  if (TrHs) then begin	    RecordDelete(IVr);	    StepBack(IVr);	  end;	end;	TrHs = true;	while (LoopMain(VIr,1,TrHs)) begin	  if (TrHs) then begin	    RecordDelete(VIr);	    StepBack(VIr);	  end;	end;	TrHs = true;	while (LoopMain(POr,1,TrHs)) begin	  if (TrHs) then begin	    RecordDelete(POr);	    StepBack(POr);	  end;	end;	TrHs = true;	while (LoopMain(OPr,1,TrHs)) begin	  if (TrHs) then begin	    RecordDelete(OPr);	    StepBack(OPr);	  end;	end;	TrHs = true;	while (LoopMain(SHr,1,TrHs)) begin	  if (TrHs) then begin	    RecordDelete(SHr);	    StepBack(SHr);	  end;	end;	TrHs = true;	while (LoopMain(PUr,1,TrHs)) begin	  if (TrHs) then begin	    RecordDelete(PUr);	    StepBack(PUr);	  end;	end;	TrHs = true;	while (LoopMain(SDr,1,TrHs)) begin	  if (TrHs) then begin	    RecordDelete(SDr);	    StepBack(SDr);	  end;	end;	TrHs = true;	while (LoopMain(StockMovr,1,TrHs)) begin	  if (TrHs) then begin	    RecordDelete(StockMovr);	    StepBack(StockMovr);	  end;	end;	TrHs = true;	while (LoopMain(Retr,1,TrHs)) begin	  if (TrHs) then begin	    RecordDelete(Retr);	    StepBack(Retr);	  end;	end;	TrHs = true;	while (LoopMain(RetPUr,1,TrHs)) begin	  if (TrHs) then begin	    RecordDelete(RetPUr);	    StepBack(RetPUr);	  end;	end;	TrHs = true;	while (LoopMain(ORr,1,TrHs)) begin	  if (TrHs) then begin	    RecordDelete(ORr);	    StepBack(ORr);	  end;	end;	TrHs = true;	while (LoopMain(TRr,1,TrHs)) begin	  if (TrHs) then begin	    RecordDelete(TRr);	    StepBack(TRr);	  end;	end;	TrHs = true;	while (LoopMain(FBr,1,TrHs)) begin	  if (TrHs) then begin	    RecordDelete(FBr);	    StepBack(FBr);	  end;	end;	TrHs = true;	while (LoopMain(IHr,1,TrHs)) begin	  if (TrHs) then begin	    RecordDelete(IHr);	    StepBack(IHr);	  end;	end;	TrHs = true;	while (LoopMain(ISr,1,TrHs)) begin	  if (TrHs) then begin	    RecordDelete(ISr);	    StepBack(ISr);	  end;	end;	TrHs = true;	while (LoopMain(PPr,1,TrHs)) begin	  if (TrHs) then begin	    RecordDelete(PPr);	    StepBack(PPr);	  end;	end;	TrHs = true;	while (LoopMain(CUr,1,TrHs)) begin	  if (TrHs and (CUr.VEType==0)) then begin	    RecordDelete(CUr);	    StepBack(CUr);	  end;	end;	TrHs = true;	while (LoopMain(INr,1,TrHs)) begin	  if (TrHs) then begin	    RecordDelete(INr);	    StepBack(INr);	  end;	end;return;end;